/*! For license information please see block-imagely-block.min.js.LICENSE.txt */
(()=>{var e,t,r={6629:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(1609),a=r.n(n),o=r(2858);const i=function(e){var t=e.htmlFor,r=e.help,n=e.tooltipPlacement,i=void 0===n?"top":n,l=e.children,c=e.className,s=a().createElement("div",{className:"flex items-center"},a().createElement("span",null,l),r&&a().createElement(o.m,{text:r,placement:i}));return t?a().createElement("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700 mb-1 ".concat(c||"")},s):a().createElement("div",{className:"block text-sm font-medium text-gray-700 mb-2 ".concat(c||"")},s)}},9292:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(1609),a=r.n(n);const o=function(e){var t=e.size,r=void 0===t?"lg":t,n=e.color,o=void 0===n?"green":n,i=e.className,l=void 0===i?"":i,c=e.text,s=e.centerInContainer,u=void 0===s||s,d=a().createElement("div",{className:"flex flex-col items-center gap-2"},a().createElement("div",{className:"animate-spin rounded-full border-b-2 ".concat({sm:"h-4 w-4",md:"h-8 w-8",lg:"h-16 w-16",xl:"h-32 w-32"}[r]," ").concat({green:"border-green-600",blue:"border-blue-600",gray:"border-gray-600",red:"border-red-600"}[o]," ").concat(l)}),c&&a().createElement("div",{className:"text-sm text-gray-600 font-medium"},c));return u?a().createElement("div",{className:"flex items-center justify-center ".concat({sm:"h-16",md:"h-32",lg:"h-48",xl:"h-64"}[r])},d):d}},7196:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(6106),a=r(1609),o=r.n(a),i=r(1313);const l=function(e){var t=e.isOpen,r=e.onClose,l=e.title,c=void 0===l?"":l,s=e.children,u=e.id,d=e.showHeader,m=void 0===d||d,f=(0,i.L)(function(){return r()},t);return(0,a.useEffect)(function(){var e=function(e){"Escape"===e.key&&t&&r()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}},[t,r]),(0,a.useEffect)(function(){return document.body.style.overflow=t?"hidden":"unset",function(){document.body.style.overflow="unset"}},[t]),t?o().createElement("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",id:u},o().createElement("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-20 transition-opacity duration-300 ease-in-out"}),o().createElement("div",{className:"flex min-h-screen items-center justify-center p-2 text-center sm:p-0"},o().createElement("div",{ref:f,className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all duration-300 ease-in-out w-full max-w-lg sm:my-8 sm:w-full sm:max-w-lg"},m&&o().createElement("div",{className:"flex justify-between items-center p-3 sm:p-4 ".concat(c?"border-b":"")},o().createElement("h2",{className:"text-base sm:text-lg font-medium text-gray-900 pr-2",id:"modal-title"},c),o().createElement("button",{onClick:r,className:"text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 flex-shrink-0","aria-label":"Close modal"},o().createElement(n.US,{className:"h-6 w-6"}))),o().createElement("div",{className:"p-3 sm:p-4"},s)))):null}},7899:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(1609),a=r.n(n),o=r(6629);const i=function(e){var t=e.id,r=e.name,n=e.value,i=e.onChange,l=e.children,c=e.label,s=e.help,u=e.tooltipPlacement;return a().createElement(a().Fragment,null,a().createElement(o.A,{htmlFor:t,help:s,tooltipPlacement:u,className:c?void 0:"hidden"},c||""),a().createElement("select",{id:t,name:r,value:n,onChange:i,className:"bg-white border text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full max-w-full p-2.5 hover:border-green-500 border-gray-400 transition-colors"},l))}},3597:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(1609),a=r.n(n),o=r(6629);const i=function(e){var t=e.id,r=e.name,n=e.value,i=e.onChange,l=e.label,c=e.help,s=e.placeholder,u=void 0===s?"":s,d=e.rows,m=void 0===d?4:d;return a().createElement(a().Fragment,null,a().createElement(o.A,{htmlFor:null!=t?t:r,help:c,className:l?void 0:"hidden"},l||""),a().createElement("textarea",{id:null!=t?t:r,name:r,value:n,onChange:i,rows:m,className:"bg-white border border-input-border text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5 hover:border-gray-400 transition-colors",placeholder:u}))}},5909:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(8168),a=r(2026),o=r(1609),i=r.n(o),l=r(6629);const c=function(e){var t=e.type,r=e.id,o=e.name,c=e.value,s=e.onChange,u=e.label,d=e.help,m=e.min,f=void 0===m?0:m,p=e.max,g=void 0===p?1e4:p,h=e.step,y=void 0===h?1:h,v=e.placeholder,b=void 0===v?"":v,w=e.minString,x=e.maxString,E=e.tooltipPlacement,_=e.prefix,C=null!=c?c:"";return i().createElement(i().Fragment,null,i().createElement(l.A,{htmlFor:null!=r?r:o,help:d,tooltipPlacement:E,className:u?void 0:"hidden"},u||""),i().createElement("div",{className:"relative ".concat(_?"has-prefix":"")},_&&i().createElement("span",{className:"absolute inset-y-0 ".concat((0,a.Di)(_)," flex items-center text-gray-500 text-sm pointer-events-none px-2")},_),i().createElement("input",(0,n.A)({type:t,id:null!=r?r:o,name:o,value:C,onChange:s,className:"bg-white border text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full ".concat(_?"".concat((0,a.LX)(_).left," pr-2.5 py-2.5"):"p-2.5"," hover:border-green-500 border-gray-400 transition-colors")},"number"===t&&{min:f,max:g,step:y},"number"!==t&&{min:w,max:x},{placeholder:b}))))}},6415:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(9836),a=r(1609),o=r.n(a),i=r(2858);const l=function(e){var t=e.id,r=e.name,a=e.checked,l=e.onChange,c=e.label,s=e.help,u=(0,n._w)(a);return o().createElement("div",{className:"relative inline-flex items-start gap-3 w-full"},o().createElement("div",{className:"relative"},o().createElement("input",{type:"checkbox",id:t,name:r,checked:u,onChange:l,className:"sr-only peer"}),o().createElement("label",{htmlFor:t,className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 rounded-full inline-block cursor-pointer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})),o().createElement("div",{className:"flex items-center gap-1"},o().createElement("label",{htmlFor:t,className:"text-sm font-medium text-gray-900 cursor-pointer"},c),s&&o().createElement(i.m,{text:s})))}},2858:(e,t,r)=>{"use strict";r.d(t,{m:()=>m});var n=r(3453),a=r(6106),o=r(1609),i=r.n(o),l=r(5795),c=r.n(l),s=r(6434),u=r(2887),d=function(){return i().createElement("div",{className:"ml-1 w-4 h-4 text-gray-500 hover:text-gray-700"},i().createElement(a.JG,null))},m=function(e){var t=e.text,r=e.children,a=void 0===r?i().createElement(d,null):r,l=e.placement,m=void 0===l?"top":l,f=(0,o.useRef)(null),p=(0,o.useRef)(null),g=(0,o.useState)(!1),h=(0,n.A)(g,2),y=h[0],v=h[1],b=(0,o.useState)(null),w=(0,n.A)(b,2),x=w[0],E=w[1],_=(0,s.K)(u.i,y);return(0,o.useLayoutEffect)(function(){if(y&&f.current&&p.current){var e=f.current.getBoundingClientRect(),t=p.current.getBoundingClientRect(),r=(0,u.i)().getBoundingClientRect(),n=0,a=0;switch(m){case"right":n=e.top+e.height/2-t.height/2-_.offsetY,a=e.right+8-_.offsetX;break;case"bottom":n=e.bottom+8-_.offsetY,a=e.left+e.width/2-t.width/2-_.offsetX;break;default:n=e.top-t.height-8-_.offsetY,a=e.left+e.width/2-t.width/2-_.offsetX}var o=r.width-16,i=r.height-16;a<16&&(a=16),a+t.width>o&&(a=o-t.width),n<16&&(n=16),n+t.height>i&&(n=i-t.height),E({top:n,left:a})}},[y,t,m,_]),i().createElement("div",{className:"relative inline-block",ref:f},i().createElement("div",{className:"inline-block cursor-help align-middle",onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)}},a),y&&c().createPortal(i().createElement("div",{ref:p,style:{position:"absolute",top:x?"".concat(x.top,"px"):"0",left:x?"".concat(x.left,"px"):"0",opacity:x?1:0,zIndex:9999},className:"px-3 py-2 text-sm text-white bg-gray-900 rounded-lg shadow-lg min-w-[200px] sm:min-w-[280px] max-w-[calc(100vw-2rem)] sm:max-w-md whitespace-normal break-words pointer-events-none transition-opacity duration-200"},t),(0,u.i)()))}},6106:(e,t,r)=>{"use strict";r.d(t,{$$:()=>rt,$C:()=>je,$O:()=>Ye,AR:()=>We,B8:()=>Ne,BK:()=>pe,D3:()=>oe,F:()=>qe,F4:()=>et,GG:()=>de,GR:()=>Le,IJ:()=>he,IP:()=>$e,JG:()=>Se,JM:()=>Fe,Jp:()=>Ve,Kj:()=>ze,L6:()=>ge,Nl:()=>Oe,Nr:()=>ie,P7:()=>ke,R3:()=>fe,R6:()=>be,RY:()=>Be,SX:()=>Ie,US:()=>le,VB:()=>ve,WI:()=>xe,YG:()=>we,ZH:()=>Ce,aP:()=>Te,b4:()=>Re,c1:()=>ce,eZ:()=>He,fN:()=>Ke,gX:()=>Xe,ic:()=>Ue,ik:()=>Me,it:()=>Ae,m:()=>Pe,mo:()=>me,oE:()=>ye,qP:()=>tt,qU:()=>se,qX:()=>Ze,sj:()=>_e,sq:()=>Qe,uc:()=>Ee,wl:()=>Ge,xK:()=>ue,xe:()=>Je,xz:()=>De});var n=r(8168),a=r(45),o=r(1609),i=r.n(o),l=["className"],c=["className"],s=["className"],u=["className"],d=["className"],m=["className"],f=["className"],p=["className"],g=["className"],h=["className"],y=["className"],v=["className"],b=["className"],w=["className"],x=["className"],E=["className"],_=["className"],C=["className"],N=["className"],O=["className"],S=["className"],k=["className"],j=["className"],A=["className"],P=["className"],T=["className"],D=["className"],I=["className"],L=["className"],R=["className"],F=["className"],G=["className"],M=["className"],q=["className"],H=["className"],Q=["className"],z=["className"],K=["className"],W=["className"],B=["className"],U=["className"],V=["className"],X=["className"],Z=["className"],Y=["className"],$=["className"],J=["className"],ee=["className"],te=["className"],re=["className"],ne=["className"],ae=["className"],oe=function(e){var t=e.className,r=(0,a.A)(e,l);return i().createElement("svg",(0,n.A)({xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 20 20",fill:"currentColor"},r),i().createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}))},ie=function(e){var t=e.className,r=(0,a.A)(e,c);return i().createElement("svg",(0,n.A)({xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 20 20",fill:"currentColor"},r),i().createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"}))},le=function(e){var t=e.className,r=(0,a.A)(e,s);return i().createElement("svg",(0,n.A)({className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},r),i().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))},ce=function(e){var t=e.className,r=(0,a.A)(e,u);return i().createElement("svg",(0,n.A)({className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},r),i().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"}))},se=function(e){var t=e.className,r=(0,a.A)(e,d);return i().createElement("svg",(0,n.A)({className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},r),i().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"}))},ue=function(e){var t=e.className,r=(0,a.A)(e,m);return i().createElement("svg",(0,n.A)({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t},r),i().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"}))},de=function(e){var t=e.className,r=(0,a.A)(e,f);return i().createElement("svg",(0,n.A)({width:"20",height:"20",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},r),i().createElement("path",{d:"M14.7461 17.2533H8.32279L9.70145 18.6005C9.95211 18.8512 10.0774 19.154 10.0774 19.5091C10.0774 19.8642 9.95211 20.1671 9.70145 20.4177C9.45078 20.6684 9.1479 20.7937 8.79279 20.7937C8.43768 20.7937 8.13479 20.6684 7.88413 20.4177L4.34349 16.8773C4.21816 16.752 4.12917 16.6162 4.07653 16.47C4.02389 16.3238 3.99841 16.1671 4.00008 16C4.00175 15.8329 4.02807 15.6762 4.07904 15.53C4.13001 15.3838 4.21857 15.248 4.34474 15.1227L7.88538 11.5823C8.13605 11.3316 8.43392 11.2063 8.779 11.2063C9.12408 11.2063 9.42154 11.3316 9.67137 11.5823C9.9212 11.8329 10.0465 12.1308 10.0474 12.4758C10.0482 12.8209 9.92287 13.1183 9.67137 13.3681L8.29146 14.7467H14.7461V8.29244L13.3361 9.70236C13.0854 9.95301 12.793 10.0733 12.4588 10.0633C12.1245 10.0533 11.8321 9.92252 11.5814 9.67103C11.3308 9.41954 11.2054 9.1221 11.2054 8.77871C11.2054 8.43531 11.3308 8.13745 11.5814 7.88513L15.1221 4.34467C15.2474 4.21934 15.3832 4.13036 15.5294 4.07772C15.6756 4.02508 15.8323 3.99918 15.9994 4.00002C16.1665 4.00086 16.3232 4.02676 16.4694 4.07772C16.6156 4.12869 16.7514 4.21767 16.8767 4.34467L20.4487 7.91646C20.6994 8.16711 20.8247 8.45954 20.8247 8.79375C20.8247 9.12795 20.6994 9.42038 20.4487 9.67103C20.198 9.92168 19.9002 10.047 19.5551 10.047C19.21 10.047 18.9125 9.92168 18.6627 9.67103L17.2527 8.29244V14.7467H23.676L22.2974 13.3995C22.0467 13.1488 21.9214 12.846 21.9214 12.4909C21.9214 12.1358 22.0467 11.8329 22.2974 11.5823C22.548 11.3316 22.8509 11.2063 23.206 11.2063C23.5611 11.2063 23.864 11.3316 24.1147 11.5823L27.6553 15.1227C27.7806 15.248 27.8696 15.3838 27.9223 15.53C27.9749 15.6762 28.0008 15.8329 28 16C27.9991 16.1671 27.9732 16.3238 27.9223 16.47C27.8713 16.6162 27.7823 16.752 27.6553 16.8773L24.0833 20.4491C23.8327 20.6997 23.5402 20.82 23.206 20.81C22.8718 20.8 22.5794 20.6692 22.3287 20.4177C22.078 20.1663 21.9527 19.8688 21.9527 19.5254C21.9527 19.182 22.078 18.8842 22.3287 18.6318L23.7073 17.2533H17.2527V23.6762L18.6 22.2976C18.8507 22.047 19.1536 21.9217 19.5087 21.9217C19.8638 21.9217 20.1667 22.047 20.4174 22.2976C20.668 22.5483 20.7934 22.8512 20.7934 23.2063C20.7934 23.5613 20.668 23.8642 20.4174 24.1149L16.8767 27.6553C16.7514 27.7807 16.6156 27.8696 16.4694 27.9223C16.3232 27.9749 16.1665 28.0008 15.9994 28C15.8323 27.9991 15.6756 27.9732 15.5294 27.9223C15.3832 27.8713 15.2474 27.7823 15.1221 27.6553L11.5501 24.0835C11.2994 23.8329 11.1795 23.5354 11.1904 23.1912C11.2013 22.847 11.3316 22.5491 11.5814 22.2976C11.8313 22.0462 12.1291 21.9208 12.4751 21.9217C12.821 21.9225 13.1184 22.0478 13.3674 22.2976L14.7461 23.7076V17.2533Z",fill:"currentColor"}))},me=function(e){var t=e.className,r=(0,a.A)(e,p);return i().createElement("svg",(0,n.A)({className:t,fill:"#EBAD35",viewBox:"0 0 18 18"},r),i().createElement("path",{d:"M8.167 4.833h1.666V6.5H8.167V4.833zm0 3.333h1.666v5H8.167v-5zM9 .666A8.336 8.336 0 00.667 9c0 4.6 3.733 8.333 8.333 8.333S17.333 13.6 17.333 9 13.6.667 9 .667zm0 15A6.676 6.676 0 012.333 9 6.676 6.676 0 019 2.333 6.675 6.675 0 0115.667 9 6.675 6.675 0 019 15.666z"}))},fe=function(e){var t=e.className,r=(0,a.A)(e,g);return i().createElement("svg",(0,n.A)({className:t,fill:"none",viewBox:"0 0 20 20"},r),i().createElement("path",{fill:"#D99B3D",d:"M6.25 9.167a2.81 2.81 0 01-2.063-.854 2.81 2.81 0 01-.854-2.063c0-.805.285-1.493.854-2.062a2.81 2.81 0 012.063-.854 2.81 2.81 0 012.062.854c.57.57.855 1.257.855 2.062a2.81 2.81 0 01-.855 2.063 2.81 2.81 0 01-2.062.854zm0-1.667c.347 0 .642-.121.885-.364s.365-.539.365-.886-.122-.642-.365-.885A1.205 1.205 0 006.25 5c-.347 0-.642.122-.886.365A1.205 1.205 0 005 6.25c0 .347.121.643.364.886.244.243.539.364.886.364zm7.5 9.167a2.81 2.81 0 01-2.063-.854 2.81 2.81 0 01-.854-2.063c0-.805.285-1.493.854-2.062a2.81 2.81 0 012.063-.854 2.81 2.81 0 012.062.854c.57.57.855 1.257.855 2.062a2.81 2.81 0 01-.855 2.063 2.81 2.81 0 01-2.062.854zm0-1.667c.347 0 .642-.121.885-.364s.365-.539.365-.886-.122-.642-.365-.885a1.206 1.206 0 00-.885-.365c-.347 0-.642.122-.886.365a1.205 1.205 0 00-.364.885c0 .347.121.643.364.886.244.243.539.364.886.364zM4.5 16.667L3.333 15.5 15.5 3.334 16.667 4.5 4.5 16.667z"}))},pe=function(e){var t=e.className,r=(0,a.A)(e,h);return i().createElement("svg",(0,n.A)({className:t,fill:"#37993B",viewBox:"0 0 21 20"},r),i().createElement("path",{d:"M10.5 1.667A8.336 8.336 0 002.167 10c0 4.6 3.733 8.333 8.333 8.333S18.833 14.6 18.833 10 15.1 1.667 10.5 1.667zm0 15A6.676 6.676 0 013.833 10 6.676 6.676 0 0110.5 3.333 6.675 6.675 0 0117.167 10a6.675 6.675 0 01-6.667 6.666zm3.825-10.35l-5.492 5.491-2.158-2.15L5.5 10.833l3.333 3.333L15.5 7.5l-1.175-1.184z"}))},ge=function(e){var t=e.className,r=(0,a.A)(e,y);return i().createElement("svg",(0,n.A)({className:t,fill:"currentColor",fillOpacity:"0.7",viewBox:"0 0 20 20"},r),i().createElement("path",{fillRule:"evenodd",d:"M16.252 10a6.5 6.5 0 01-.058.816l1.758 1.375c.158.125.2.35.1.534l-1.667 2.883a.413.413 0 01-.358.208.47.47 0 01-.15-.025l-2.075-.833a6.4 6.4 0 01-1.409.817l-.316 2.208c-.025.2-.2.35-.409.35H8.335a.406.406 0 01-.408-.35l-.317-2.208a6.088 6.088 0 01-1.408-.817l-2.075.833a.416.416 0 01-.508-.183l-1.667-2.883a.42.42 0 01.1-.534l1.758-1.375A6.61 6.61 0 013.752 10c0-.275.025-.55.058-.817L2.052 7.808a.41.41 0 01-.1-.533L3.618 4.39a.413.413 0 01.359-.208c.05 0 .1.008.15.025l2.075.833c.433-.325.9-.608 1.408-.816l.317-2.208c.025-.2.2-.35.408-.35h3.333c.209 0 .384.15.409.35l.316 2.208c.509.208.975.483 1.409.817l2.075-.834a.416.416 0 01.508.183l1.667 2.884a.42.42 0 01-.1.533l-1.759 1.375a6.5 6.5 0 01.059.817zm-1.667 0c0-.175-.008-.35-.042-.608l-.116-.942.742-.583.891-.709-.583-1.008-1.059.425-.883.358-.758-.583a4.726 4.726 0 00-1.025-.592l-.884-.358-.133-.942-.158-1.125H9.418l-.166 1.125-.134.942-.883.358a4.881 4.881 0 00-1.042.609l-.75.566-.866-.35-1.059-.425-.583 1.008.9.7.742.584-.117.942c-.025.25-.042.441-.042.608 0 .166.017.358.042.617l.117.941-.742.584-.9.7.583 1.008 1.059-.425.883-.359.758.584c.334.25.667.441 1.025.591l.884.359.133.941.158 1.125h1.167l.167-1.125.133-.941.883-.358a4.886 4.886 0 001.042-.609l.75-.566.867.35 1.058.425.584-1.009-.9-.7-.742-.583.117-.942c.024-.25.041-.433.041-.608zm-4.583-3.333A3.332 3.332 0 1013.335 10a3.332 3.332 0 00-3.333-3.333zM8.335 10c0 .916.75 1.666 1.667 1.666.916 0 1.666-.75 1.666-1.666 0-.917-.75-1.667-1.666-1.667-.917 0-1.667.75-1.667 1.667z",clipRule:"evenodd"}))},he=function(e){var t=e.className,r=(0,a.A)(e,v);return i().createElement("svg",(0,n.A)({className:t,viewBox:"0 0 20 20",fill:"currentColor"},r),i().createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))},ye=function(e){var t=e.className,r=(0,a.A)(e,b);return i().createElement("svg",(0,n.A)({className:t,width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5286 0.195262C3.78894 -0.0650874 4.21106 -0.0650874 4.4714 0.195262L7.80474 3.5286C8.06509 3.78894 8.06509 4.21106 7.80474 4.4714C7.54439 4.73175 7.12228 4.73175 6.86193 4.4714L4 1.60948L1.13807 4.4714C0.877722 4.73175 0.455612 4.73175 0.195262 4.4714C-0.0650874 4.21106 -0.0650874 3.78894 0.195262 3.5286L3.5286 0.195262ZM0.195262 7.5286C0.455612 7.26825 0.877722 7.26825 1.13807 7.5286L4 10.3905L6.86193 7.5286C7.12228 7.26825 7.54439 7.26825 7.80474 7.5286C8.06509 7.78895 8.06509 8.21106 7.80474 8.4714L4.4714 11.8047C4.21106 12.0651 3.78894 12.0651 3.5286 11.8047L0.195262 8.4714C-0.0650874 8.21106 -0.0650874 7.78895 0.195262 7.5286Z",fill:"#B7B7B7"}))},ve=function(e){var t=e.className,r=(0,a.A)(e,w);return i().createElement("svg",(0,n.A)({className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},r),i().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"}))},be=function(e){var t=e.className,r=(0,a.A)(e,x);return i().createElement("svg",(0,n.A)({className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},r),i().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"}))},we=function(e){var t=e.className,r=(0,a.A)(e,E);return i().createElement("svg",(0,n.A)({width:"16",height:"18",viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},r),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.6667 0.833374C11.1269 0.833374 11.5 1.20647 11.5 1.66671V2.50004H16.5C16.9603 2.50004 17.3334 2.87314 17.3334 3.33337C17.3334 3.79361 16.9603 4.16671 16.5 4.16671H11.5V5.00004C11.5 5.46028 11.1269 5.83337 10.6667 5.83337C10.2064 5.83337 9.83335 5.46028 9.83335 5.00004V1.66671C9.83335 1.20647 10.2064 0.833374 10.6667 0.833374ZM0.666687 3.33337C0.666687 2.87314 1.03978 2.50004 1.50002 2.50004H7.33335C7.79359 2.50004 8.16669 2.87314 8.16669 3.33337C8.16669 3.79361 7.79359 4.16671 7.33335 4.16671H1.50002C1.03978 4.16671 0.666687 3.79361 0.666687 3.33337ZM5.66669 7.50004C6.12692 7.50004 6.50002 7.87314 6.50002 8.33337V11.6667C6.50002 12.1269 6.12692 12.5 5.66669 12.5C5.20645 12.5 4.83335 12.1269 4.83335 11.6667V10.8334H1.50002C1.03978 10.8334 0.666687 10.4603 0.666687 10C0.666687 9.5398 1.03978 9.16671 1.50002 9.16671H4.83335V8.33337C4.83335 7.87314 5.20645 7.50004 5.66669 7.50004ZM8.16669 10C8.16669 9.5398 8.53978 9.16671 9.00002 9.16671H16.5C16.9603 9.16671 17.3334 9.5398 17.3334 10C17.3334 10.4603 16.9603 10.8334 16.5 10.8334H9.00002C8.53978 10.8334 8.16669 10.4603 8.16669 10ZM12.3334 14.1667C12.7936 14.1667 13.1667 14.5398 13.1667 15V15.8334H16.5C16.9603 15.8334 17.3334 16.2065 17.3334 16.6667C17.3334 17.1269 16.9603 17.5 16.5 17.5H13.1667V18.3334C13.1667 18.7936 12.7936 19.1667 12.3334 19.1667C11.8731 19.1667 11.5 18.7936 11.5 18.3334V15C11.5 14.5398 11.8731 14.1667 12.3334 14.1667ZM0.666687 16.6667C0.666687 16.2065 1.03978 15.8334 1.50002 15.8334H9.00002C9.46026 15.8334 9.83335 16.2065 9.83335 16.6667C9.83335 17.1269 9.46026 17.5 9.00002 17.5H1.50002C1.03978 17.5 0.666687 17.1269 0.666687 16.6667Z",fill:"black",fillOpacity:"0.6"}))},xe=function(e){var t=e.className,r=(0,a.A)(e,_);return i().createElement("svg",(0,n.A)({width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},r),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.33334 2.66634C4.75601 2.66634 2.66668 4.75568 2.66668 7.33301C2.66668 9.91034 4.75601 11.9997 7.33334 11.9997C9.91067 11.9997 12 9.91034 12 7.33301C12 4.75568 9.91067 2.66634 7.33334 2.66634ZM1.33334 7.33301C1.33334 4.0193 4.01963 1.33301 7.33334 1.33301C10.6471 1.33301 13.3333 4.0193 13.3333 7.33301C13.3333 8.74968 12.8424 10.0517 12.0213 11.0781L14.4714 13.5283C14.7318 13.7886 14.7318 14.2107 14.4714 14.4711C14.2111 14.7314 13.789 14.7314 13.5286 14.4711L11.0785 12.0209C10.052 12.842 8.75002 13.333 7.33334 13.333C4.01963 13.333 1.33334 10.6467 1.33334 7.33301Z",fill:"black"}))},Ee=function(e){var t=e.className,r=(0,a.A)(e,C);return i().createElement("svg",(0,n.A)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},r),i().createElement("path",{d:"M6 7V19C6 20.1046 6.89543 21 8 21H16C17.1046 21 18 20.1046 18 19V7M6 7H5M6 7H8M18 7H19M18 7H16M10 11V17M14 11V17M8 7V5C8 3.89543 8.89543 3 10 3H14C15.1046 3 16 3.89543 16 5V7M8 7H16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},_e=function(e){var t=e.className,r=(0,a.A)(e,N);return i().createElement("svg",(0,n.A)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},r),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.59306 2.74482C5.49465 2.69241 5.38466 2.66552 5.27316 2.66662L5.26663 2.66668L2.66663 2.66665C2.48981 2.66665 2.32025 2.73689 2.19522 2.86191C2.0702 2.98694 1.99996 3.1565 1.99996 3.33332V12C1.99996 12.1768 2.0702 12.3464 2.19522 12.4714C2.32025 12.5964 2.48982 12.6666 2.66663 12.6666H12.3045C12.453 12.6677 12.5977 12.619 12.7154 12.5284C12.8332 12.4378 12.9173 12.3105 12.9545 12.1667L13.9811 8.16665C14.0066 8.06804 14.0091 7.96491 13.9885 7.86517C13.9679 7.76543 13.9248 7.67173 13.8623 7.59127C13.7999 7.51081 13.7198 7.44573 13.6283 7.40101C13.5368 7.35629 13.4363 7.33314 13.3345 7.33331L13.3333 7.33332H6.169C6.05041 7.3372 5.93496 7.37267 5.83461 7.43612C5.73244 7.50071 5.64976 7.59185 5.5954 7.6998L5.59214 7.70628L4.5921 9.6396C4.42295 9.96663 4.02071 10.0946 3.69368 9.92546C3.36664 9.75631 3.23866 9.35407 3.40781 9.02703L4.40631 7.09661C4.56941 6.7743 4.81676 6.50216 5.12213 6.30911C5.42862 6.11535 5.78201 6.00856 6.14452 6.00016L6.15996 5.99998H12.6666V5.33332C12.6666 5.15651 12.5964 4.98694 12.4714 4.86191C12.3463 4.73689 12.1768 4.66665 12 4.66665H8.04663C7.71552 4.6666 7.38949 4.58434 7.09802 4.42725C6.80777 4.27083 6.56072 4.0451 6.37883 3.77015L5.83646 2.96664C5.77514 2.87352 5.69148 2.79723 5.59306 2.74482ZM14 6.11354C14.0727 6.13916 14.1441 6.16903 14.2138 6.20307C14.4883 6.33721 14.7284 6.53247 14.9157 6.77385C15.103 7.01523 15.2325 7.29632 15.2943 7.59554C15.3561 7.8946 15.3485 8.20384 15.2722 8.49953L14.2455 12.5C14.134 12.9315 13.8817 13.3135 13.5284 13.5853C13.1758 13.8565 12.7428 14.0024 12.298 14H12.3L12.2955 14L12.298 14H2.66663C2.13619 14 1.62748 13.7893 1.25241 13.4142C0.87734 13.0391 0.666626 12.5304 0.666626 12V3.33332C0.666626 2.80288 0.87734 2.29418 1.25241 1.9191C1.62749 1.54403 2.13619 1.33332 2.66663 1.33332H5.26369L5.26009 1.33335L5.26663 1.33332H5.26369C5.59694 1.33065 5.9256 1.4113 6.21979 1.56797C6.5138 1.72454 6.76403 1.95206 6.94778 2.22985L7.4901 3.03329C7.55081 3.12547 7.63341 3.20116 7.73057 3.25352C7.8277 3.30586 7.93629 3.33328 8.04663 3.33332H12C12.5304 3.33332 13.0391 3.54403 13.4142 3.9191C13.7892 4.29418 14 4.80288 14 5.33332V6.11354Z",fill:"black",fillOpacity:"0.6"}))},Ce=function(e){var t=e.className,r=(0,a.A)(e,O);return i().createElement("svg",(0,n.A)({width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},r),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.00008 2.33341C5.63189 2.33341 5.33342 2.63189 5.33342 3.00008V12.0001C5.33342 12.3683 5.63189 12.6667 6.00008 12.6667H7.9049L12.3828 8.18883C12.8781 7.69366 13.5498 7.41544 14.2501 7.41544C14.7558 7.41544 15.2466 7.5605 15.6667 7.82757V3.00008C15.6667 2.63189 15.3683 2.33341 15.0001 2.33341H6.00008ZM17.3334 3.00008C17.3334 1.71142 16.2887 0.666748 15.0001 0.666748H6.00008C4.71142 0.666748 3.66675 1.71142 3.66675 3.00008V12.0001C3.66675 13.2887 4.71142 14.3334 6.00008 14.3334H8.2495C8.24989 14.3334 8.25027 14.3334 8.25066 14.3334H15.0001C16.2887 14.3334 17.3334 13.2887 17.3334 12.0001V3.00008ZM15.6667 10.0953L14.9389 9.36738C14.9389 9.36737 14.9389 9.3674 14.9389 9.36738C14.7562 9.18475 14.5084 9.08211 14.2501 9.08211C13.9918 9.08211 13.744 9.1847 13.5613 9.36734C13.5613 9.36735 13.5614 9.36732 13.5613 9.36734L10.2619 12.6667H15.0001C15.3683 12.6667 15.6667 12.3683 15.6667 12.0001V10.0953ZM1.50008 3.66675C1.96032 3.66675 2.33341 4.03984 2.33341 4.50008V15.0001C2.33341 15.1769 2.40365 15.3465 2.52868 15.4715C2.6537 15.5965 2.82327 15.6667 3.00008 15.6667H13.5001C13.9603 15.6667 14.3334 16.0398 14.3334 16.5001C14.3334 16.9603 13.9603 17.3334 13.5001 17.3334H3.00008C2.38124 17.3334 1.78775 17.0876 1.35017 16.65C0.912581 16.2124 0.666748 15.6189 0.666748 15.0001V4.50008C0.666748 4.03984 1.03984 3.66675 1.50008 3.66675ZM9.00008 5.33342C8.63189 5.33342 8.33342 5.63189 8.33342 6.00008C8.33342 6.36827 8.63189 6.66675 9.00008 6.66675C9.36827 6.66675 9.66675 6.36827 9.66675 6.00008C9.66675 5.63189 9.36827 5.33342 9.00008 5.33342ZM6.66675 6.00008C6.66675 4.71142 7.71142 3.66675 9.00008 3.66675C10.2887 3.66675 11.3334 4.71142 11.3334 6.00008C11.3334 7.28875 10.2887 8.33342 9.00008 8.33342C7.71142 8.33342 6.66675 7.28875 6.66675 6.00008Z",fill:"white"}))},Ne=function(e){var t=e.className,r=(0,a.A)(e,S);return i().createElement("svg",(0,n.A)({width:"18",height:"14",viewBox:"0 0 18 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},r),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.00008 0.5C9.46032 0.5 9.83342 0.873096 9.83342 1.33333V8.11089L11.4192 6.56917C11.7492 6.24835 12.2768 6.25578 12.5976 6.58577C12.9184 6.91576 12.911 7.44334 12.581 7.76416L9.58098 10.6808C9.25755 10.9953 8.74262 10.9953 8.41918 10.6808L5.41918 7.76416C5.0892 7.44334 5.08176 6.91576 5.40259 6.58577C5.72341 6.25578 6.25099 6.24835 6.58098 6.56917L8.16675 8.11089V1.33333C8.16675 0.873096 8.53984 0.5 9.00008 0.5ZM1.35852 2.62131C1.79779 2.19424 2.3887 1.95833 3.00008 1.95833H6.00008C6.46032 1.95833 6.83341 2.33143 6.83341 2.79167C6.83341 3.2519 6.46032 3.625 6.00008 3.625H3.00008C2.81581 3.625 2.64366 3.69639 2.52032 3.8163C2.39778 3.93543 2.33341 4.09194 2.33341 4.25V11.5417C2.33341 11.6997 2.39778 11.8562 2.52032 11.9754C2.64366 12.0953 2.81581 12.1667 3.00008 12.1667H15.0001C15.1843 12.1667 15.3565 12.0953 15.4798 11.9754C15.6024 11.8562 15.6667 11.6997 15.6667 11.5417V4.25C15.6667 4.09194 15.6024 3.93543 15.4798 3.8163C15.3565 3.69639 15.1843 3.625 15.0001 3.625H12.0001C11.5398 3.625 11.1667 3.2519 11.1667 2.79167C11.1667 2.33143 11.5398 1.95833 12.0001 1.95833H15.0001C15.6115 1.95833 16.2024 2.19424 16.6416 2.62131C17.0817 3.04915 17.3334 3.63452 17.3334 4.25V11.5417C17.3334 12.1572 17.0817 12.7425 16.6416 13.1704C16.2024 13.5974 15.6115 13.8333 15.0001 13.8333H3.00008C2.3887 13.8333 1.79779 13.5974 1.35852 13.1704C0.918453 12.7425 0.666748 12.1572 0.666748 11.5417V4.25C0.666748 3.63452 0.918453 3.04915 1.35852 2.62131Z",fill:"currentColor",fillOpacity:"0.6"}))},Oe=function(e){var t=e.className,r=(0,a.A)(e,k);return i().createElement("svg",(0,n.A)({className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},r),i().createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i().createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}))},Se=function(e){var t=e.className,r=(0,a.A)(e,j);return i().createElement("svg",(0,n.A)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t},r),i().createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}))},ke=function(e){var t=e.className,r=(0,a.A)(e,A);return i().createElement("svg",(0,n.A)({width:"188",height:"188",viewBox:"0 0 188 188",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},r),i().createElement("g",{clipPath:"url(#clip0_2670_9370)"},i().createElement("g",{filter:"url(#filter0_f_2670_9370)"},i().createElement("circle",{cx:"92",cy:"96",r:"64",fill:"#CEEDCB"})),i().createElement("rect",{x:"8",y:"50",width:"48",height:"56",rx:"12",fill:"white"}),i().createElement("rect",{x:"68",y:"74",width:"48",height:"48",rx:"12",fill:"white"}),i().createElement("rect",{x:"128",y:"50",width:"48",height:"56",rx:"12",fill:"white"}),i().createElement("rect",{x:"8",y:"118",width:"48",height:"48",rx:"12",fill:"white"}),i().createElement("rect",{x:"68",y:"134",width:"48",height:"56",rx:"12",fill:"white"}),i().createElement("rect",{x:"128",y:"118",width:"48",height:"48",rx:"12",fill:"white"}),i().createElement("path",{d:"M90.1857 22.6128C90.4395 20.4624 93.5606 20.4624 93.8144 22.6128C94.0287 24.429 96.4828 24.8385 97.2753 23.1903C98.2135 21.2388 101.166 22.2523 100.707 24.3686C100.32 26.1559 102.509 27.3401 103.793 26.0385C105.314 24.4974 107.777 26.4145 106.657 28.2673C105.71 29.8322 107.395 31.6627 109.033 30.8488C110.972 29.8851 112.679 32.498 111.018 33.8866C109.615 35.0594 110.614 37.3379 112.427 37.0998C114.574 36.818 115.34 39.8436 113.318 40.6175C111.61 41.2711 111.816 43.7506 113.608 44.1142C115.73 44.5447 115.472 47.6552 113.308 47.7305C111.48 47.7942 110.87 50.206 112.447 51.1319C114.314 52.2281 113.06 55.0864 110.989 54.455C109.24 53.9217 107.879 56.0046 109.07 57.3924C110.48 59.0355 108.366 61.3318 106.612 60.0621C105.131 58.9897 103.168 60.5179 103.844 62.2172C104.644 64.2292 101.899 65.7147 100.652 63.9443C99.5993 62.449 97.2461 63.2568 97.3336 65.0835C97.4372 67.2464 94.3587 67.7601 93.7544 65.6808C93.244 63.9247 90.756 63.9247 90.2457 65.6808C89.6414 67.7601 86.5628 67.2464 86.6665 65.0835C86.754 63.2568 84.4008 62.449 83.3478 63.9443C82.1011 65.7147 79.3562 64.2292 80.1565 62.2172C80.8324 60.5179 78.869 58.9897 77.3876 60.0621C75.6336 61.3318 73.5197 59.0355 74.93 57.3924C76.121 56.0046 74.7602 53.9217 73.0109 54.455C70.9396 55.0864 69.6859 52.2281 71.5532 51.1319C73.1303 50.206 72.5196 47.7942 70.6919 47.7305C68.5279 47.6552 68.2701 44.5447 70.3922 44.1142C72.1845 43.7506 72.39 41.2711 70.682 40.6175C68.6597 39.8436 69.4259 36.818 71.5728 37.0998C73.386 37.3379 74.3854 35.0594 72.9822 33.8866C71.3208 32.498 73.0279 29.8851 74.9669 30.8488C76.6046 31.6627 78.2897 29.8322 77.3433 28.2673C76.2228 26.4145 78.6858 24.4974 80.2069 26.0385C81.4916 27.3401 83.6797 26.1559 83.2927 24.3686C82.8345 22.2523 85.7865 21.2388 86.7248 23.1903C87.5173 24.8385 89.9713 24.429 90.1857 22.6128Z",fill:"#BAE0B5"}),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M105.333 44.0003C105.333 51.3641 99.3638 57.3337 92.0001 57.3337C84.6363 57.3337 78.6667 51.3641 78.6667 44.0003C78.6667 36.6365 84.6363 30.667 92.0001 30.667C99.3638 30.667 105.333 36.6365 105.333 44.0003ZM97.3738 39.9599C97.7643 40.3504 97.7643 40.9836 97.3738 41.3741L90.7071 48.0407C90.3166 48.4313 89.6835 48.4313 89.293 48.0407L86.6263 45.3741C86.2358 44.9835 86.2358 44.3505 86.6263 43.9599C87.0168 43.5694 87.65 43.5694 88.0405 43.9599L90.0001 45.9194L92.9798 42.9397L95.9597 39.9599C96.3502 39.5694 96.9833 39.5694 97.3738 39.9599Z",fill:"#11A800"})),i().createElement("defs",null,i().createElement("filter",{id:"filter0_f_2670_9370",x:"-32",y:"-28",width:"248",height:"248",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i().createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i().createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),i().createElement("feGaussianBlur",{stdDeviation:"30",result:"effect1_foregroundBlur_2670_9370"})),i().createElement("clipPath",{id:"clip0_2670_9370"},i().createElement("rect",{width:"188",height:"188",fill:"white"}))))},je=function(e){var t=e.className,r=(0,a.A)(e,P);return i().createElement("svg",(0,n.A)({className:t,fill:"currentColor",viewBox:"0 0 20 20"},r),i().createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}))},Ae=function(e){var t=e.className,r=(0,a.A)(e,T);return i().createElement("svg",(0,n.A)({className:t,fill:"currentColor",viewBox:"0 0 20 20"},r),i().createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"}))},Pe=function(e){var t=e.className,r=(0,a.A)(e,D);return i().createElement("svg",(0,n.A)({className:t,fill:"currentColor",viewBox:"0 0 20 20"},r),i().createElement("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"}))},Te=function(e){var t=e.className,r=(0,a.A)(e,I);return i().createElement("svg",(0,n.A)({className:t,fill:"currentColor",viewBox:"0 0 20 20"},r),i().createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))},De=function(e){var t=e.className,r=(0,a.A)(e,L);return i().createElement("svg",(0,n.A)({className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 4C4.44772 4 4 4.44772 4 5V19C4 19.5523 4.44771 20 5 20H5.58579L14.3789 11.2069C14.9415 10.6445 15.7045 10.3284 16.5 10.3284C17.2955 10.3284 18.0584 10.6444 18.621 11.2068L20 12.5858V5C20 4.44771 19.5523 4 19 4H5ZM22 14.999V5C22 3.34315 20.6569 2 19 2H5C3.34315 2 2 3.34315 2 5V19C2 20.6569 3.34315 22 5 22H5.99902C5.99967 22 6.00033 22 6.00098 22H19C20.6569 22 22 20.6569 22 19V15.001C22 15.0003 22 14.9997 22 14.999ZM20 15.4142L17.207 12.6212C17.207 12.6212 17.207 12.6212 17.207 12.6212C17.0195 12.4338 16.7651 12.3284 16.5 12.3284C16.2349 12.3284 15.9806 12.4337 15.7931 12.6211C15.7931 12.6211 15.7931 12.6211 15.7931 12.6211L8.41421 20H19C19.5523 20 20 19.5523 20 19V15.4142ZM9 8C8.44772 8 8 8.44772 8 9C8 9.55228 8.44772 10 9 10C9.55228 10 10 9.55228 10 9C10 8.44772 9.55228 8 9 8ZM6 9C6 7.34315 7.34315 6 9 6C10.6569 6 12 7.34315 12 9C12 10.6569 10.6569 12 9 12C7.34315 12 6 10.6569 6 9Z"}))},Ie=function(e){var t=e.className,r=(0,a.A)(e,R);return i().createElement("svg",(0,n.A)({xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"currentColor"},r),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.8769 3.00024C19.7295 3.00024 19.5835 3.02928 19.4473 3.08571C19.3111 3.14213 19.1873 3.22483 19.083 3.32909L15.064 7.34809C14.7827 7.62929 14.4012 7.78737 14.0034 7.78737C13.6057 7.78737 13.2242 7.6294 12.9429 7.34819L11.9989 6.40414C11.7344 6.13976 11.3758 5.99123 11.0019 5.99123C10.628 5.99123 10.2694 6.13976 10.005 6.40414L9.41466 6.99446L17.0064 14.5853L17.5968 13.9949C17.5967 13.9949 17.5968 13.9949 17.5968 13.9949C17.8611 13.7305 18.0097 13.3719 18.0097 12.998C18.0097 12.6241 17.8611 12.2655 17.5968 12.001L16.6528 11.0571C16.3716 10.7758 16.2135 10.3942 16.2135 9.99648C16.2135 9.59873 16.3715 9.21727 16.6527 8.93598L20.6707 4.91696C20.775 4.8127 20.8578 4.68885 20.9142 4.55263C20.9706 4.41642 20.9997 4.27042 20.9997 4.12298C20.9997 3.97554 20.9706 3.82954 20.9142 3.69333C20.8578 3.55711 20.7751 3.43334 20.6708 3.32909C20.5666 3.22483 20.4428 3.14213 20.3066 3.08571C20.1704 3.02928 20.0244 3.00024 19.8769 3.00024ZM14.9361 15.3435L9.11337 9.52147C8.31287 10.4827 7.43798 11.1765 6.48488 11.6882C5.50406 12.2149 4.4692 12.5328 3.41064 12.7669L4.51148 14.1028L14.2092 16.7479C14.349 16.5378 14.4739 16.334 14.5816 16.1393C14.7635 15.8103 14.8745 15.5452 14.9361 15.3435ZM15.3971 18.5292C15.4153 18.5068 15.4326 18.4836 15.449 18.4596C15.7849 18.0068 16.0869 17.5501 16.3319 17.107C16.4022 16.9798 16.4704 16.8493 16.5346 16.7162C16.6854 16.7662 16.8446 16.7924 17.0064 16.7924C17.4042 16.7924 17.7856 16.6344 18.0669 16.3532L19.011 15.4091C19.6504 14.7696 20.0097 13.9023 20.0097 12.998C20.0097 12.0937 19.6505 11.2264 19.0111 10.5869L18.4206 9.99644L22.085 6.33109C22.085 6.33111 22.0851 6.33106 22.085 6.33109C22.375 6.04113 22.605 5.69683 22.762 5.318C22.9189 4.93913 22.9997 4.53306 22.9997 4.12298C22.9997 3.7129 22.9189 3.30683 22.762 2.92796C22.605 2.54909 22.375 2.20484 22.085 1.91487C21.7951 1.6249 21.4508 1.39488 21.0719 1.23795C20.6931 1.08102 20.287 1.00024 19.8769 1.00024C19.4668 1.00024 19.0608 1.08102 18.6819 1.23795C18.303 1.39488 17.9588 1.6249 17.6688 1.91487L14.0034 5.58027L13.413 4.98987C12.7735 4.35048 11.9062 3.99123 11.0019 3.99123C10.0976 3.99123 9.23035 4.35043 8.59087 4.98982L7.64681 5.93387C7.36561 6.21516 7.20753 6.59673 7.20753 6.99448C7.20753 7.39223 7.3655 7.77369 7.64671 8.05498L7.69182 8.10009C7.01435 8.95034 6.29888 9.51802 5.53871 9.92621C4.5816 10.4402 3.50727 10.727 2.23479 10.9647C1.97809 11.012 1.73806 11.1252 1.53824 11.2932C1.33775 11.4617 1.18466 11.6796 1.09404 11.9254C1.00343 12.1711 0.978422 12.4362 1.02149 12.6946C1.06457 12.9529 1.17423 13.1956 1.33966 13.3986L3.16744 15.6167C3.16959 15.6193 3.17175 15.622 3.17392 15.6246L8.66319 22.2859C8.67719 22.3029 8.69175 22.3194 8.70685 22.3355C9.00421 22.6513 9.39618 22.8619 9.82368 22.9355C10.2512 23.0091 10.691 22.9417 11.0769 22.7435C11.1143 22.7243 11.1504 22.7027 11.1851 22.6789C12.3371 21.8897 13.7491 20.5544 14.8741 19.1924C15.0545 18.9739 15.2298 18.7521 15.3971 18.5292ZM12.8708 18.4559L6.71505 16.7769L10.1591 20.9563C10.9668 20.3843 11.9732 19.463 12.8708 18.4559Z"}))},Le=function(e){var t=e.className,r=(0,a.A)(e,F);return i().createElement("svg",(0,n.A)({xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"currentColor"},r),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.5579 3.02796C16.0749 2.97339 15.5839 2.9892 15.1002 3.07733C14.1003 3.25952 13.1796 3.74211 12.4609 4.46081C11.7422 5.1795 11.2596 6.10016 11.0774 7.10009C10.8953 8.10001 11.0221 9.13172 11.4412 10.0577C11.6128 10.4369 11.5315 10.8828 11.2372 11.1771L4.32721 18.0871C4.11692 18.2974 3.99878 18.5826 3.99878 18.88C3.99878 19.1774 4.11692 19.4626 4.32721 19.6729C4.5375 19.8832 4.82271 20.0013 5.1201 20.0013C5.41749 20.0013 5.7027 19.8832 5.91299 19.6729L12.823 12.7629C13.1173 12.4686 13.5632 12.3873 13.9424 12.5589C14.8684 12.978 15.9001 13.1048 16.9 12.9226C17.8999 12.7404 18.8206 12.2578 19.5393 11.5392C20.258 10.8205 20.7406 9.8998 20.9228 8.89987C21.0109 8.41622 21.0267 7.92514 20.9721 7.44218L18.4001 10.0142C18.0263 10.3806 17.5236 10.5858 17.0001 10.5858C16.4766 10.5858 15.974 10.3806 15.6001 10.0141L15.593 10.0071L13.9859 8.40002C13.6195 8.02616 13.4142 7.52349 13.4142 6.99998C13.4142 6.47647 13.6195 5.97384 13.986 5.59998L13.993 5.59284L16.5579 3.02796ZM14.7417 1.10972C16.1416 0.854655 17.586 1.03228 18.8824 1.61892C19.1815 1.75426 19.3951 2.02777 19.4539 2.35073C19.5127 2.67369 19.4093 3.00496 19.1772 3.23709L15.4143 6.99998L17.0001 8.58577L20.763 4.82287C20.9951 4.59075 21.3264 4.48733 21.6493 4.54618C21.9723 4.60502 22.2458 4.81863 22.3812 5.11771C22.9678 6.41409 23.1454 7.85848 22.8904 9.25838C22.6353 10.6583 21.9597 11.9472 20.9535 12.9534C19.9473 13.9595 18.6584 14.6352 17.2585 14.8902C16.091 15.103 14.8927 15.0147 13.775 14.6393L7.32721 21.0871C6.74185 21.6724 5.94793 22.0013 5.1201 22.0013C4.29227 22.0013 3.49835 21.6724 2.91299 21.0871C2.32763 20.5017 1.99878 19.7078 1.99878 18.88C1.99878 18.0522 2.32763 17.2582 2.91299 16.6729L9.36075 10.2251C8.98534 9.10743 8.89713 7.90903 9.10984 6.74158C9.3649 5.34169 10.0405 4.05277 11.0467 3.0466C12.0529 2.04042 13.3418 1.36478 14.7417 1.10972Z"}))},Re=function(e){var t=e.className,r=(0,a.A)(e,G);return i().createElement("svg",(0,n.A)({width:"34",height:"43",viewBox:"0 0 34 43",fill:"none",className:t},r),i().createElement("ellipse",{cx:"16.9999",cy:"41.3026",rx:"11.3158",ry:"1.69737",fill:"black",fillOpacity:"0.15"}),i().createElement("path",{d:"M5.68408 7.78931H28.3157V33.0788C28.3157 34.7356 26.9725 36.0788 25.3157 36.0788H8.68408C7.02723 36.0788 5.68408 34.7356 5.68408 33.0788V7.78931Z",fill:"#FF7366"}),i().createElement("path",{d:"M1.15771 8.22485H32.8419M5.40114 8.22485H28.5985L27.4669 33.2937C27.4669 34.0324 27.1689 34.7409 26.6383 35.2633C26.1078 35.7856 25.3883 36.0791 24.638 36.0791H9.36166C8.61138 36.0791 7.89182 35.7856 7.36129 35.2633C6.83076 34.7409 6.53271 34.0324 6.53271 33.2937L5.40114 8.22485Z",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i().createElement("path",{d:"M12.4741 14.6578V29.6577M21.5258 14.6578V29.6577M11.3425 3.06577H22.6572C23.1749 3.06577 23.6315 3.37946 23.8152 3.85263L25.5731 8.22485H8.42651L10.1844 3.85263C10.3681 3.37946 10.8247 3.06577 11.3425 3.06577Z",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},Fe=function(e){var t=e.className,r=(0,a.A)(e,M);return i().createElement("svg",(0,n.A)({width:"41",height:"40",viewBox:"0 0 41 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},r),i().createElement("circle",{cx:"20.5",cy:"20",r:"20",fill:"#EBF6EA"}),i().createElement("g",{clipPath:"url(#clip0_upload_icon)"},i().createElement("path",{d:"M24 24L20 20L16 24",stroke:"#22c55e",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i().createElement("path",{d:"M20 20V29",stroke:"#22c55e",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i().createElement("path",{d:"M28.39 26.39C29.3654 25.8583 30.1359 25.0169 30.5799 23.9986C31.0239 22.9804 31.1162 21.8432 30.8422 20.7667C30.5682 19.6901 29.9435 18.7355 29.0667 18.0534C28.1899 17.3714 27.1109 17.0007 26 17H24.74C24.4373 15.8292 23.8732 14.7423 23.09 13.821C22.3068 12.8996 21.3249 12.1678 20.2181 11.6806C19.1114 11.1933 17.9086 10.9633 16.7001 11.0079C15.4917 11.0524 14.3091 11.3703 13.2412 11.9376C12.1733 12.505 11.2479 13.3071 10.5346 14.2836C9.82135 15.26 9.33871 16.3855 9.123 17.5754C8.90729 18.7652 8.96413 19.9885 9.28923 21.1532C9.61434 22.318 10.1993 23.3938 11 24.3",stroke:"#22c55e",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i().createElement("path",{d:"M24 24L20 20L16 24",stroke:"#22c55e",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),i().createElement("defs",null,i().createElement("clipPath",{id:"clip0_upload_icon"},i().createElement("rect",{width:"24",height:"24",fill:"white",transform:"translate(8 8)"}))))},Ge=function(e){var t=e.className,r=(0,a.A)(e,q);return i().createElement("svg",(0,n.A)({className:t,fill:"currentColor",viewBox:"0 0 20 20"},r),i().createElement("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"}))},Me=function(e){var t=e.className,r=(0,a.A)(e,H);return i().createElement("svg",(0,n.A)({className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},r),i().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"}))},qe=function(e){var t=e.className,r=(0,a.A)(e,Q);return i().createElement("svg",(0,n.A)({className:t,fill:"currentColor",viewBox:"0 0 20 20"},r),i().createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"}))},He=function(e){var t=e.className,r=(0,a.A)(e,z);return i().createElement("svg",(0,n.A)({className:t,viewBox:"0 0 20 20",fill:"currentColor"},r),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.33301 3.33329C2.87277 3.33329 2.49967 3.70639 2.49967 4.16663V12.5C2.49967 12.9602 2.87277 13.3333 3.33301 13.3333H16.6663C17.1266 13.3333 17.4997 12.9602 17.4997 12.5V4.16663C17.4997 3.70639 17.1266 3.33329 16.6663 3.33329H3.33301ZM10.833 15H16.6663C18.0471 15 19.1663 13.8807 19.1663 12.5V4.16663C19.1663 2.78591 18.0471 1.66663 16.6663 1.66663H3.33301C1.9523 1.66663 0.833008 2.78591 0.833008 4.16663V12.5C0.833008 13.8807 1.9523 15 3.33301 15H9.16634V16.6666H6.66634C6.2061 16.6666 5.83301 17.0397 5.83301 17.5C5.83301 17.9602 6.2061 18.3333 6.66634 18.3333H13.333C13.7932 18.3333 14.1663 17.9602 14.1663 17.5C14.1663 17.0397 13.7932 16.6666 13.333 16.6666H10.833V15Z"}))},Qe=function(e){var t=e.className,r=(0,a.A)(e,K);return i().createElement("svg",(0,n.A)({className:t,viewBox:"0 0 14 20",fill:"currentColor"},r),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.83301 2.50004C2.37277 2.50004 1.99967 2.87314 1.99967 3.33337V16.6667C1.99967 17.1269 2.37277 17.5 2.83301 17.5H11.1663C11.6266 17.5 11.9997 17.1269 11.9997 16.6667V3.33337C11.9997 2.87314 11.6266 2.50004 11.1663 2.50004H2.83301ZM0.333008 3.33337C0.333008 1.95266 1.4523 0.833374 2.83301 0.833374H11.1663C12.5471 0.833374 13.6663 1.95266 13.6663 3.33337V16.6667C13.6663 18.0474 12.5471 19.1667 11.1663 19.1667H2.83301C1.4523 19.1667 0.333008 18.0474 0.333008 16.6667V3.33337ZM6.16634 15C6.16634 14.5398 6.53944 14.1667 6.99967 14.1667H7.00801C7.46825 14.1667 7.84134 14.5398 7.84134 15C7.84134 15.4603 7.46825 15.8334 7.00801 15.8334H6.99967C6.53944 15.8334 6.16634 15.4603 6.16634 15Z"}))},ze=function(e){var t=e.className,r=(0,a.A)(e,W);return i().createElement("svg",(0,n.A)({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:t},r),i().createElement("path",{d:"M15.8333 10H4.16663",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i().createElement("path",{d:"M9.99996 15.8332L4.16663 9.99984L9.99996 4.1665",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},Ke=function(e){var t=e.className,r=(0,a.A)(e,B);return i().createElement("svg",(0,n.A)({className:t,viewBox:"0 0 20 20",fill:"currentColor"},r),i().createElement("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"}))},We=function(e){var t=e.className,r=(0,a.A)(e,U);return i().createElement("svg",(0,n.A)({className:t,width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),i().createElement("path",{d:"M1.5 3H2.5H10.5",stroke:"#374151",strokeLinecap:"round",strokeLinejoin:"round"}),i().createElement("path",{d:"M9.5 3V10C9.5 10.2652 9.39464 10.5196 9.20711 10.7071C9.01957 10.8946 8.76522 11 8.5 11H3.5C3.23478 11 2.98043 10.8946 2.79289 10.7071C2.60536 10.5196 2.5 10.2652 2.5 10V3M4 3V2C4 1.73478 4.10536 1.48043 4.29289 1.29289C4.48043 1.10536 4.73478 1 5 1H7C7.26522 1 7.51957 1.10536 7.70711 1.29289C7.89464 1.48043 8 1.73478 8 2V3",stroke:"#374151",strokeLinecap:"round",strokeLinejoin:"round"}))},Be=function(e){var t=e.className,r=(0,a.A)(e,V);return i().createElement("svg",(0,n.A)({className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},r),i().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"}))},Ue=function(e){var t=e.className,r=(0,a.A)(e,X);return i().createElement("svg",(0,n.A)({xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 240 240",width:"240.0pt",height:"240.0pt",className:t},r),i().createElement("path",{d:"M 0.00 0.00 L 240.00 0.00 L 240.00 240.00 L 0.00 240.00 L 0.00 0.00 Z",fill:"#ffffff"}),i().createElement("path",{d:"M 116.97 3.45 C 155.78 2.17 194.29 21.78 215.90 54.07 C 226.92 70.43 234.08 89.34 236.07 109.00 C 239.08 140.20 228.61 172.42 208.14 196.12 C 191.73 215.41 168.66 228.79 143.97 234.16 C 125.25 238.08 105.37 237.44 87.04 231.86 C 67.00 226.07 48.82 214.65 34.69 199.32 C 14.08 177.26 2.88 147.13 3.50 117.00 C 4.36 95.58 10.72 74.49 22.55 56.55 C 35.03 37.69 52.63 22.36 73.52 13.50 C 87.07 6.87 101.94 3.80 116.97 3.45 Z",fill:"#9fbb1a"}),i().createElement("path",{d:"M 69.17 61.47 C 70.78 61.56 72.37 61.91 73.97 62.05 C 80.30 62.27 86.66 62.04 93.00 62.14 C 96.81 62.23 100.65 61.35 104.18 62.75 C 108.45 64.30 111.62 68.44 111.67 73.03 C 111.78 81.35 111.66 89.68 111.72 98.00 C 111.65 101.03 111.87 104.65 110.30 107.35 C 108.22 110.91 104.17 113.41 100.02 113.40 C 90.68 113.43 81.33 113.42 71.99 113.40 C 65.66 113.41 59.85 108.54 59.66 102.04 C 59.55 92.36 59.70 82.67 59.58 72.99 C 59.41 67.44 63.60 62.15 69.17 61.47 Z",fill:"#ffffff"}),i().createElement("path",{d:"M 138.98 61.27 C 148.33 61.42 157.69 61.22 167.04 61.37 C 173.28 61.31 178.81 66.69 178.70 72.96 C 178.72 82.65 178.75 92.34 178.68 102.02 C 178.48 108.28 173.18 112.96 167.02 113.04 C 157.69 113.25 148.33 113.02 138.99 113.15 C 132.77 113.56 126.76 108.35 126.66 102.04 C 126.55 94.37 126.67 86.68 126.62 79.00 C 126.63 76.33 126.42 73.60 126.72 70.94 C 127.60 65.24 133.25 60.88 138.98 61.27 Z",fill:"#ffffff"}),i().createElement("path",{d:"M 70.97 72.97 C 80.41 72.70 89.87 72.92 99.31 72.86 C 99.39 82.36 99.34 91.87 99.34 101.38 C 89.85 101.36 80.36 101.42 70.87 101.35 C 70.90 91.90 70.70 82.42 70.97 72.97 Z",fill:"#9fbb1a"}),i().createElement("path",{d:"M 138.39 72.91 C 147.80 72.79 157.23 72.85 166.65 72.88 C 166.65 82.41 166.85 91.97 166.55 101.49 C 157.18 101.27 147.79 101.39 138.41 101.42 C 138.30 91.92 138.36 82.41 138.39 72.91 Z",fill:"#9fbb1a"}),i().createElement("path",{d:"M 69.96 128.72 C 77.95 128.35 86.00 128.68 94.00 128.66 C 97.84 128.75 101.40 128.12 104.93 129.93 C 109.12 131.86 111.63 136.43 111.39 141.00 C 111.31 150.34 111.48 159.70 111.31 169.04 C 111.25 175.45 105.33 180.72 99.01 180.44 C 90.00 180.43 81.00 180.42 71.99 180.44 C 67.16 180.64 62.37 177.99 60.28 173.57 C 59.04 171.04 59.32 167.76 59.27 165.00 C 59.38 156.70 59.15 148.39 59.37 140.10 C 59.59 134.25 64.10 129.27 69.96 128.72 Z",fill:"#ffffff"}),i().createElement("path",{d:"M 137.96 128.68 C 146.96 128.36 156.00 128.45 165.00 128.61 C 167.68 128.64 170.26 129.00 172.61 130.36 C 176.44 132.46 178.51 136.68 178.41 140.99 C 178.39 150.33 178.47 159.67 178.37 169.01 C 178.48 174.84 173.95 180.48 167.95 180.68 C 159.31 180.89 150.65 180.67 142.00 180.78 C 139.64 180.74 137.05 180.91 134.76 180.27 C 129.71 178.66 126.48 173.17 126.62 168.01 C 126.61 161.01 126.64 154.00 126.62 147.00 C 126.71 143.40 126.11 139.00 127.75 135.73 C 129.57 131.70 133.51 128.85 137.96 128.68 Z",fill:"#ffffff"}),i().createElement("path",{d:"M 70.98 140.01 C 80.41 139.71 89.87 139.94 99.31 139.89 C 99.40 149.41 99.33 158.93 99.35 168.45 C 89.85 168.43 80.36 168.47 70.86 168.42 C 70.91 158.96 70.69 149.47 70.98 140.01 Z",fill:"#9fbb1a"}),i().createElement("path",{d:"M 138.45 140.41 C 147.84 140.29 157.27 140.44 166.67 140.35 C 166.70 149.82 166.71 159.29 166.67 168.77 C 157.24 168.71 147.81 168.71 138.38 168.77 C 138.39 159.32 138.24 149.85 138.45 140.41 Z",fill:"#9fbb1a"}))},Ve=function(e){var t=e.className,r=(0,a.A)(e,Z);return i().createElement("svg",(0,n.A)({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},r),i().createElement("path",{d:"M15.8327 10H4.16602",stroke:"#374151",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i().createElement("path",{d:"M9.99935 15.8332L4.16602 9.99984L9.99935 4.1665",stroke:"#374151",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},Xe=function(e){var t=e.className,r=(0,a.A)(e,Y);return i().createElement("svg",(0,n.A)({width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},r),i().createElement("path",{d:"M4.6665 10.625H16.3332",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),i().createElement("path",{d:"M10.5 4.79175L16.3333 10.6251L10.5 16.4584",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))},Ze=function(e){var t=e.className,r=(0,a.A)(e,$);return i().createElement("svg",(0,n.A)({xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",fill:"none",className:t},r),i().createElement("g",{clipPath:"url(#empty_state_clip)"},i().createElement("ellipse",{cx:"32",cy:"57",fill:"#000",fillOpacity:".1",rx:"20",ry:"2"}),i().createElement("path",{fill:"#F1F1F1",d:"M49.492 35.1c-.297 1.419-1.74 2.563-3.182 2.563H17.569c-1.442 0-2.885-1.144-3.182-2.564L9.1 10.564C8.78 9.144 9.718 8 11.16 8h41.558c1.443 0 2.381 1.145 2.06 2.564z"}),i().createElement("path",{fill:"#D2D2D2",d:"M38.775 13.742c-1.443 0-3.022 1.122-3.526 2.473l-1.443 4.075c-.48 1.374-2.06 2.496-3.525 2.496H9.608c-1.442 0-2.313 1.122-1.946 2.519l5.836 24.967c.366 1.397 1.854 2.542 3.297 2.542h30.383c1.442 0 2.93-1.145 3.297-2.542l5.836-24.967c.389-1.397 1.076-3.64 1.58-5.015l1.442-4.075c.48-1.35-.298-2.473-1.74-2.473z"}),i().createElement("path",{fill:"#000",fillOpacity:".7",d:"M30.024 34.394c0 1.512-.893 2.748-1.992 2.748-1.077 0-1.97-1.236-1.97-2.748 0-1.534.893-2.77 1.97-2.77 1.099 0 1.991 1.236 1.991 2.77M41.002 34.394c0 1.512-.893 2.748-1.992 2.748s-1.969-1.236-1.969-2.748c0-1.534.87-2.77 1.97-2.77 1.098 0 1.991 1.236 1.991 2.77"}),i().createElement("path",{fill:"#000",fillOpacity:".7",fillRule:"evenodd",d:"M39.017 41.093a.547.547 0 0 1-.244.733c-2.673 1.336-7.896 1.15-10.189.047a.547.547 0 0 1 .214-1.072c3.172 1.083 6.963 1.083 9.478.05l.008-.003a.547.547 0 0 1 .733.245",clipRule:"evenodd"}),i().createElement("path",{fill:"#000",fillOpacity:".7",d:"M4.253 35.736a1.043 1.043 0 0 1-1.487-1.464l6.507-6.61 1.447 1.504z"}),i().createElement("path",{fill:"#000",fillOpacity:".7",fillRule:"evenodd",d:"M22.248 29.01c-3.866 3.686-9.99 3.548-13.69-.313-3.701-3.86-3.562-9.985.298-13.685s10-3.567 13.7.293c3.686 3.866 3.552 10.005-.308 13.706m-1.455-1.526c3.023-2.899 3.122-7.696.237-10.724-2.895-3.008-7.697-3.122-10.72-.222-3.012 2.88-3.126 7.682-.226 10.705 2.884 3.027 7.681 3.126 10.709.242",clipRule:"evenodd"}),i().createElement("path",{fill:"#fff",fillOpacity:".8",d:"M10.084 27.243c-2.9-3.023-2.786-7.825.227-10.705 3.023-2.9 7.825-2.786 10.72.222 2.884 3.028 2.785 7.825-.238 10.724-3.027 2.885-7.825 2.786-10.71-.241"})),i().createElement("defs",null,i().createElement("clipPath",{id:"empty_state_clip"},i().createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"}))))},Ye=function(e){var t=e.className,r=(0,a.A)(e,J);return i().createElement("svg",(0,n.A)({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},r),i().createElement("path",{d:"M25.3333 14.6667H6.66667C5.19391 14.6667 4 15.8607 4 17.3334V26.6667C4 28.1395 5.19391 29.3334 6.66667 29.3334H25.3333C26.8061 29.3334 28 28.1395 28 26.6667V17.3334C28 15.8607 26.8061 14.6667 25.3333 14.6667Z",stroke:"#0D0E11",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i().createElement("path",{d:"M9.3335 14.6667V9.33341C9.3335 7.5653 10.0359 5.86961 11.2861 4.61937C12.5364 3.36913 14.2321 2.66675 16.0002 2.66675C17.7683 2.66675 19.464 3.36913 20.7142 4.61937C21.9644 5.86961 22.6668 7.5653 22.6668 9.33341V14.6667",stroke:"#0D0E11",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},$e=function(e){var t=e.className,r=(0,a.A)(e,ee);return i().createElement("svg",(0,n.A)({width:"35",height:"63",viewBox:"0 0 35 63",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},r),i().createElement("path",{d:"M29.2576 53.2228C23.969 53.4453 20.1738 51.2042 17.4501 46.8813C16.741 45.7589 15.6984 44.8617 15.0777 43.5826C13.4649 40.4019 13.4307 40.2794 13.3431 36.4086C14.7597 36.2771 15.9893 36.66 17.3415 37.0086C21.3198 38.0103 25.7084 36.4546 27.8892 33.1388C28.7635 31.7723 29.6037 30.2833 30.0863 28.6961C31.0072 25.6001 30.4067 23.9192 27.8412 22.0608C26.2501 20.8547 24.5464 19.4818 22.4285 19.9412C19.9088 20.3808 17.7164 21.5213 15.8172 23.24C13.8738 25.0371 12.1997 27.089 10.9514 29.4843C10.5092 30.2679 10.1314 30.5715 9.32378 29.8067C7.20433 27.8899 5.7862 25.6451 5.24628 22.759C5.17801 22.514 5.15396 22.1906 5.00734 21.9014C3.3464 18.0739 4.20913 14.532 5.6405 10.8973C6.98342 7.41939 8.90894 4.37289 11.8089 1.97858C9.88026 0.272487 9.88022 0.272513 7.95703 1.66784C2.57533 5.34938 0.538852 10.6055 0.382867 16.9209C0.279658 20.5808 1.27965 23.9327 3.10351 26.9224C4.52164 29.1672 6.17485 31.5444 8.6822 32.9568C9.38739 33.3541 9.68059 33.9324 9.64025 34.7359C9.40672 36.9798 9.54092 39.1209 10.4005 41.2576C11.8264 44.9527 13.7084 48.3883 16.5912 51.1483C18.8573 53.3544 21.256 55.3253 24.5733 55.8514C25.4111 56.0135 25.5477 56.5035 24.9488 57.1989C24.3941 57.816 23.6043 58.3006 22.9713 58.8735C22.4267 59.2897 21.8379 59.7842 21.5624 60.4553C21.287 61.1264 21.3351 61.7731 22.2412 62.1803C23.6958 62.8964 24.8673 62.8334 26.2459 61.8542C28.2917 60.4246 30.4158 59.0392 32.4616 57.6097C34.8409 55.9549 35.2451 54.3236 33.5477 52.0248C32.8728 51.0249 32.1978 50.025 31.8565 48.8C31.7541 48.4324 31.6075 48.1433 31.3383 47.8883C30.4182 46.9569 28.5958 46.3435 28.0412 46.9605C27.187 47.9253 27.7394 48.9594 28.0908 49.9836C28.4422 51.0078 28.9946 52.0419 29.2576 53.2228ZM25.5231 28.914C25.2376 29.786 24.928 30.3346 24.4618 30.7949C23.9955 31.2552 23.5293 31.7155 23.1073 32.0975C21.2865 33.8603 17.3059 34.5098 15.1461 33.3964C14.0491 32.7785 13.9808 32.5334 14.4432 31.348C15.1267 29.7707 16.2803 28.4583 17.4339 27.1458C19.0538 25.373 21.0212 23.8993 23.4967 23.5381C25.6046 23.2796 26.7155 24.4218 26.4921 26.4648C26.3974 27.5476 25.9552 28.3312 25.5231 28.914Z",fill:"#B5CBA8"}))},Je=function(e){var t=e.className,r=(0,a.A)(e,te);return i().createElement("svg",(0,n.A)({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},r),i().createElement("path",{d:"M28.4468 19.8349C28.1951 20.4465 29.8965 22.7846 28.9876 24.0004C27.9727 25.3564 25.5245 25.1503 25.1101 25.6088C24.5757 26.1996 24.8802 28.7067 23.501 29.4862C22.0476 30.1862 19.9453 28.7209 19.3365 28.9465C18.2732 29.362 17.711 31.4941 16.0005 31.4941C14.2901 31.4941 13.7281 29.362 12.6646 28.9465C11.939 28.757 10.0703 30.1791 8.50002 29.4862C7.12064 28.7062 7.42533 26.1996 6.89089 25.6088C6.47658 25.1503 4.02808 25.3559 3.01345 24.0004C2.10402 22.7851 3.8057 20.4467 3.55373 19.8349C3.18484 18.9367 1.00586 18.1401 1.00586 16.5002C1.00586 14.8604 3.1848 14.0637 3.55398 13.1653C3.80593 12.5542 2.1043 10.2156 3.0137 9C4.02858 7.64406 6.47683 7.84987 6.89114 7.39162C7.42557 6.8008 7.12063 4.29375 8.50027 3.51418C9.89039 2.81106 11.9407 4.21831 12.6648 4.05349C13.7278 3.63772 14.2901 1.50562 16.0005 1.50562C17.711 1.50562 18.273 3.63768 19.3365 4.05324C19.9873 4.27614 22.1685 2.82668 23.501 3.51393C24.8801 4.2935 24.5757 6.80056 25.1101 7.39137C25.5244 7.84987 27.9729 7.64382 28.9876 8.99975C29.897 10.2151 28.1953 12.5537 28.4468 13.1651C28.8159 14.0635 30.9949 14.8601 30.9949 16.5C30.9947 18.1401 28.8157 18.9367 28.4468 19.8349Z",fill:"#69BC85"}),i().createElement("path",{d:"M13.3293 16.3186C11.8489 16.3186 10.8765 15.2736 10.8765 13.9238C10.8765 12.5595 11.8489 11.5 13.3293 11.5C14.8242 11.5 15.7966 12.5595 15.7966 13.9238C15.7966 15.2736 14.8242 16.3186 13.3293 16.3186ZM13.4744 21.3258H12.3859L18.5688 11.6451H19.6718L13.4744 21.3258ZM18.6559 21.5C17.1754 21.5 16.203 20.455 16.203 19.1052C16.203 17.7409 17.1754 16.6669 18.6559 16.6669C20.1363 16.6669 21.1232 17.7409 21.1232 19.1052C21.1232 20.455 20.1363 21.5 18.6559 21.5ZM13.3293 15.1865C13.9969 15.1865 14.4904 14.693 14.4904 13.9238C14.4904 13.1255 13.9969 12.6321 13.3293 12.6321C12.6762 12.6321 12.1827 13.1255 12.1827 13.9238C12.1827 14.693 12.6762 15.1865 13.3293 15.1865ZM18.6559 20.3679C19.3235 20.3679 19.817 19.889 19.817 19.1052C19.817 18.307 19.3235 17.8135 18.6559 17.8135C17.9882 17.8135 17.5093 18.307 17.5093 19.1052C17.5093 19.889 17.9882 20.3679 18.6559 20.3679Z",fill:"white"}))},et=function(e){var t=e.className,r=(0,a.A)(e,re);return i().createElement("svg",(0,n.A)({xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",fill:"none",className:t},r),i().createElement("rect",{width:"48",height:"48",fill:"#F0F1F3",rx:"8"}),i().createElement("g",{clipPath:"url(#whcc_clip)"},i().createElement("path",{fill:"#374151",d:"M14 30.26q0 1.56 1.1 2.64t2.66 1.1h12.5q1.54 0 2.64-1.1t1.1-2.64v-12.5q0-1.56-1.1-2.66T30.26 14h-12.5q-1.56 0-2.66 1.1a3.62 3.62 0 0 0-1.1 2.66zm2.5 0v-12.5q0-.52.36-.88t.9-.38h12.5q.5 0 .88.38t.36.88v12.5q0 .52-.36.88t-.88.36h-12.5q-.52 0-.9-.36a1.1 1.1 0 0 1-.36-.88M17.76 29q0 .52.36.9t.88.36h10q.52 0 .88-.36t.38-.9v-.58q-.14-.28-.7-1.68t-1-2.24-.8-1.32q-.34-.36-.7-.38t-.72.24-.72.7-.74.98-.72 1.06-.72 1-.68.74-.68.28q-.36 0-1.04-.9-.1-.12-.3-.38-.7-.94-1-1.14-.48-.32-.74.22-.14.32-.58 1.4t-.66 1.6zm0-9.36q0 .78.54 1.32t1.32.54 1.34-.54.54-1.32a1.98 1.98 0 0 0-.54-1.34q-.52-.56-1.34-.54t-1.32.54-.54 1.34"})),i().createElement("defs",null,i().createElement("clipPath",{id:"whcc_clip"},i().createElement("path",{fill:"#fff",d:"M14 14h20v20H14z"}))))},tt=function(e){var t=e.className,r=(0,a.A)(e,ne);return i().createElement("svg",(0,n.A)({xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",fill:"none",className:t},r),i().createElement("rect",{width:"48",height:"48",fill:"#F0F1F3",rx:"8"}),i().createElement("g",{clipPath:"url(#manual_clip)"},i().createElement("path",{fill:"#374151",d:"M14 30.26v-12.5q0-1.56 1.1-2.66a3.62 3.62 0 0 1 2.66-1.1h12.5q1.54 0 2.64 1.1t1.1 2.66v12.5q0 1.56-1.1 2.64a3.7 3.7 0 0 1-2.64 1.1h-12.5a3.62 3.62 0 0 1-2.66-1.1Q14 31.8 14 30.26m2.5 0q0 .52.36.88t.9.36h12.5q.5 0 .88-.36t.36-.88v-12.5q0-.52-.36-.88a1.27 1.27 0 0 0-.88-.38h-12.5a1.23 1.23 0 0 0-.9.38 1.14 1.14 0 0 0-.36.88zM19 29v-2.5h2.5V29zm0-3.74v-2.5h2.5v2.5zm0-3.76V19h2.5v2.5zm3.76 7.5v-2.5H29V29zm0-3.74v-2.5H29v2.5zm0-3.76V19H29v2.5z"})),i().createElement("defs",null,i().createElement("clipPath",{id:"manual_clip"},i().createElement("path",{fill:"#fff",d:"M14 14h20v20H14z"}))))},rt=function(e){var t=e.className,r=(0,a.A)(e,ae);return i().createElement("svg",(0,n.A)({xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",fill:"none",className:t},r),i().createElement("rect",{width:"48",height:"48",fill:"#F0F1F3",rx:"8"}),i().createElement("g",{fill:"#374151",clipPath:"url(#digital_clip)"},i().createElement("path",{d:"M31.5 23.583v7.5h-3.333v-7.5zm.833-1.666h-5a.833.833 0 0 0-.833.833v9.167a.833.833 0 0 0 .833.833h5a.834.834 0 0 0 .834-.834V22.75a.833.833 0 0 0-.834-.834"}),i().createElement("path",{d:"M29.834 16.917H16.917a.833.833 0 0 0-.833.833v9.167a.833.833 0 0 0 .833.833h7.917v-1.667h-7.083v-7.5H29v1.667h1.666v-2.5a.833.833 0 0 0-.833-.834M24.834 29.417v1.666h-9.167a.833.833 0 1 1 0-1.666z"})),i().createElement("defs",null,i().createElement("clipPath",{id:"digital_clip"},i().createElement("path",{fill:"#fff",d:"M14 14h20v20H14z"}))))}},3155:(e,t,r)=>{"use strict";r.d(t,{$U:()=>g,dF:()=>y,sR:()=>v,uI:()=>h,wY:()=>b});var n=r(467),a=r(7665),o=r(3930),i=r(7097),l=r(1455),c=r.n(l),s=r(1609),u=r.n(s),d=r(4540);function m(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return f(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(f(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,f(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,f(d,"constructor",s),f(s,"constructor",c),c.displayName="GeneratorFunction",f(s,a,"GeneratorFunction"),f(d),f(d,a,"Generator"),f(d,n,function(){return this}),f(d,"toString",function(){return"[object Generator]"}),(m=function(){return{w:o,m:p}})()}function f(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}f=function(e,t,r,n){function o(t,r){f(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},f(e,t,r,n)}var p=function(e){return["album",e]},g=function(e){var t,r=u().useMemo(function(){return p(e)},[e]),i=(0,a.jE)().getQueryState(r),l="error"===(null==i?void 0:i.status);return(0,o.I)({queryKey:r,queryFn:(t=(0,n.A)(m().m(function t(){var r,n;return m().w(function(t){for(;;)switch(t.n){case 0:return n=null===(r=window.imagelyApp)||void 0===r?void 0:r.nonce,t.n=1,c()({path:"/imagely/v1/albums/".concat(e),method:"GET",headers:{"X-WP-Nonce":n}});case 1:return t.a(2,t.v)}},t)})),function(){return t.apply(this,arguments)}),enabled:!!e&&!l,staleTime:12e4,gcTime:6e5,retry:0,throwOnError:!1,refetchOnWindowFocus:!1})},h=function(e){var t,r=new URLSearchParams;return null!=e&&e.get_all?r.append("per_page","-1"):(null!=e&&e.page&&r.append("page",e.page.toString()),null!=e&&e.per_page&&r.append("per_page",e.per_page.toString())),null!=e&&e.search&&r.append("search",e.search),null!=e&&e.sort&&r.append("orderby",e.sort),null!=e&&e.order&&r.append("order",e.order),(0,o.I)({queryKey:["albums",e],queryFn:(t=(0,n.A)(m().m(function t(){var n,a,o,i,l,c,s;return m().w(function(t){for(;;)switch(t.n){case 0:return n="/imagely/v1/albums".concat(r.toString()?"?".concat(r.toString()):""),t.n=1,(0,d.RW)(n);case 1:return a=t.v,o=a.data,i=a.headers,l=(null==e?void 0:e.page)||1,c=null!=e&&e.get_all?i.total:(null==e?void 0:e.per_page)||20,s={albums:o,pagination:{total:i.total,total_pages:i.totalPages,per_page:c,current_page:l}},t.a(2,s)}},t)})),function(){return t.apply(this,arguments)}),staleTime:3e4,gcTime:6e5,retry:0,throwOnError:!1,refetchOnWindowFocus:!0,refetchOnMount:!1,placeholderData:function(e){return e}})},y=function(){var e,t=(0,a.jE)();return(0,i.n)({mutationFn:(e=(0,n.A)(m().m(function e(t){var r,n,a;return m().w(function(e){for(;;)switch(e.n){case 0:return n=null===(r=window.imagelyApp)||void 0===r?void 0:r.nonce,e.n=1,c()({path:"/imagely/v1/albums",method:"POST",headers:{"X-WP-Nonce":n,"Content-Type":"application/json"},data:t});case 1:return a=e.v,e.a(2,a)}},e)})),function(t){return e.apply(this,arguments)}),onSuccess:function(){t.invalidateQueries({queryKey:["albums"]})}})},v=function(){var e,t=(0,a.jE)();return(0,i.n)({mutationFn:(e=(0,n.A)(m().m(function e(t){var r,n,a,o,i;return m().w(function(e){for(;;)switch(e.n){case 0:return n=t.id,a=t.data,o=null===(r=window.imagelyApp)||void 0===r?void 0:r.nonce,e.n=1,c()({path:"/imagely/v1/albums/".concat(n),method:"PUT",headers:{"X-WP-Nonce":o,"Content-Type":"application/json"},data:a});case 1:return i=e.v,e.a(2,i.album)}},e)})),function(t){return e.apply(this,arguments)}),onSuccess:function(e,r){var n=r.id;t.setQueryData(p(n),e),t.invalidateQueries({queryKey:["albums"]})}})},b=function(){var e,t=(0,a.jE)();return(0,i.n)({mutationFn:(e=(0,n.A)(m().m(function e(t){var r,n,a,o;return m().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=null===(r=window.imagelyApp)||void 0===r?void 0:r.nonce,e.p=1,e.n=2,c()({path:"/imagely/v1/albums/".concat(t),method:"DELETE",headers:{"X-WP-Nonce":n}});case 2:e.n=5;break;case 3:if(e.p=3,404!==(null==(o=e.v)?void 0:o.status)&&404!==(null==o||null===(a=o.response)||void 0===a?void 0:a.status)){e.n=4;break}return console.warn("Album ".concat(t," already deleted or doesn't exist")),e.a(2);case 4:throw o;case 5:return e.a(2)}},e,null,[[1,3]])})),function(t){return e.apply(this,arguments)}),onSuccess:function(){t.invalidateQueries({queryKey:["albums"]})}})}},1313:(e,t,r)=>{"use strict";r.d(t,{L:()=>a});var n=r(1609),a=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=(0,n.useRef)(null);return(0,n.useEffect)(function(){if(t){var n=function(t){var n=null==r?void 0:r.current;n&&!n.contains((null==t?void 0:t.target)||null)&&e(t)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}},[r,e,t]),r}},2026:(e,t,r)=>{"use strict";r.d(t,{aN:()=>y,LX:()=>g,Di:()=>h,f8:()=>f});var n=r(3453),a=r(1609),o=r(467),i=r(3930),l=r(1455),c=r.n(l);function s(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return u(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function d(){}t=Object.getPrototypeOf;var m=[][n]?t(t([][n]())):(u(t={},n,function(){return this}),t),f=d.prototype=l.prototype=Object.create(m);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=d,u(f,"constructor",d),u(d,"constructor",c),c.displayName="GeneratorFunction",u(d,a,"GeneratorFunction"),u(f),u(f,a,"Generator"),u(f,n,function(){return this}),u(f,"toString",function(){return"[object Generator]"}),(s=function(){return{w:o,m:p}})()}function u(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}u=function(e,t,r,n){function o(t,r){u(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},u(e,t,r,n)}var d={currencies:["currencies"],countries:["countries"],currency:function(e){return["currencies",e]}},m=r(7374),f=function(){var e,t=(0,i.I)({queryKey:d.currencies,queryFn:(e=(0,o.A)(s().m(function e(){var t,r,n;return s().w(function(e){for(;;)switch(e.n){case 0:return r=null===(t=window.imagelyApp)||void 0===t?void 0:t.nonce,e.n=1,c()({path:"/imagely/v1/currencies",method:"GET",headers:{"X-WP-Nonce":r}});case 1:if((n=e.v).success){e.n=2;break}throw new Error("Failed to fetch currencies");case 2:return e.a(2,n.data)}},e)})),function(){return e.apply(this,arguments)}),staleTime:18e5,gcTime:36e5}).data,r=(0,m.UG)().data;return(0,a.useMemo)(function(){var e,n;if(!t||!r)return"$";var a=r.ecommerce_currency,o=String(a),i=t.find(function(e){return("number"==typeof e.id?e.id:Number(e.id))===Number(o)||e.id===o});return i||(i=t.find(function(e){return e.code===o})),null!==(e=i)&&void 0!==e&&e.symbol?p(i.symbol):(null===(n=i)||void 0===n?void 0:n.code)||"$"},[t,r])},p=function(e){if(!e)return"$";var t=e;if(Object.entries({"&#8364;":"","&#163;":"","&#165;":"","&#8377;":"","&#8381;":"","&#8362;":"","&#8361;":"","&#3647;":"","&#8363;":"","&#8366;":"","&#8365;":""}).forEach(function(e){var r=(0,n.A)(e,2),a=r[0],o=r[1];t=t.replace(new RegExp(a,"g"),o)}),t.includes("&#"))try{var r=document.createElement("div");r.innerHTML=t;var a=r.textContent||r.innerText||t;a!==t&&(t=a)}catch(e){console.warn("Failed to decode HTML entity:",t)}return t},g=function(e){var t=e.length;return{left:t<=1?"pl-10":t<=2?"pl-12":t<=3?"pl-14":"pl-16",right:"pr-3"}},h=function(e){var t=e.length;return t<=1||t<=2?"left-3":"left-4"},y=function(e){if("number"==typeof e)return e;var t=e;if(e.match(/^&#\d+;$/)){var r=e.match(/&#(\d+);/);if(r){var n=parseInt(r[1],10);if(n>65535)return n}}if(e.includes("&#"))try{var a=document.createElement("div");a.innerHTML=e,t=a.textContent||a.innerText||e}catch(r){t=e.replace(/&#\d+;/g,"").trim()}var o=t.match(/[\d.]+/);return o?parseFloat(o[0]):0}},2724:(e,t,r)=>{"use strict";r.d(t,{AO:()=>S,BD:()=>H,CD:()=>M,Fv:()=>j,G5:()=>z,Hh:()=>F,NK:()=>W,Rg:()=>D,T8:()=>G,TG:()=>A,cX:()=>K,dj:()=>Q,fZ:()=>R,gj:()=>N,hW:()=>C,iX:()=>E,ln:()=>k,mQ:()=>I,qZ:()=>O,qr:()=>q,sr:()=>L,yr:()=>_});var n=r(3453),a=r(5458),o=r(4980),i=r(467),l=r(7665),c=r(3930),s=r(7097),u=r(1455),d=r.n(u),m=r(1609),f=r.n(m),p=r(4540);function g(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return h(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,o.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return w(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(w(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,w(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,w(d,"constructor",s),w(s,"constructor",c),c.displayName="GeneratorFunction",w(s,a,"GeneratorFunction"),w(d),w(d,a,"Generator"),w(d,n,function(){return this}),w(d,"toString",function(){return"[object Generator]"}),(b=function(){return{w:o,m}})()}function w(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}w=function(e,t,r,n){function o(t,r){w(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},w(e,t,r,n)}var x={gallery:function(e){return["gallery",e]},galleries:function(e){return["galleries",e]},galleryImages:function(e){return["gallery",e,"images"]}},E=function(e){var t,r=f().useMemo(function(){return x.gallery(null!=e?e:0)},[e]),n=(0,l.jE)().getQueryState(r),a="error"===(null==n?void 0:n.status);return(0,c.I)({queryKey:r,queryFn:(t=(0,i.A)(b().m(function t(){return b().w(function(t){for(;;)switch(t.n){case 0:if(e){t.n=1;break}throw new Error("Gallery ID is required");case 1:return t.n=2,d()({path:"/imagely/v1/galleries/".concat(e),method:"GET",headers:(0,p.kX)()});case 2:return t.a(2,t.v)}},t)})),function(){return t.apply(this,arguments)}),enabled:!!e&&!a,staleTime:12e4,gcTime:6e5,retry:0,throwOnError:!1})},_=function(e){var t,r=new URLSearchParams;return null!=e&&e.get_all?r.append("per_page","-1"):(null!=e&&e.page&&r.append("page",e.page.toString()),null!=e&&e.per_page&&r.append("per_page",e.per_page.toString())),null!=e&&e.search&&r.append("search",e.search),null!=e&&e.sort&&r.append("orderby",e.sort),null!=e&&e.order&&r.append("order",e.order),(0,c.I)({queryKey:["galleries",e],queryFn:(t=(0,i.A)(b().m(function t(){var n,a,o,i,l,c,s,u;return b().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,n="/imagely/v1/galleries".concat(r.toString()?"?".concat(r.toString()):""),t.n=1,(0,p.RW)(n);case 1:return a=t.v,o=a.data,i=a.headers,l=(null==e?void 0:e.page)||1,c=null!=e&&e.get_all?i.total:(null==e?void 0:e.per_page)||20,s={galleries:o,pagination:{total:i.total,total_pages:i.totalPages,per_page:c,current_page:l}},t.a(2,s);case 2:throw t.p=2,u=t.v,console.error("Failed to fetch galleries:",u),u;case 3:return t.a(2)}},t,null,[[0,2]])})),function(){return t.apply(this,arguments)}),staleTime:3e4,gcTime:6e5,retry:0,throwOnError:!1,refetchOnWindowFocus:!0,refetchOnMount:!1,placeholderData:function(e){return e}})};function C(){var e,t,r=(0,l.jE)();return(0,s.n)({mutationFn:(t=(0,i.A)(b().m(function e(t){var r,n,a,o;return b().w(function(e){for(;;)switch(e.n){case 0:return r=t.id,n=t.data,a=v({},n),e.n=1,d()({path:"/imagely/v1/galleries/".concat(r),method:"PUT",headers:(0,p.kX)(),data:a});case 1:return o=e.v,e.a(2,o)}},e)})),function(e){return t.apply(this,arguments)}),onMutate:(e=(0,i.A)(b().m(function e(t){var n,a,o;return b().w(function(e){for(;;)switch(e.n){case 0:return n=t.id,a=t.data,e.n=1,r.cancelQueries({queryKey:x.gallery(n)});case 1:return(o=r.getQueryData(x.gallery(n)))&&r.setQueryData(x.gallery(n),v(v({},o),a)),e.a(2,{previousGallery:o})}},e)})),function(t){return e.apply(this,arguments)}),onError:function(e,t,n){var a=t.id;null!=n&&n.previousGallery&&r.setQueryData(x.gallery(a),n.previousGallery)},onSettled:function(e,t,n){var a=n.id;r.invalidateQueries({queryKey:x.gallery(a)}),r.invalidateQueries({queryKey:["galleries"]})}})}var N=function(e,t){var r,n=t||{},o=n.per_page,s=void 0===o?-1:o,u=n.page,d=void 0===u?1:u,m=n.enabled,h=void 0===m||m,y=f().useMemo(function(){return[].concat((0,a.A)(x.galleryImages(e)),[s,d])},[e,s,d]),w=(0,l.jE)(),E=(0,c.I)({queryKey:y,queryFn:(r=(0,i.A)(b().m(function t(){var r,n,o,i,l,c,u,m,f,h,x,E;return b().w(function(t){for(;;)switch(t.n){case 0:return r=new URLSearchParams({gallery_id:e.toString(),per_page:s.toString(),page:d.toString(),orderby:"sortorder",order:"ASC"}),t.n=1,(0,p.RW)("/imagely/v1/images?".concat(r.toString()));case 1:if(n=t.v,o=n.data,i=n.headers,Array.isArray(o)){t.n=2;break}return t.a(2,{images:[],pagination:{total:0,total_pages:0,per_page:-1===s?0:s,current_page:d}});case 2:if(l=(0,a.A)(o).sort(function(e,t){return e.sortorder-t.sortorder}),c=w.getQueryData(y),!(u=null==c?void 0:c.images)||!Array.isArray(u)){t.n=3;break}m=new Map,f=g(u);try{for(f.s();!(h=f.n()).done;)void 0!==(x=h.value).reloadKey&&m.set(x.pid,x.reloadKey)}catch(e){f.e(e)}finally{f.f()}if(!(m.size>0)){t.n=3;break}return E=l.map(function(e){return m.has(e.pid)?v(v({},e),{},{reloadKey:m.get(e.pid)}):e}),t.a(2,{images:E,pagination:{total:i.total,total_pages:i.totalPages,per_page:-1===s?i.total:s,current_page:d}});case 3:return t.a(2,{images:l,pagination:{total:i.total,total_pages:i.totalPages,per_page:-1===s?i.total:s,current_page:d}})}},t)})),function(){return r.apply(this,arguments)}),enabled:!!e&&h,staleTime:6e4,gcTime:6e5,retry:0,throwOnError:!1});return E},O=function(e,t){var r,n=(t||{}).enabled,o=void 0===n||n;return(0,c.I)({queryKey:["galleries","batch",e.sort().join(",")],queryFn:(r=(0,i.A)(b().m(function t(){var r,n,o,i,l,c,s,u,m,f;return b().w(function(t){for(;;)switch(t.n){case 0:if(e&&0!==e.length){t.n=1;break}return t.a(2,[]);case 1:if(n=null===(r=window.imagelyApp)||void 0===r?void 0:r.nonce,!(e.length<=100)){t.n=3;break}return t.n=2,d()({path:"/imagely/v1/galleries/batch",method:"POST",headers:{"X-WP-Nonce":n,"Content-Type":"application/json"},data:{ids:e}});case 2:return o=t.v,t.a(2,Array.isArray(o)?o:[]);case 3:for(i=[],l=0;l<e.length;l+=100)i.push(e.slice(l,l+100));c=[],s=0,u=i;case 4:if(!(s<u.length)){t.n=7;break}return m=u[s],t.n=5,d()({path:"/imagely/v1/galleries/batch",method:"POST",headers:{"X-WP-Nonce":n,"Content-Type":"application/json"},data:{ids:m}});case 5:f=t.v,Array.isArray(f)&&c.push.apply(c,(0,a.A)(f));case 6:s++,t.n=4;break;case 7:return t.a(2,c)}},t)})),function(){return r.apply(this,arguments)}),enabled:o&&e.length>0,staleTime:12e4,gcTime:6e5,retry:0,throwOnError:!1})},S=function(){var e,t,r=(0,l.jE)();return(0,s.n)({mutationFn:(t=(0,i.A)(b().m(function e(t){var r;return b().w(function(e){for(;;)switch(e.n){case 0:return r=v(v({},t),{},{is_ecommerce_enabled:t.is_ecommerce_enabled,is_private:void 0!==t.is_private?t.is_private?1:0:void 0}),e.n=1,d()({path:"/imagely/v1/galleries",method:"POST",headers:(0,p.kX)(),data:r});case 1:return e.a(2,e.v)}},e)})),function(e){return t.apply(this,arguments)}),onMutate:(e=(0,i.A)(b().m(function e(t){var n;return b().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,r.cancelQueries({queryKey:["galleries"]});case 1:return n=r.getQueriesData({queryKey:["galleries"]}),r.setQueriesData({queryKey:["galleries"]},function(e){if(null!=e&&e.galleries){var r={id:Date.now(),galleryTitle:t.title||t.name||"New Gallery",thumbnail:"",shortcode:'[ngg id="'.concat(Date.now(),'"]'),count:0,eCommerce:"1"===t.is_ecommerce_enabled,is_private:t.is_private||!1,created:(new Date).toLocaleDateString(),modified:(new Date).toLocaleDateString()};return v(v({},e),{},{galleries:[r].concat((0,a.A)(e.galleries)),pagination:v(v({},e.pagination),{},{total:e.pagination.total+1})})}return e}),e.a(2,{previousGalleries:n})}},e)})),function(t){return e.apply(this,arguments)}),onError:function(e,t,a){null!=a&&a.previousGalleries&&a.previousGalleries.forEach(function(e){var t=(0,n.A)(e,2),a=t[0],o=t[1];r.setQueryData(a,o)})},onSuccess:function(e){r.setQueriesData({queryKey:["galleries"]},function(t){return null!=t&&t.galleries?v(v({},t),{},{galleries:t.galleries.map(function(t){return t.id===e.gid||t.galleryTitle===e.title?{id:e.gid,galleryTitle:e.title,thumbnail:e.previewpic_url||"",shortcode:'[ngg id="'.concat(e.gid,'"]'),count:0,eCommerce:"1"===e.is_ecommerce_enabled,is_private:e.is_private,created:e.date_created,modified:e.date_modified}:t})}):t})},onSettled:function(){r.invalidateQueries({queryKey:["galleries"]})}})},k=function(){var e,t,r=(0,l.jE)();return(0,s.n)({mutationFn:(t=(0,i.A)(b().m(function e(t){var r,n;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,d()({path:"/imagely/v1/galleries/".concat(t),method:"DELETE",headers:(0,p.kX)()});case 1:e.n=4;break;case 2:if(e.p=2,404!==(null==(n=e.v)?void 0:n.status)&&404!==(null==n||null===(r=n.response)||void 0===r?void 0:r.status)){e.n=3;break}return console.warn("Gallery ".concat(t," already deleted or doesn't exist")),e.a(2);case 3:throw n;case 4:return e.a(2)}},e,null,[[0,2]])})),function(e){return t.apply(this,arguments)}),onMutate:(e=(0,i.A)(b().m(function e(t){var n;return b().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,r.cancelQueries({queryKey:["galleries"]});case 1:return n=r.getQueriesData({queryKey:["galleries"]}),r.setQueriesData({queryKey:["galleries"]},function(e){return null!=e&&e.galleries?v(v({},e),{},{galleries:e.galleries.filter(function(e){return e.id!==t}),pagination:v(v({},e.pagination),{},{total:Math.max(0,e.pagination.total-1)})}):e}),e.a(2,{previousGalleries:n})}},e)})),function(t){return e.apply(this,arguments)}),onError:function(e,t,a){var o;404!==(null==e?void 0:e.status)&&404!==(null==e||null===(o=e.response)||void 0===o?void 0:o.status)&&null!=a&&a.previousGalleries&&a.previousGalleries.forEach(function(e){var t=(0,n.A)(e,2),a=t[0],o=t[1];r.setQueryData(a,o)})},onSettled:function(e,t){var n;(!t||404!==(null==t?void 0:t.status)&&404!==(null==t||null===(n=t.response)||void 0===n?void 0:n.status))&&r.invalidateQueries({queryKey:["galleries"]})}})},j=function(){var e,t,r=(0,l.jE)();return(0,s.n)({mutationFn:(t=(0,i.A)(b().m(function e(t){var r,n;return b().w(function(e){for(;;)switch(e.n){case 0:return r=t.galleryId,n=t.imageId,e.n=1,d()({path:"/imagely/v1/galleries/".concat(r),method:"PUT",headers:(0,p.kX)(),data:{previewpic:n}});case 1:return e.a(2,e.v)}},e)})),function(e){return t.apply(this,arguments)}),onMutate:(e=(0,i.A)(b().m(function e(t){var n,a,o;return b().w(function(e){for(;;)switch(e.n){case 0:return n=t.galleryId,a=t.imageId,e.n=1,r.cancelQueries({queryKey:x.gallery(n)});case 1:return(o=r.getQueryData(x.gallery(n)))&&r.setQueryData(x.gallery(n),v(v({},o),{},{previewpic:a})),e.a(2,{previousGallery:o})}},e)})),function(t){return e.apply(this,arguments)}),onError:function(e,t,n){var a=t.galleryId;null!=n&&n.previousGallery&&r.setQueryData(x.gallery(a),n.previousGallery)},onSettled:function(e,t,n){var a=n.galleryId;r.invalidateQueries({queryKey:x.gallery(a)}),r.invalidateQueries({queryKey:["galleries"]})}})},A=function(){var e,t=(0,l.jE)();return(0,s.n)({mutationFn:(e=(0,i.A)(b().m(function e(t){var r;return b().w(function(e){for(;;)switch(e.n){case 0:return r=t.images,e.n=1,d()({path:"/imagely/v1/images/bulk",method:"PUT",headers:(0,p.kX)(),data:{images:r}});case 1:return e.a(2,e.v)}},e)})),function(t){return e.apply(this,arguments)}),onSettled:function(){t.invalidateQueries({queryKey:["gallery"]})}})},P=function(){var e=(0,i.A)(b().m(function e(t){var r,n;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,d()({path:"/imagely/v1/images?gallery_id=".concat(t,"&per_page=999999"),method:"GET",headers:(0,p.kX)()});case 1:return r=e.v,e.a(2,Array.isArray(r)?r.map(function(e){return e.pid}):[]);case 2:throw e.p=2,n=e.v,new Error("Failed to fetch image IDs for gallery ".concat(t,": ").concat(n instanceof Error?n.message:String(n)));case 3:return e.a(2)}},e,null,[[0,2]])}));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=(0,i.A)(b().m(function e(t){var r,n,o,i,l,c,s;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:r=[],n=g(t),e.p=1,n.s();case 2:if((o=n.n()).done){e.n=7;break}return i=o.value,e.p=3,e.n=4,P(i);case 4:l=e.v,r.push.apply(r,(0,a.A)(l)),e.n=6;break;case 5:e.p=5,c=e.v,console.error("Error fetching images for gallery ".concat(i,":"),c);case 6:e.n=2;break;case 7:e.n=9;break;case 8:e.p=8,s=e.v,n.e(s);case 9:return e.p=9,n.f(),e.f(9);case 10:return e.a(2,r)}},e,null,[[3,5],[1,8,9,10]])}));return function(t){return e.apply(this,arguments)}}(),D=function(){var e,t=(0,l.jE)(),r=(0,p.XJ)("create-thumbnail");return(0,s.n)({mutationFn:(e=(0,i.A)(b().m(function e(t){var n,a,o,i,l,c,s,u,d,m,f;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=t.galleryIds,a=t.width,o=t.height,i=t.fixDimension,l=t.onProgress,e.n=1,T(n);case 1:c=e.v,s=c.length,u=0,d=0,m=0;case 2:if(!(m<c.length)){e.n=8;break}return e.p=3,e.n=4,r(c[m],{width:a,height:o,fix_dimension:i});case 4:u++,e.n=6;break;case 5:e.p=5,f=e.v,console.error("Failed to generate thumbnail for image ".concat(c[m],":"),f),d++;case 6:l&&l(m+1,s);case 7:m++,e.n=2;break;case 8:return e.a(2,{successCount:u,failureCount:d,total:s})}},e,null,[[3,5]])})),function(t){return e.apply(this,arguments)}),onSuccess:function(){t.invalidateQueries({queryKey:["gallery"]})}})},I=function(){var e,t=(0,l.jE)(),r=(0,p.XJ)("resize");return(0,s.n)({mutationFn:(e=(0,i.A)(b().m(function e(t){var n,a,o,i,l,c,s,u,d,m;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=t.galleryIds,a=t.width,o=t.height,i=t.onProgress,e.n=1,T(n);case 1:l=e.v,c=l.length,s=0,u=0,d=0;case 2:if(!(d<l.length)){e.n=8;break}return e.p=3,e.n=4,r(l[d],{width:a,height:o});case 4:s++,e.n=6;break;case 5:e.p=5,m=e.v,console.error("Failed to resize image ".concat(l[d],":"),m),u++;case 6:i&&i(d+1,c);case 7:d++,e.n=2;break;case 8:return e.a(2,{successCount:s,failureCount:u,total:c})}},e,null,[[3,5]])})),function(t){return e.apply(this,arguments)}),onSuccess:function(){t.invalidateQueries({queryKey:["gallery"]})}})},L=function(){return(0,s.n)({mutationFn:(e=(0,i.A)(b().m(function e(t){var r,n,a;return b().w(function(e){for(;;)switch(e.n){case 0:return r=t.pid,n=t.rotation,a=(0,p.XJ)("rotate"),e.n=1,a(r,{rotation:n});case 1:return e.a(2,e.v)}},e)})),function(t){return e.apply(this,arguments)})});var e},R=function(){return(0,s.n)({mutationFn:(e=(0,i.A)(b().m(function e(t){var r;return b().w(function(e){for(;;)switch(e.n){case 0:return r=(0,p.XJ)("recover"),e.n=1,r(t);case 1:return e.a(2,e.v)}},e)})),function(t){return e.apply(this,arguments)})});var e},F=function(){return(0,s.n)({mutationFn:(e=(0,i.A)(b().m(function e(t){var r;return b().w(function(e){for(;;)switch(e.n){case 0:return r=(0,p.XJ)("create-thumbnail"),e.n=1,r(t);case 1:return e.a(2,e.v)}},e)})),function(t){return e.apply(this,arguments)})});var e},G=function(){var e,t=(0,l.jE)();return(0,s.n)({mutationFn:(e=(0,i.A)(b().m(function e(t){var r,n,a,o,i,l;return b().w(function(e){for(;;)switch(e.n){case 0:return r=t.pid,n=t.width,a=t.height,o=t.setFixDimension,i=void 0!==o&&o,l=(0,p.XJ)("create-thumbnail"),e.n=1,l(r,{width:n,height:a,fix_dimension:i});case 1:return e.a(2,e.v)}},e)})),function(t){return e.apply(this,arguments)}),onSuccess:function(){t.invalidateQueries({queryKey:["images"]}),t.invalidateQueries({queryKey:["gallery"]})}})},M=function(){var e,t=(0,l.jE)();return(0,s.n)({mutationFn:(e=(0,i.A)(b().m(function e(t){var r;return b().w(function(e){for(;;)switch(e.n){case 0:return r=(0,p.XJ)("set-watermark"),e.n=1,r(t);case 1:return e.a(2,e.v)}},e)})),function(t){return e.apply(this,arguments)}),onSuccess:function(){t.invalidateQueries({queryKey:["images"]}),t.invalidateQueries({queryKey:["gallery"]})}})},q=function(){var e,t=(0,l.jE)();return(0,s.n)({mutationFn:(e=(0,i.A)(b().m(function e(t){var r,n,a;return b().w(function(e){for(;;)switch(e.n){case 0:return r=t.pid,n=t.cropData,a=(0,p.XJ)("crop-thumbnail"),e.n=1,a(r,n);case 1:return e.a(2,e.v)}},e)})),function(t){return e.apply(this,arguments)}),onSuccess:function(){t.invalidateQueries({queryKey:["images"]}),t.invalidateQueries({queryKey:["gallery"]})}})},H=function(){var e,t=(0,l.jE)();return(0,s.n)({mutationFn:(e=(0,i.A)(b().m(function e(t){var r,n,a;return b().w(function(e){for(;;)switch(e.n){case 0:return r=t.imageIds,n=t.destinationGalleryId,a=(0,p.Vc)("bulk-copy"),e.n=1,a({image_ids:r,destination_gallery_id:n});case 1:return e.a(2,e.v)}},e)})),function(t){return e.apply(this,arguments)}),onSuccess:function(){t.invalidateQueries({queryKey:["images"]}),t.invalidateQueries({queryKey:["gallery"]})}})},Q=function(){var e,t=(0,l.jE)();return(0,s.n)({mutationFn:(e=(0,i.A)(b().m(function e(t){var r,n,a;return b().w(function(e){for(;;)switch(e.n){case 0:return r=t.imageIds,n=t.destinationGalleryId,a=(0,p.Vc)("bulk-move"),e.n=1,a({image_ids:r,destination_gallery_id:n});case 1:return e.a(2,e.v)}},e)})),function(t){return e.apply(this,arguments)}),onSuccess:function(){t.invalidateQueries({queryKey:["images"]}),t.invalidateQueries({queryKey:["gallery"]})}})},z=function(){var e,t=(0,l.jE)();return(0,s.n)({mutationFn:(e=(0,i.A)(b().m(function e(t){var r,n,a,o,i;return b().w(function(e){for(;;)switch(e.n){case 0:return r=t.imageIds,n=t.width,a=t.height,o=(0,p.Vc)("bulk-resize"),i={image_ids:r},n&&(i.width=n),a&&(i.height=a),e.n=1,o(i);case 1:return e.a(2,e.v)}},e)})),function(t){return e.apply(this,arguments)}),onSuccess:function(){t.invalidateQueries({queryKey:["images"]}),t.invalidateQueries({queryKey:["gallery"]})}})},K=function(){var e,t=(0,l.jE)();return(0,s.n)({mutationFn:(e=(0,i.A)(b().m(function e(t){var r;return b().w(function(e){for(;;)switch(e.n){case 0:return r=(0,p.Vc)("bulk-import-metadata"),e.n=1,r({image_ids:t});case 1:return e.a(2,e.v)}},e)})),function(t){return e.apply(this,arguments)}),onSuccess:function(){t.invalidateQueries({queryKey:["images"]}),t.invalidateQueries({queryKey:["gallery"]})}})},W=function(){var e,t=(0,l.jE)();return(0,s.n)({mutationFn:(e=(0,i.A)(b().m(function e(t){return b().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,d()({path:"/imagely/v1/galleries/".concat(t,"/scan-folder"),method:"POST",headers:(0,p.kX)()});case 1:return e.a(2,e.v)}},e)})),function(t){return e.apply(this,arguments)}),onSuccess:function(e,r){t.invalidateQueries({queryKey:x.galleryImages(r)}),t.invalidateQueries({queryKey:x.gallery(r)}),t.invalidateQueries({queryKey:["galleries"]})}})}},3717:(e,t,r)=>{"use strict";r.d(t,{IG:()=>f,PN:()=>p,Ws:()=>m,yr:()=>d});var n=r(467),a=r(2416),o=r(7665),i=r(7097),l=r(1455),c=r.n(l);function s(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return u(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function d(){}t=Object.getPrototypeOf;var m=[][n]?t(t([][n]())):(u(t={},n,function(){return this}),t),f=d.prototype=l.prototype=Object.create(m);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=d,u(f,"constructor",d),u(d,"constructor",c),c.displayName="GeneratorFunction",u(d,a,"GeneratorFunction"),u(f),u(f,a,"Generator"),u(f,n,function(){return this}),u(f,"toString",function(){return"[object Generator]"}),(s=function(){return{w:o,m:p}})()}function u(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}u=function(e,t,r,n){function o(t,r){u(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},u(e,t,r,n)}var d=function(){var e,t=(0,o.jE)();return(0,i.n)({mutationFn:(e=(0,n.A)(s().m(function e(t){var r,n,a,o;return s().w(function(e){for(;;)switch(e.n){case 0:return n=t.imageId,a=t.data,o=null===(r=window.imagelyApp)||void 0===r?void 0:r.nonce,e.n=1,c()({path:"/imagely/v1/images/".concat(n),method:"PUT",headers:{"X-WP-Nonce":o,"Content-Type":"application/json"},data:a});case 1:return e.a(2,e.v)}},e)})),function(t){return e.apply(this,arguments)}),onSuccess:function(e){t.setQueryData(["gallery",e.galleryid,"images"],function(t){return t?t.map(function(t){return t.pid===e.pid?e:t}):[e]}),t.invalidateQueries({queryKey:["gallery",e.galleryid]})}})},m=function(){var e,t=(0,o.jE)();return(0,i.n)({mutationFn:(e=(0,n.A)(s().m(function e(t){var r,n,a;return s().w(function(e){for(;;)switch(e.n){case 0:return n=t.imageId,a=null===(r=window.imagelyApp)||void 0===r?void 0:r.nonce,e.n=1,c()({path:"/imagely/v1/images/".concat(n),method:"DELETE",headers:{"X-WP-Nonce":a}});case 1:return e.a(2,e.v)}},e)})),function(t){return e.apply(this,arguments)}),onSuccess:function(e,r){var n=r.imageId;t.setQueriesData({queryKey:["gallery"]},function(e){return Array.isArray(e)?e.filter(function(e){return e.pid!==n}):e}),t.invalidateQueries({queryKey:["gallery"]})}})},f=function(){var e,t=(0,o.jE)(),r=(0,a.E)(),l=r.showSuccess,u=r.showWarning,d=r.showError;return(0,i.n)({mutationFn:(e=(0,n.A)(s().m(function e(t){var r,n,a,o,i;return s().w(function(e){for(;;)switch(e.n){case 0:return n=t.imageIds,a=t.tags,o=t.append,i=null===(r=window.imagelyApp)||void 0===r?void 0:r.nonce,e.n=1,c()({path:"/imagely/v1/images/bulk-add-tags",method:"POST",headers:{"X-WP-Nonce":i,"Content-Type":"application/json"},data:{image_ids:n,tags:a,append:o}});case 1:return e.a(2,e.v)}},e)})),function(t){return e.apply(this,arguments)}),onSuccess:function(e){t.invalidateQueries({queryKey:["gallery"]}),e.success_count>0&&l(e.message),e.failure_count>0&&u("Failed to add tags to ".concat(e.failure_count," images"))},onError:function(e){console.error("Error adding tags:",e),d("Failed to add tags to images")}})},p=function(){var e,t=(0,o.jE)(),r=(0,a.E)(),l=r.showSuccess,u=r.showWarning,d=r.showError;return(0,i.n)({mutationFn:(e=(0,n.A)(s().m(function e(t){var r,n,a;return s().w(function(e){for(;;)switch(e.n){case 0:return n=t.imageIds,a=null===(r=window.imagelyApp)||void 0===r?void 0:r.nonce,e.n=1,c()({path:"/imagely/v1/images/bulk-remove-tags",method:"POST",headers:{"X-WP-Nonce":a,"Content-Type":"application/json"},data:{image_ids:n}});case 1:return e.a(2,e.v)}},e)})),function(t){return e.apply(this,arguments)}),onSuccess:function(e){t.invalidateQueries({queryKey:["gallery"]}),e.success_count>0&&l(e.message),e.failure_count>0&&u("Failed to remove tags from ".concat(e.failure_count," images"))},onError:function(e){console.error("Error removing tags:",e),d("Failed to remove tags from images")}})}},2416:(e,t,r)=>{"use strict";r.d(t,{E:()=>s});var n=r(4980),a=r(2549),o=r(7143),i=r(7723),l=r(1609);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(){var e=(0,o.useDispatch)(a.E),t=(0,o.useSelect)(function(e){return e(a.E).getNotifications()},[]),r=(0,l.useCallback)(function(t,r,n){e.showNotice(t,r,n)},[e]),s=(0,l.useCallback)(function(t){e.dismissNotice(t)},[e]),u=(0,l.useCallback)(function(){e.clearAllNotices()},[e]),d=(0,l.useCallback)(function(t,r){e.showNotice("success",t,r)},[e]),m=(0,l.useCallback)(function(t,r){e.showNotice("error",t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({duration:0},r))},[e]),f={onSuccess:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.__)("Changes saved successfully!","nggallery");e.showNotice("success",t)},onError:function(t,r){var n,a=r||(0,i.__)("An error occurred. Please try again.","nggallery");null!=t&&t.message?a=t.message:null!=t&&null!==(n=t.data)&&void 0!==n&&n.message?a=t.data.message:"string"==typeof t&&(a=t),e.showNotice("error",a)}};return{notifications:t,showNotification:r,dismissNotification:s,clearNotifications:u,showSuccess:d,showError:m,showWarning:(0,l.useCallback)(function(t,r){e.showNotice("warning",t,r)},[e]),showInfo:(0,l.useCallback)(function(t,r){e.showNotice("info",t,r)},[e]),mutationCallbacks:f}}},7374:(e,t,r)=>{"use strict";r.d(t,{UG:()=>h,h5:()=>y});var n=r(4980),a=r(467),o=r(9836),i=r(3930),l=r(7665),c=r(7097),s=r(1455),u=r.n(s);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return p(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(p(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,p(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,p(d,"constructor",s),p(s,"constructor",c),c.displayName="GeneratorFunction",p(s,a,"GeneratorFunction"),p(d),p(d,a,"Generator"),p(d,n,function(){return this}),p(d,"toString",function(){return"[object Generator]"}),(f=function(){return{w:o,m}})()}function p(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}p=function(e,t,r,n){function o(t,r){p(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},p(e,t,r,n)}var g={pluginSettings:["settings","plugin"],rolesCapabilities:["settings","roles"]},h=function(){return(0,i.I)({queryKey:g.pluginSettings,queryFn:(e=(0,a.A)(f().m(function e(){var t,r;return f().w(function(e){for(;;)switch(e.n){case 0:return r=null===(t=window.imagelyApp)||void 0===t?void 0:t.nonce,e.n=1,u()({path:"/imagely/v1/settings",method:"GET",headers:{"X-WP-Nonce":r}});case 1:return e.a(2,e.v)}},e)})),function(){return e.apply(this,arguments)}),staleTime:3e5,gcTime:6e5});var e},y=function(){var e,t,r=(0,l.jE)();return(0,c.n)({mutationFn:(t=(0,a.A)(f().m(function e(t){var r,n,a;return f().w(function(e){for(;;)switch(e.n){case 0:return n=null===(r=window.imagelyApp)||void 0===r?void 0:r.nonce,a=(0,o.Uh)(t),e.n=1,u()({path:"/imagely/v1/settings",method:"PUT",headers:{"X-WP-Nonce":n,"Content-Type":"application/json"},data:a});case 1:return e.a(2)}},e)})),function(e){return t.apply(this,arguments)}),onMutate:(e=(0,a.A)(f().m(function e(t){var n;return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,r.cancelQueries({queryKey:g.pluginSettings});case 1:return n=r.getQueryData(g.pluginSettings),r.setQueryData(g.pluginSettings,function(e){return e?m(m({},e),t):void 0}),e.a(2,{previousSettings:n})}},e)})),function(t){return e.apply(this,arguments)}),onError:function(e,t,n){null!=n&&n.previousSettings&&r.setQueryData(g.pluginSettings,n.previousSettings)},onSettled:function(){r.invalidateQueries({queryKey:g.pluginSettings})}})}},6434:(e,t,r)=>{"use strict";r.d(t,{K:()=>o});var n=r(3453),a=r(1609),o=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=(0,a.useState)({offsetX:0,offsetY:0}),o=(0,n.A)(r,2),i=o[0],l=o[1];return(0,a.useLayoutEffect)(function(){var r=function(){var t=e();if(t){var r=t.getBoundingClientRect();l({offsetX:r.left,offsetY:r.top})}else l({offsetX:0,offsetY:0})};if(r(),t)return window.addEventListener("resize",r),window.addEventListener("scroll",r,!0),function(){window.removeEventListener("resize",r),window.removeEventListener("scroll",r,!0)}},[t]),i}},3633:(e,t,r)=>{"use strict";r.d(t,{Eq:()=>g,O8:()=>h,dw:()=>p,hE:()=>y});var n=r(467),a=r(3930),o=r(7665),i=r(7097),l=r(1455),c=r.n(l);function s(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return u(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function d(){}t=Object.getPrototypeOf;var m=[][n]?t(t([][n]())):(u(t={},n,function(){return this}),t),f=d.prototype=l.prototype=Object.create(m);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=d,u(f,"constructor",d),u(d,"constructor",c),c.displayName="GeneratorFunction",u(d,a,"GeneratorFunction"),u(f),u(f,a,"Generator"),u(f,n,function(){return this}),u(f,"toString",function(){return"[object Generator]"}),(s=function(){return{w:o,m:p}})()}function u(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}u=function(e,t,r,n){function o(t,r){u(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},u(e,t,r,n)}function d(e){var t,r=null!==(t=null==e?void 0:e.ID)&&void 0!==t?t:null==e?void 0:e.id,n=(null==e?void 0:e.date)||(new Date).toISOString();return{id:Number(r),title:String((null==e?void 0:e.title)||""),date:n,settings:null==e?void 0:e.settings,digital_download_settings:null==e?void 0:e.digital_download_settings,post_author:null==e?void 0:e.post_author}}var m=function(e){return["pricelists",e]},f=function(e){return["pricelist",e]},p=function(e){return(0,a.I)({queryKey:e?f(e):["pricelist","none"],enabled:!!e,queryFn:(t=(0,n.A)(s().m(function t(){var r,n,a;return s().w(function(t){for(;;)switch(t.n){case 0:return n=null===(r=window.imagelyApp)||void 0===r?void 0:r.nonce,t.n=1,c()({path:"/imagely/v1/pricelists/".concat(e),method:"GET",headers:{"X-WP-Nonce":n}});case 1:return a=t.v,t.a(2,d(a))}},t)})),function(){return t.apply(this,arguments)}),staleTime:0,gcTime:6e5,retry:0,refetchOnMount:!0,refetchOnWindowFocus:!1});var t},g=function(e){var t,r=new URLSearchParams;return null!=e&&e.page&&r.append("page",String(e.page)),null!=e&&e.per_page&&r.append("per_page",String(e.per_page)),null!=e&&e.search&&r.append("search",e.search),null!=e&&e.sort&&r.append("sort",e.sort),null!=e&&e.order&&r.append("order",e.order),null!=e&&e.period&&r.append("period",e.period),(0,a.I)({queryKey:m(e||{}),enabled:!1!==(null==e?void 0:e.enabled),queryFn:(t=(0,n.A)(s().m(function e(){var t,n,a,o,i,l;return s().w(function(e){for(;;)switch(e.n){case 0:return n=null===(t=window.imagelyApp)||void 0===t?void 0:t.nonce,a="/imagely/v1/pricelists".concat(r.toString()?"?".concat(r.toString()):""),e.n=1,c()({path:a,method:"GET",headers:{"X-WP-Nonce":n}});case 1:return o=e.v,i=((null==o?void 0:o.pricelists)||[]).map(d),l=(null==o?void 0:o.pagination)||{total:0,total_pages:1,per_page:10,current_page:1},e.a(2,{pricelists:i,pagination:l})}},e)})),function(){return t.apply(this,arguments)}),staleTime:3e4,gcTime:6e5,retry:0,throwOnError:!1,refetchOnWindowFocus:!0,refetchOnMount:!1,placeholderData:function(e){return e}})},h=function(){var e,t=(0,o.jE)();return(0,i.n)({mutationFn:(e=(0,n.A)(s().m(function e(t){var r,n,a,o;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=null===(r=window.imagelyApp)||void 0===r?void 0:r.nonce,e.p=1,e.n=2,c()({path:"/imagely/v1/pricelists/".concat(t),method:"DELETE",headers:{"X-WP-Nonce":n},parse:!1});case 2:e.n=5;break;case 3:if(e.p=3,404!==((null==(o=e.v)?void 0:o.status)||(null==o||null===(a=o.response)||void 0===a?void 0:a.status))){e.n=4;break}return e.a(2);case 4:throw o;case 5:return e.a(2)}},e,null,[[1,3]])})),function(t){return e.apply(this,arguments)}),onSettled:function(){t.invalidateQueries({queryKey:["pricelists"]})}})},y=function(){var e,t=(0,o.jE)();return(0,i.n)({mutationFn:(e=(0,n.A)(s().m(function e(t){var r,n,a;return s().w(function(e){for(;;)switch(e.n){case 0:return n=null===(r=window.imagelyApp)||void 0===r?void 0:r.nonce,e.n=1,c()({path:"/imagely/v1/pricelists",method:"POST",headers:{"X-WP-Nonce":n},data:{title:t.title}});case 1:return a=e.v,e.a(2,d(a))}},e)})),function(t){return e.apply(this,arguments)}),onSuccess:function(){t.invalidateQueries({queryKey:["pricelists"]})}})}},443:(e,t,r)=>{"use strict";r.d(t,{r:()=>c});var n=r(4980),a=r(2549),o=r(7143);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(){var e=(0,o.useDispatch)(a.E);return l(l({},(0,o.useSelect)(function(e){var t=e(a.E);return{routeParams:t.getRouteParams(),currentTab:t.getCurrentTab(),currentSubTab:t.getCurrentSubTab(),currentPage:t.getCurrentPage(),currentId:t.getCurrentId()}},[])),{},{setCurrentTab:e.setCurrentTab,setCurrentSubTab:e.setCurrentSubTab,setCurrentPage:e.setCurrentPage,setCurrentId:e.setCurrentId,navigateTo:e.navigateTo,setActiveModal:e.setActiveModal})}},2329:(e,t,r)=>{"use strict";r.d(t,{X:()=>l,h:()=>i});var n=r(1609),a=r.n(n),o=(0,n.createContext)({isEmbed:!1}),i=function(e){var t=e.children,r=e.value;return a().createElement(o.Provider,{value:r},t)},l=function(){return(0,n.useContext)(o)}},4540:(e,t,r)=>{"use strict";r.d(t,{RW:()=>f,Vc:()=>g,XJ:()=>p,kX:()=>m,m9:()=>d});var n=r(4980),a=r(467),o=r(1455),i=r.n(o);function l(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var l=n&&n.prototype instanceof s?n:s,u=Object.create(l.prototype);return c(u,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),u}var i={};function s(){}function u(){}function d(){}t=Object.getPrototypeOf;var m=[][n]?t(t([][n]())):(c(t={},n,function(){return this}),t),f=d.prototype=s.prototype=Object.create(m);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=d,c(f,"constructor",d),c(d,"constructor",u),u.displayName="GeneratorFunction",c(d,a,"GeneratorFunction"),c(f),c(f,a,"Generator"),c(f,n,function(){return this}),c(f,"toString",function(){return"[object Generator]"}),(l=function(){return{w:o,m:p}})()}function c(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}c=function(e,t,r,n){function o(t,r){c(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},c(e,t,r,n)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d=function(){var e,t,r=window;return(null===(e=r.wpApiSettings)||void 0===e?void 0:e.nonce)||(null===(t=r.imagelyApp)||void 0===t?void 0:t.nonce)||""},m=function(){return{"X-WP-Nonce":d(),"Content-Type":"application/json"}},f=function(){var e=(0,a.A)(l().m(function e(t){var r,n,a,o,c,s,d,f,p,g,h,y,v,b,w=arguments;return l().w(function(e){for(;;)switch(e.n){case 0:return n=(r=w.length>1&&void 0!==w[1]?w[1]:{}).method,a=void 0===n?"GET":n,o=r.data,c=r.headers,s=void 0===c?{}:c,e.n=1,i()({path:t,method:a,headers:u(u({},m()),s),data:o,parse:!1});case 1:if(d=e.v,f=parseInt(d.headers.get("X-WP-Total")||"0",10),p=parseInt(d.headers.get("X-WP-TotalPages")||"1",10),204!==d.status&&205!==d.status){e.n=2;break}g=null,e.n=7;break;case 2:if(h=d.headers.get("content-type"),!(y=d.headers.get("content-length"))||0!==parseInt(y)){e.n=3;break}g=null,e.n=7;break;case 3:if(h&&h.includes("application/json")){e.n=5;break}return e.n=4,d.text();case 4:v=e.v,g=v||null,e.n=7;break;case 5:return e.n=6,d.text();case 6:if((b=e.v)&&""!==b.trim())try{g=JSON.parse(b)}catch(e){console.warn("Failed to parse response as JSON:",b,e),g=b}else g=null;case 7:return e.a(2,{data:g,headers:{total:f,totalPages:p}})}},e)}));return function(t){return e.apply(this,arguments)}}(),p=function(e){return function(){var t=(0,a.A)(l().m(function t(r,n){return l().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,i()({path:"/imagely/v1/images/".concat(r,"/").concat(e),method:"POST",headers:m(),data:n});case 1:return t.a(2,t.v)}},t)}));return function(e,r){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=(0,a.A)(l().m(function t(r){return l().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,i()({path:"/imagely/v1/images/".concat(e),method:"POST",headers:m(),data:r});case 1:return t.a(2,t.v)}},t)}));return function(e){return t.apply(this,arguments)}}()}},9836:(e,t,r)=>{"use strict";r.d(t,{Uh:()=>l,_w:()=>o,bT:()=>c,xZ:()=>i});var n=r(3453),a=r(2284);function o(e){return"boolean"==typeof e?e:"string"==typeof e?"1"===e||"true"===e:"number"==typeof e&&1===e}function i(e){return e?"1":"0"}function l(e){if(!e||"object"!==(0,a.A)(e))return e;if(Array.isArray(e))return e.map(function(e){return l(e)});for(var t={},r=0,o=Object.entries(e);r<o.length;r++){var c=(0,n.A)(o[r],2),s=c[0],u=c[1];"boolean"==typeof u?t[s]=i(u):u&&"object"===(0,a.A)(u)?t[s]=l(u):t[s]=u}return t}function c(e){if(!e||"object"!==(0,a.A)(e))return e;if(Array.isArray(e))return e.map(function(e){return c(e)});for(var t={},r=0,i=Object.entries(e);r<i.length;r++){var l=(0,n.A)(i[r],2),s=l[0],u=l[1];"string"!=typeof u||"1"!==u&&"0"!==u?u&&"object"===(0,a.A)(u)?t[s]=c(u):t[s]=u:t[s]=o(u)}return t}},2549:(e,t,r)=>{"use strict";var n;r.d(t,{E:()=>a,W:()=>o});var a="imagely/admin-app",o=(null===(n=window.imagelyApp)||void 0===n?void 0:n.proTypeInstalled)||"lite"},5300:(e,t,r)=>{"use strict";r.d(t,{B:()=>n});var n=function(e){var t=e.width,r=void 0===t?130:t,n=e.height,a=void 0===n?90:n,o=e.backgroundColor,i=void 0===o?"#e0e0e0":o,l=e.textColor,c=void 0===l?"#888888":l,s=e.fontSize,u=void 0===s?14:s,d=e.text,m=void 0===d?"":d,f='\n    <svg xmlns="http://www.w3.org/2000/svg" width="'.concat(r,'" height="').concat(a,'">\n      <rect width="100%" height="100%" fill="').concat(i,'"/>\n      <text x="50%" y="50%" fill="').concat(c,'" dy=".3em" text-anchor="middle" font-family="sans-serif" font-size="').concat(u,'px">\n        ').concat(m||"".concat(r,"").concat(a),"\n      </text>\n    </svg>\n  ").trim(),p=encodeURIComponent(f);return"data:image/svg+xml;charset=UTF-8,".concat(p)}},2887:(e,t,r)=>{"use strict";r.d(t,{i:()=>n});var n=function(){var e=document.querySelectorAll(".imagely-wrap");return e.length>0?e[e.length-1]:document.body}},1648:(e,t,r)=>{"use strict";r.d(t,{HN:()=>o,jP:()=>i}),r(7723);var n=function(){var e;return"lite"!==((null===(e=window.imagelyApp)||void 0===e?void 0:e.proTypeInstalled)||"lite")},a=function(){var e,t=null===(e=window.imagelyApp)||void 0===e?void 0:e.licenseData;return!!t&&!0===t.is_valid},o=function(){return!n()||a()},i=function(){return!n()||a()}},380:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});var n=function(e){var t,r;e?t=e:t="imagely"===(r=(new URLSearchParams(window.location.search).get("page")||"imagely").replace(/^imagely-?/,""))||""===r?"galleries":r.replace(/[-_\s]/g,"").toLowerCase();return"".concat("https://www.imagely.com/lite","?utm_source=").concat("ngg","&utm_medium=").concat(t,"&utm_campaign=").concat("upgradetopro")}},8093:function(e,t,r){var n;n=e=>(()=>{"use strict";var t={899:t=>{t.exports=e}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{n.r(a),n.d(a,{Component:()=>g,areCropsEqual:()=>l,centerCrop:()=>s,clamp:()=>i,containCrop:()=>m,convertToPercentCrop:()=>u,convertToPixelCrop:()=>d,default:()=>g,defaultCrop:()=>o,makeAspectCrop:()=>c,nudgeCrop:()=>f});var e=n(899),t=n.n(e);function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}const o={x:0,y:0,width:0,height:0,unit:"px"};function i(e,t,r){return Math.min(Math.max(e,t),r)}function l(e,t){return e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit}function c(e,t,r,n){const a=d(e,r,n);return e.width&&(a.height=a.width/t),e.height&&(a.width=a.height*t),a.y+a.height>n&&(a.height=n-a.y,a.width=a.height*t),a.x+a.width>r&&(a.width=r-a.x,a.height=a.width/t),"%"===e.unit?u(a,r,n):a}function s(e,t,r){const n=d(e,t,r);return n.x=(t-n.width)/2,n.y=(r-n.height)/2,"%"===e.unit?u(n,t,r):n}function u(e,t,r){return"%"===e.unit?{...o,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/r*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/r*100:0}}function d(e,t,r){return e.unit?"px"===e.unit?{...o,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*r/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*r/100:0}:{...o,...e,unit:"px"}}function m(e,t,r,n,a,o=0,i=0,l=n,c=a){const s={...e};let u=Math.min(o,n),d=Math.min(i,a),m=Math.min(l,n),f=Math.min(c,a);t&&(t>1?(u=i?i*t:u,d=u/t,m=l*t):(d=o?o/t:d,u=d*t,f=c/t)),s.y<0&&(s.height=Math.max(s.height+s.y,d),s.y=0),s.x<0&&(s.width=Math.max(s.width+s.x,u),s.x=0);const p=n-(s.x+s.width);p<0&&(s.x=Math.min(s.x,n-u),s.width+=p);const g=a-(s.y+s.height);if(g<0&&(s.y=Math.min(s.y,a-d),s.height+=g),s.width<u&&("sw"!==r&&"nw"!=r||(s.x-=u-s.width),s.width=u),s.height<d&&("nw"!==r&&"ne"!=r||(s.y-=d-s.height),s.height=d),s.width>m&&("sw"!==r&&"nw"!=r||(s.x-=m-s.width),s.width=m),s.height>f&&("nw"!==r&&"ne"!=r||(s.y-=f-s.height),s.height=f),t){const e=s.width/s.height;if(e<t){const e=Math.max(s.width/t,d);"nw"!==r&&"ne"!=r||(s.y-=e-s.height),s.height=e}else if(e>t){const e=Math.max(s.height*t,u);"sw"!==r&&"nw"!=r||(s.x-=e-s.width),s.width=e}}return s}function f(e,t,r,n){const a={...e};return"ArrowLeft"===t?"nw"===n?(a.x-=r,a.y-=r,a.width+=r,a.height+=r):"w"===n?(a.x-=r,a.width+=r):"sw"===n?(a.x-=r,a.width+=r,a.height+=r):"ne"===n?(a.y+=r,a.width-=r,a.height-=r):"e"===n?a.width-=r:"se"===n&&(a.width-=r,a.height-=r):"ArrowRight"===t&&("nw"===n?(a.x+=r,a.y+=r,a.width-=r,a.height-=r):"w"===n?(a.x+=r,a.width-=r):"sw"===n?(a.x+=r,a.width-=r,a.height-=r):"ne"===n?(a.y-=r,a.width+=r,a.height+=r):"e"===n?a.width+=r:"se"===n&&(a.width+=r,a.height+=r)),"ArrowUp"===t?"nw"===n?(a.x-=r,a.y-=r,a.width+=r,a.height+=r):"n"===n?(a.y-=r,a.height+=r):"ne"===n?(a.y-=r,a.width+=r,a.height+=r):"sw"===n?(a.x+=r,a.width-=r,a.height-=r):"s"===n?a.height-=r:"se"===n&&(a.width-=r,a.height-=r):"ArrowDown"===t&&("nw"===n?(a.x+=r,a.y+=r,a.width-=r,a.height-=r):"n"===n?(a.y+=r,a.height-=r):"ne"===n?(a.y+=r,a.width-=r,a.height-=r):"sw"===n?(a.x-=r,a.width+=r,a.height+=r):"s"===n?a.height+=r:"se"===n&&(a.width+=r,a.height+=r)),a}const p={capture:!0,passive:!1};class g extends e.PureComponent{constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=(0,e.createRef)(),this.mediaRef=(0,e.createRef)(),this.initChangeCalled=!1,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=e=>{const{crop:t,disabled:r}=this.props,n=this.getBox();if(!t)return;const a=d(t,n.width,n.height);if(r)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const o=e.target.dataset.ord,i=Boolean(o);let l=e.clientX,c=e.clientY,s=a.x,u=a.y;if(o){const t=e.clientX-n.x,r=e.clientY-n.y;let i=0,d=0;"ne"===o||"e"==o?(i=t-(a.x+a.width),d=r-a.y,s=a.x,u=a.y+a.height):"se"===o||"s"===o?(i=t-(a.x+a.width),d=r-(a.y+a.height),s=a.x,u=a.y):"sw"===o||"w"==o?(i=t-a.x,d=r-(a.y+a.height),s=a.x+a.width,u=a.y):"nw"!==o&&"n"!=o||(i=t-a.x,d=r-a.y,s=a.x+a.width,u=a.y+a.height),l=s+n.x+i,c=u+n.y+d}this.evData={startClientX:l,startClientY:c,startCropX:s,startCropY:u,clientX:e.clientX,clientY:e.clientY,isResize:i,ord:o},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=e=>{const{crop:t,disabled:r,locked:n,keepSelection:a,onChange:o}=this.props,i=this.getBox();if(r||n||a&&t)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const l=e.clientX-i.x,c=e.clientY-i.y,s={unit:"px",x:l,y:c,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:l,startCropY:c,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,o(d(s,i.width,i.height),u(s,i.width,i.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=e=>{const{crop:t,disabled:r,onChange:n,onDragStart:a}=this.props,o=this.getBox();if(r||!t||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,a&&a(e));const{evData:i}=this;let c;i.clientX=e.clientX,i.clientY=e.clientY,c=i.isResize?this.resizeCrop():this.dragCrop(),l(t,c)||n(d(c,o.width,o.height),u(c,o.width,o.height))},this.onComponentKeyDown=e=>{const{crop:t,disabled:r,onChange:n,onComplete:a}=this.props,o=this.getBox();if(r)return;const l=e.key;let c=!1;if(!t)return;const s=this.makePixelCrop(),m=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?g.nudgeStepLarge:e.shiftKey?g.nudgeStepMedium:g.nudgeStep;if("ArrowLeft"===l?(s.x-=m,c=!0):"ArrowRight"===l?(s.x+=m,c=!0):"ArrowUp"===l?(s.y-=m,c=!0):"ArrowDown"===l&&(s.y+=m,c=!0),c){e.cancelable&&e.preventDefault(),s.x=i(s.x,0,o.width-s.width),s.y=i(s.y,0,o.height-s.height);const t=d(s,o.width,o.height),r=u(s,o.width,o.height);n(t,r),a&&a(t,r)}},this.onHandlerKeyDown=(e,t)=>{const{aspect:r=0,crop:n,disabled:a,minWidth:o=0,minHeight:i=0,maxWidth:c,maxHeight:s,onChange:p,onComplete:h}=this.props,y=this.getBox();if(a||!n)return;if("ArrowUp"!==e.key&&"ArrowDown"!==e.key&&"ArrowLeft"!==e.key&&"ArrowRight"!==e.key)return;e.stopPropagation(),e.preventDefault();const v=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?g.nudgeStepLarge:e.shiftKey?g.nudgeStepMedium:g.nudgeStep,b=m(f(d(n,y.width,y.height),e.key,v,t),r,t,y.width,y.height,o,i,c,s);if(!l(n,b)){const e=u(b,y.width,y.height);p(b,e),h&&h(b,e)}},this.onDocPointerDone=e=>{const{crop:t,disabled:r,onComplete:n,onDragEnd:a}=this.props,o=this.getBox();this.unbindDocMove(),!r&&t&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,a&&a(e),n&&n(d(t,o.width,o.height),u(t,o.width,o.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=e=>{var t;null===(t=this.componentRef.current)||void 0===t||t.scrollTo(0,0)}}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:t,y:r,width:n,height:a}=e.getBoundingClientRect();return{x:t,y:r,width:n,height:a}}componentDidUpdate(e){const{crop:t,onComplete:r}=this.props;if(r&&!e.crop&&t){const{width:e,height:n}=this.getBox();e&&n&&r(d(t,e,n),u(t,e,n))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,p),this.document.addEventListener("pointerup",this.onDocPointerDone,p),this.document.addEventListener("pointercancel",this.onDocPointerDone,p),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,p),this.document.removeEventListener("pointerup",this.onDocPointerDone,p),this.document.removeEventListener("pointercancel",this.onDocPointerDone,p),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,t=this.getBox(),r=this.makePixelCrop(),n=e.clientX-e.startClientX,a=e.clientY-e.startClientY;return r.x=i(e.startCropX+n,0,t.width-r.width),r.y=i(e.startCropY+a,0,t.height-r.height),r}getPointRegion(e){const{evData:t}=this,r=t.clientX-e.x,n=t.clientY-e.y<t.startCropY;return r<t.startCropX?n?"nw":"sw":n?"ne":"se"}resizeCrop(){const{evData:e}=this,t=this.getBox(),{aspect:r=0,minWidth:n=0,minHeight:a=0,maxWidth:o,maxHeight:i}=this.props,l=this.getPointRegion(t),c=this.makePixelCrop(),s=e.ord?e.ord:l,u=e.clientX-e.startClientX,d=e.clientY-e.startClientY,f={unit:"px",x:0,y:0,width:0,height:0};"ne"===l?(f.x=e.startCropX,f.width=u,r?(f.height=f.width/r,f.y=e.startCropY-f.height):(f.height=Math.abs(d),f.y=e.startCropY-f.height)):"se"===l?(f.x=e.startCropX,f.y=e.startCropY,f.width=u,f.height=r?f.width/r:d):"sw"===l?(f.x=e.startCropX+u,f.y=e.startCropY,f.width=Math.abs(u),f.height=r?f.width/r:d):"nw"===l&&(f.x=e.startCropX+u,f.width=Math.abs(u),r?(f.height=f.width/r,f.y=e.startCropY-f.height):(f.height=Math.abs(d),f.y=e.startCropY+d));const p=m(f,r,l,t.width,t.height,n,a,o,i);return r||g.xyOrds.indexOf(s)>-1?(c.x=p.x,c.y=p.y,c.width=p.width,c.height=p.height):g.xOrds.indexOf(s)>-1?(c.x=p.x,c.width=p.width):g.yOrds.indexOf(s)>-1&&(c.y=p.y,c.height=p.height),c}createCropSelection(){const{ariaLabels:e=g.defaultProps.ariaLabels,disabled:r,locked:n,renderSelectionAddon:a,ruleOfThirds:o,crop:i}=this.props,l=this.getCropStyle();if(i)return t().createElement("div",{style:l,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!r&&!n&&t().createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},t().createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),t().createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),t().createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),t().createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),t().createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"nw"),role:"button"}),t().createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"n"),role:"button"}),t().createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"ne"),role:"button"}),t().createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"e"),role:"button"}),t().createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"se"),role:"button"}),t().createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"s"),role:"button"}),t().createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"sw"),role:"button"}),t().createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"w"),role:"button"})),a&&t().createElement("div",{className:"ReactCrop__selection-addon",onMouseDown:e=>e.stopPropagation()},a(this.state)),o&&t().createElement(t().Fragment,null,t().createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),t().createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(){const e={...o,...this.props.crop||{}},t=this.getBox();return d(e,t.width,t.height)}render(){const{aspect:e,children:n,circularCrop:a,className:o,crop:i,disabled:l,locked:c,style:s,ruleOfThirds:u}=this.props,{cropIsActive:d,newCropIsBeingDrawn:m}=this.state,f=i?this.createCropSelection():null,p=function(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}("ReactCrop",o,{"ReactCrop--active":d,"ReactCrop--disabled":l,"ReactCrop--locked":c,"ReactCrop--new-crop":m,"ReactCrop--fixed-aspect":i&&e,"ReactCrop--circular-crop":i&&a,"ReactCrop--rule-of-thirds":i&&u,"ReactCrop--invisible-crop":!this.dragStarted&&i&&!i.width&&!i.height});return t().createElement("div",{ref:this.componentRef,className:p,style:s},t().createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},n),f)}}g.xOrds=["e","w"],g.yOrds=["n","s"],g.xyOrds=["nw","ne","se","sw"],g.nudgeStep=1,g.nudgeStepMedium=10,g.nudgeStepLarge=100,g.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}}})(),a})(),e.exports=n(r(1609))},1609:e=>{"use strict";e.exports=window.React},5795:e=>{"use strict";e.exports=window.ReactDOM},790:e=>{"use strict";e.exports=window.ReactJSXRuntime},1455:e=>{"use strict";e.exports=window.wp.apiFetch},6427:e=>{"use strict";e.exports=window.wp.components},7143:e=>{"use strict";e.exports=window.wp.data},6087:e=>{"use strict";e.exports=window.wp.element},7723:e=>{"use strict";e.exports=window.wp.i18n},3145:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{A:()=>n})},6369:(e,t,r)=>{"use strict";function n(e){if(Array.isArray(e))return e}r.d(t,{A:()=>n})},467:(e,t,r)=>{"use strict";function n(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(a,o){var i=e.apply(t,r);function l(e){n(i,a,o,l,c,"next",e)}function c(e){n(i,a,o,l,c,"throw",e)}l(void 0)})}}r.d(t,{A:()=>a})},4980:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2284);function a(e,t,r){return(t=function(e){var t=function(e){if("object"!=(0,n.A)(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=(0,n.A)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==(0,n.A)(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},8168:(e,t,r)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(null,arguments)}r.d(t,{A:()=>n})},6986:(e,t,r)=>{"use strict";function n(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}r.d(t,{A:()=>n})},6562:(e,t,r)=>{"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(t,{A:()=>n})},45:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(8587);function a(e,t){if(null==e)return{};var r,a,o=(0,n.A)(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}},8587:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}r.d(t,{A:()=>n})},3453:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(6369),a=r(6986),o=r(7800),i=r(6562);function l(e,t){return(0,n.A)(e)||(0,a.A)(e,t)||(0,o.A)(e,t)||(0,i.A)()}},5458:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(3145),a=r(7800);function o(e){return function(e){if(Array.isArray(e))return(0,n.A)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2284:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{A:()=>n})},7800:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(3145);function a(e,t){if(e){if("string"==typeof e)return(0,n.A)(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.A)(e,t):void 0}}},9658:(e,t,r)=>{"use strict";r.d(t,{m:()=>o});var n=r(6500),a=r(4880),o=new class extends n.Q{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!a.S$&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#e?this.#e:"hidden"!==globalThis.document?.visibilityState}}},6158:(e,t,r)=>{"use strict";r.d(t,{$:()=>l,s:()=>i});var n=r(6261),a=r(1692),o=r(8904),i=class extends a.k{#n;#a;#o;#i;constructor(e){super(),this.#n=e.client,this.mutationId=e.mutationId,this.#o=e.mutationCache,this.#a=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#a.includes(e)||(this.#a.push(e),this.clearGcTimeout(),this.#o.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#a=this.#a.filter(t=>t!==e),this.scheduleGc(),this.#o.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#a.length||("pending"===this.state.status?this.scheduleGc():this.#o.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#l({type:"continue"})},r={client:this.#n,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=(0,o.II)({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#l({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#l({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#o.canRun(this)});const n="pending"===this.state.status,a=!this.#i.canStart();try{if(n)t();else{this.#l({type:"pending",variables:e,isPaused:a}),await(this.#o.config.onMutate?.(e,this,r));const t=await(this.options.onMutate?.(e,r));t!==this.state.context&&this.#l({type:"pending",context:t,variables:e,isPaused:a})}const o=await this.#i.start();return await(this.#o.config.onSuccess?.(o,e,this.state.context,this,r)),await(this.options.onSuccess?.(o,e,this.state.context,r)),await(this.#o.config.onSettled?.(o,null,this.state.variables,this.state.context,this,r)),await(this.options.onSettled?.(o,null,e,this.state.context,r)),this.#l({type:"success",data:o}),o}catch(t){try{throw await(this.#o.config.onError?.(t,e,this.state.context,this,r)),await(this.options.onError?.(t,e,this.state.context,r)),await(this.#o.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,r)),await(this.options.onSettled?.(void 0,t,e,this.state.context,r)),t}finally{this.#l({type:"error",error:t})}}finally{this.#o.runNext(this)}}#l(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),n.jG.batch(()=>{this.#a.forEach(t=>{t.onMutationUpdate(e)}),this.#o.notify({mutation:this,type:"updated",action:e})})}};function l(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},6261:(e,t,r)=>{"use strict";r.d(t,{jG:()=>a});var n=r(2775).Zq,a=function(){let e=[],t=0,r=e=>{e()},a=e=>{e()},o=n;const i=n=>{t?e.push(n):o(()=>{r(n)})};return{batch:n=>{let i;t++;try{i=n()}finally{t--,t||(()=>{const t=e;e=[],t.length&&o(()=>{a(()=>{t.forEach(e=>{r(e)})})})})()}return i},batchCalls:e=>(...t)=>{i(()=>{e(...t)})},schedule:i,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{a=e},setScheduler:e=>{o=e}}}()},6035:(e,t,r)=>{"use strict";r.d(t,{t:()=>o});var n=r(6500),a=r(4880),o=new class extends n.Q{#c=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!a.S$&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#c!==e&&(this.#c=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#c}}},9757:(e,t,r)=>{"use strict";r.d(t,{X:()=>l,k:()=>c});var n=r(4880),a=r(6261),o=r(8904),i=r(1692),l=class extends i.k{#s;#u;#d;#n;#i;#m;#f;constructor(e){super(),this.#f=!1,this.#m=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#d=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#s=u(this.options),this.state=e.state??this.#s,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){if(this.options={...this.#m,...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){const e=u(this.options);void 0!==e.data&&(this.setState(s(e.data,e.dataUpdatedAt)),this.#s=e)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#d.remove(this)}setData(e,t){const r=(0,n.pl)(this.state.data,e,this.options);return this.#l({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#l({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(n.lQ).catch(n.lQ):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#s)}isActive(){return this.observers.some(e=>!1!==(0,n.Eh)(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===n.hT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===(0,n.d2)(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!(0,n.j3)(this.state.dataUpdatedAt,e))}onFocus(){const e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){const e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#d.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#f?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#d.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#l({type:"invalidate"})}async fetch(e,t){if("idle"!==this.state.fetchStatus&&"rejected"!==this.#i?.status())if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const r=new AbortController,a=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#f=!0,r.signal)})},i=()=>{const e=(0,n.ZM)(this.options,t),r=(()=>{const e={client:this.#n,queryKey:this.queryKey,meta:this.meta};return a(e),e})();return this.#f=!1,this.options.persister?this.options.persister(e,r,this):e(r)},l=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return a(e),e})();this.options.behavior?.onFetch(l,this),this.#u=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===l.fetchOptions?.meta||this.#l({type:"fetch",meta:l.fetchOptions?.meta}),this.#i=(0,o.II)({initialPromise:t?.initialPromise,fn:l.fetchFn,onCancel:e=>{e instanceof o.cc&&e.revert&&this.setState({...this.#u,fetchStatus:"idle"}),r.abort()},onFail:(e,t)=>{this.#l({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#l({type:"pause"})},onContinue:()=>{this.#l({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const e=await this.#i.start();if(void 0===e)throw new Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#d.config.onSuccess?.(e,this),this.#d.config.onSettled?.(e,this.state.error,this),e}catch(e){if(e instanceof o.cc){if(e.silent)return this.#i.promise;if(e.revert){if(void 0===this.state.data)throw e;return this.state.data}}throw this.#l({type:"error",error:e}),this.#d.config.onError?.(e,this),this.#d.config.onSettled?.(this.state.data,e,this),e}finally{this.scheduleGc()}}#l(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...c(t.data,this.options),fetchMeta:e.meta??null};case"success":const r={...t,...s(e.data,e.dataUpdatedAt),dataUpdateCount:t.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#u=e.manual?r:void 0,r;case"error":const n=e.error;return{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),a.jG.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#d.notify({query:this,type:"updated",action:e})})}};function c(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,o.v_)(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}function s(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function u(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,n=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}},1692:(e,t,r)=>{"use strict";r.d(t,{k:()=>o});var n=r(2775),a=r(4880),o=class{#p;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,a.gn)(this.gcTime)&&(this.#p=n.zs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(a.S$?1/0:3e5))}clearGcTimeout(){this.#p&&(n.zs.clearTimeout(this.#p),this.#p=void 0)}}},8904:(e,t,r)=>{"use strict";r.d(t,{II:()=>u,cc:()=>s,v_:()=>c});var n=r(9658),a=r(6035),o=r(4658),i=r(4880);function l(e){return Math.min(1e3*2**e,3e4)}function c(e){return"online"!==(e??"online")||a.t.isOnline()}var s=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function u(e){let t,r=!1,u=0;const d=(0,o.T)(),m=()=>"pending"!==d.status,f=()=>n.m.isFocused()&&("always"===e.networkMode||a.t.isOnline())&&e.canRun(),p=()=>c(e.networkMode)&&e.canRun(),g=e=>{m()||(t?.(),d.resolve(e))},h=e=>{m()||(t?.(),d.reject(e))},y=()=>new Promise(r=>{t=e=>{(m()||f())&&r(e)},e.onPause?.()}).then(()=>{t=void 0,m()||e.onContinue?.()}),v=()=>{if(m())return;let t;const n=0===u?e.initialPromise:void 0;try{t=n??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(g).catch(t=>{if(m())return;const n=e.retry??(i.S$?0:3),a=e.retryDelay??l,o="function"==typeof a?a(u,t):a,c=!0===n||"number"==typeof n&&u<n||"function"==typeof n&&n(u,t);!r&&c?(u++,e.onFail?.(u,t),(0,i.yy)(o).then(()=>f()?void 0:y()).then(()=>{r?h(t):v()})):h(t)})};return{promise:d,status:()=>d.status,cancel:t=>{if(!m()){const r=new s(t);h(r),e.onCancel?.(r)}},continue:()=>(t?.(),d),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:p,start:()=>(p()?v():y().then(v),d)}}},6500:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});var n=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},4658:(e,t,r)=>{"use strict";function n(){let e,t;const r=new Promise((r,n)=>{e=r,t=n});function n(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=t=>{n({status:"fulfilled",value:t}),e(t)},r.reject=e=>{n({status:"rejected",reason:e}),t(e)},r}r.d(t,{T:()=>n})},2775:(e,t,r)=>{"use strict";r.d(t,{Zq:()=>o,zs:()=>a});var n={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},a=new class{#g=n;#h=!1;setTimeoutProvider(e){this.#g=e}setTimeout(e,t){return this.#g.setTimeout(e,t)}clearTimeout(e){this.#g.clearTimeout(e)}setInterval(e,t){return this.#g.setInterval(e,t)}clearInterval(e){this.#g.clearInterval(e)}};function o(e){setTimeout(e,0)}},4880:(e,t,r)=>{"use strict";r.d(t,{Cp:()=>g,EN:()=>p,Eh:()=>u,F$:()=>f,GU:()=>k,MK:()=>d,S$:()=>a,ZM:()=>S,ZZ:()=>N,Zw:()=>i,d2:()=>s,f8:()=>v,gn:()=>l,hT:()=>O,j3:()=>c,lQ:()=>o,nJ:()=>m,pl:()=>_,y9:()=>C,yy:()=>E});var n=r(2775),a="undefined"==typeof window||"Deno"in globalThis;function o(){}function i(e,t){return"function"==typeof e?e(t):e}function l(e){return"number"==typeof e&&e>=0&&e!==1/0}function c(e,t){return Math.max(e+(t||0)-Date.now(),0)}function s(e,t){return"function"==typeof e?e(t):e}function u(e,t){return"function"==typeof e?e(t):e}function d(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:o,queryKey:i,stale:l}=e;if(i)if(n){if(t.queryHash!==f(i,t.options))return!1}else if(!g(t.queryKey,i))return!1;if("all"!==r){const e=t.isActive();if("active"===r&&!e)return!1;if("inactive"===r&&e)return!1}return!("boolean"==typeof l&&t.isStale()!==l||a&&a!==t.state.fetchStatus||o&&!o(t))}function m(e,t){const{exact:r,status:n,predicate:a,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(p(t.options.mutationKey)!==p(o))return!1}else if(!g(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function f(e,t){return(t?.queryKeyHashFn||p)(e)}function p(e){return JSON.stringify(e,(e,t)=>w(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function g(e,t){return e===t||typeof e==typeof t&&!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every(r=>g(e[r],t[r]))}var h=Object.prototype.hasOwnProperty;function y(e,t){if(e===t)return e;const r=b(e)&&b(t);if(!(r||w(e)&&w(t)))return t;const n=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),o=a.length,i=r?new Array(o):{};let l=0;for(let c=0;c<o;c++){const o=r?c:a[c],s=e[o],u=t[o];if(s===u){i[o]=s,(r?c<n:h.call(e,o))&&l++;continue}if(null===s||null===u||"object"!=typeof s||"object"!=typeof u){i[o]=u;continue}const d=y(s,u);i[o]=d,d===s&&l++}return n===o&&l===n?e:i}function v(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function b(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function w(e){if(!x(e))return!1;const t=e.constructor;if(void 0===t)return!0;const r=t.prototype;return!!x(r)&&!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype}function x(e){return"[object Object]"===Object.prototype.toString.call(e)}function E(e){return new Promise(t=>{n.zs.setTimeout(t,e)})}function _(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?y(e,t):t}function C(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function N(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var O=Symbol();function S(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==O?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}function k(e,t){return"function"==typeof e?e(...t):!!e}},7665:(e,t,r)=>{"use strict";r.d(t,{Ht:()=>l,jE:()=>i});var n=r(1609),a=r(790),o=n.createContext(void 0),i=e=>{const t=n.useContext(o);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},l=({client:e,children:t})=>(n.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),(0,a.jsx)(o.Provider,{value:e,children:t}))},7097:(e,t,r)=>{"use strict";r.d(t,{n:()=>u});var n=r(1609),a=r(6158),o=r(6261),i=r(6500),l=r(4880),c=class extends i.Q{#n;#y=void 0;#v;#b;constructor(e,t){super(),this.#n=e,this.setOptions(t),this.bindMethods(),this.#w()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#n.defaultMutationOptions(e),(0,l.f8)(this.options,t)||this.#n.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#v,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,l.EN)(t.mutationKey)!==(0,l.EN)(this.options.mutationKey)?this.reset():"pending"===this.#v?.state.status&&this.#v.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#v?.removeObserver(this)}onMutationUpdate(e){this.#w(),this.#x(e)}getCurrentResult(){return this.#y}reset(){this.#v?.removeObserver(this),this.#v=void 0,this.#w(),this.#x()}mutate(e,t){return this.#b=t,this.#v?.removeObserver(this),this.#v=this.#n.getMutationCache().build(this.#n,this.options),this.#v.addObserver(this),this.#v.execute(e)}#w(){const e=this.#v?.state??(0,a.$)();this.#y={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#x(e){o.jG.batch(()=>{if(this.#b&&this.hasListeners()){const t=this.#y.variables,r=this.#y.context,n={client:this.#n,meta:this.options.meta,mutationKey:this.options.mutationKey};"success"===e?.type?(this.#b.onSuccess?.(e.data,t,r,n),this.#b.onSettled?.(e.data,null,t,r,n)):"error"===e?.type&&(this.#b.onError?.(e.error,t,r,n),this.#b.onSettled?.(void 0,e.error,t,r,n))}this.listeners.forEach(e=>{e(this.#y)})})}},s=r(7665);function u(e,t){const r=(0,s.jE)(t),[a]=n.useState(()=>new c(r,e));n.useEffect(()=>{a.setOptions(e)},[a,e]);const i=n.useSyncExternalStore(n.useCallback(e=>a.subscribe(o.jG.batchCalls(e)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),u=n.useCallback((e,t)=>{a.mutate(e,t).catch(l.lQ)},[a]);if(i.error&&(0,l.GU)(a.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:u,mutateAsync:i.mutate}}},3930:(e,t,r)=>{"use strict";r.d(t,{I:()=>k});var n=r(9658),a=r(6261),o=r(9757),i=r(6500),l=r(4658),c=r(4880),s=r(2775),u=class extends i.Q{constructor(e,t){super(),this.options=t,this.#n=e,this.#E=null,this.#_=(0,l.T)(),this.bindMethods(),this.setOptions(t)}#n;#C=void 0;#N=void 0;#y=void 0;#O;#S;#_;#E;#k;#j;#A;#P;#T;#D;#I=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#C.addObserver(this),d(this.#C,this.options)?this.#L():this.updateResult(),this.#R())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return m(this.#C,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return m(this.#C,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#F(),this.#G(),this.#C.removeObserver(this)}setOptions(e){const t=this.options,r=this.#C;if(this.options=this.#n.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,c.Eh)(this.options.enabled,this.#C))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#M(),this.#C.setOptions(this.options),t._defaulted&&!(0,c.f8)(this.options,t)&&this.#n.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#C,observer:this});const n=this.hasListeners();n&&f(this.#C,r,this.options,t)&&this.#L(),this.updateResult(),!n||this.#C===r&&(0,c.Eh)(this.options.enabled,this.#C)===(0,c.Eh)(t.enabled,this.#C)&&(0,c.d2)(this.options.staleTime,this.#C)===(0,c.d2)(t.staleTime,this.#C)||this.#q();const a=this.#H();!n||this.#C===r&&(0,c.Eh)(this.options.enabled,this.#C)===(0,c.Eh)(t.enabled,this.#C)&&a===this.#D||this.#Q(a)}getOptimisticResult(e){const t=this.#n.getQueryCache().build(this.#n,e),r=this.createResult(t,e);return n=this,a=r,!(0,c.f8)(n.getCurrentResult(),a)&&(this.#y=r,this.#S=this.options,this.#O=this.#C.state),r;var n,a}getCurrentResult(){return this.#y}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),"promise"===r&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#_.status||this.#_.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,r))})}trackProp(e){this.#I.add(e)}getCurrentQuery(){return this.#C}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#n.defaultQueryOptions(e),r=this.#n.getQueryCache().build(this.#n,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#L({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#y))}#L(e){this.#M();let t=this.#C.fetch(this.options,e);return e?.throwOnError||(t=t.catch(c.lQ)),t}#q(){this.#F();const e=(0,c.d2)(this.options.staleTime,this.#C);if(c.S$||this.#y.isStale||!(0,c.gn)(e))return;const t=(0,c.j3)(this.#y.dataUpdatedAt,e)+1;this.#P=s.zs.setTimeout(()=>{this.#y.isStale||this.updateResult()},t)}#H(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#C):this.options.refetchInterval)??!1}#Q(e){this.#G(),this.#D=e,!c.S$&&!1!==(0,c.Eh)(this.options.enabled,this.#C)&&(0,c.gn)(this.#D)&&0!==this.#D&&(this.#T=s.zs.setInterval(()=>{(this.options.refetchIntervalInBackground||n.m.isFocused())&&this.#L()},this.#D))}#R(){this.#q(),this.#Q(this.#H())}#F(){this.#P&&(s.zs.clearTimeout(this.#P),this.#P=void 0)}#G(){this.#T&&(s.zs.clearInterval(this.#T),this.#T=void 0)}createResult(e,t){const r=this.#C,n=this.options,a=this.#y,i=this.#O,s=this.#S,u=e!==r?e.state:this.#N,{state:m}=e;let g,h={...m},y=!1;if(t._optimisticResults){const a=this.hasListeners(),i=!a&&d(e,t),l=a&&f(e,r,t,n);(i||l)&&(h={...h,...(0,o.k)(m.data,e.options)}),"isRestoring"===t._optimisticResults&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:b,status:w}=h;g=h.data;let x=!1;if(void 0!==t.placeholderData&&void 0===g&&"pending"===w){let e;a?.isPlaceholderData&&t.placeholderData===s?.placeholderData?(e=a.data,x=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#A?.state.data,this.#A):t.placeholderData,void 0!==e&&(w="success",g=(0,c.pl)(a?.data,e,t),y=!0)}if(t.select&&void 0!==g&&!x)if(a&&g===i?.data&&t.select===this.#k)g=this.#j;else try{this.#k=t.select,g=t.select(g),g=(0,c.pl)(a?.data,g,t),this.#j=g,this.#E=null}catch(e){this.#E=e}this.#E&&(v=this.#E,g=this.#j,b=Date.now(),w="error");const E="fetching"===h.fetchStatus,_="pending"===w,C="error"===w,N=_&&E,O=void 0!==g,S={status:w,fetchStatus:h.fetchStatus,isPending:_,isSuccess:"success"===w,isError:C,isInitialLoading:N,isLoading:N,data:g,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:E,isRefetching:E&&!_,isLoadingError:C&&!O,isPaused:"paused"===h.fetchStatus,isPlaceholderData:y,isRefetchError:C&&O,isStale:p(e,t),refetch:this.refetch,promise:this.#_,isEnabled:!1!==(0,c.Eh)(t.enabled,e)};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===S.status?e.reject(S.error):void 0!==S.data&&e.resolve(S.data)},n=()=>{const e=this.#_=S.promise=(0,l.T)();t(e)},a=this.#_;switch(a.status){case"pending":e.queryHash===r.queryHash&&t(a);break;case"fulfilled":"error"!==S.status&&S.data===a.value||n();break;case"rejected":"error"===S.status&&S.error===a.reason||n()}}return S}updateResult(){const e=this.#y,t=this.createResult(this.#C,this.options);this.#O=this.#C.state,this.#S=this.options,void 0!==this.#O.data&&(this.#A=this.#C),(0,c.f8)(t,e)||(this.#y=t,this.#x({listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#I.size)return!0;const n=new Set(r??this.#I);return this.options.throwOnError&&n.add("error"),Object.keys(this.#y).some(t=>{const r=t;return this.#y[r]!==e[r]&&n.has(r)})})()}))}#M(){const e=this.#n.getQueryCache().build(this.#n,this.options);if(e===this.#C)return;const t=this.#C;this.#C=e,this.#N=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#R()}#x(e){a.jG.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#y)}),this.#n.getQueryCache().notify({query:this.#C,type:"observerResultsUpdated"})})}};function d(e,t){return function(e,t){return!1!==(0,c.Eh)(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&m(e,t,t.refetchOnMount)}function m(e,t,r){if(!1!==(0,c.Eh)(t.enabled,e)&&"static"!==(0,c.d2)(t.staleTime,e)){const n="function"==typeof r?r(e):r;return"always"===n||!1!==n&&p(e,t)}return!1}function f(e,t,r,n){return(e!==t||!1===(0,c.Eh)(n.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&p(e,r)}function p(e,t){return!1!==(0,c.Eh)(t.enabled,e)&&e.isStaleByTime((0,c.d2)(t.staleTime,e))}var g=r(1609),h=r(7665);r(790);var y=g.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),v=()=>g.useContext(y),b=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},w=e=>{g.useEffect(()=>{e.clearReset()},[e])},x=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&void 0===e.data||(0,c.GU)(r,[e.error,n])),E=g.createContext(!1),_=()=>g.useContext(E),C=(E.Provider,e=>{if(e.suspense){const t=1e3,r=e=>"static"===e?e:Math.max(e??t,t),n=e.staleTime;e.staleTime="function"==typeof n?(...e)=>r(n(...e)):r(n),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,t))}}),N=(e,t)=>e.isLoading&&e.isFetching&&!t,O=(e,t)=>e?.suspense&&t.isPending,S=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function k(e,t){return function(e,t,r){const n=_(),o=v(),i=(0,h.jE)(r),l=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=n?"isRestoring":"optimistic",C(l),b(l,o),w(o);const s=!i.getQueryCache().get(l.queryHash),[u]=g.useState(()=>new t(i,l)),d=u.getOptimisticResult(l),m=!n&&!1!==e.subscribed;if(g.useSyncExternalStore(g.useCallback(e=>{const t=m?u.subscribe(a.jG.batchCalls(e)):c.lQ;return u.updateResult(),t},[u,m]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),g.useEffect(()=>{u.setOptions(l)},[l,u]),O(l,d))throw S(l,u,o);if(x({result:d,errorResetBoundary:o,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw d.error;if(i.getDefaultOptions().queries?._experimental_afterQuery?.(l,d),l.experimental_prefetchInRender&&!c.S$&&N(d,n)){const e=s?S(l,u,o):i.getQueryCache().get(l.queryHash)?.promise;e?.catch(c.lQ).finally(()=>{u.updateResult()})}return l.notifyOnChangeProps?d:u.trackResult(d)}(e,u,t)}}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return r[e].call(o.exports,o,o.exports,a),o.exports}a.m=r,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce((t,r)=>(a.f[r](e,t),t),[])),a.u=e=>e+".min.js",a.miniCssF=e=>{},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="@envira/imagely-admin-app:",a.l=(r,n,o,i)=>{if(e[r])e[r].push(n);else{var l,c;if(void 0!==o)for(var s=document.getElementsByTagName("script"),u=0;u<s.length;u++){var d=s[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){l=d;break}}l||(c=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.setAttribute("data-webpack",t+o),l.src=r),e[r]=[n];var m=(t,n)=>{l.onerror=l.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach(e=>e(n)),t)return t(n)},f=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload),c&&document.head.appendChild(l)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=r[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e={39:0};a.f.j=(t,r)=>{var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise((r,a)=>n=e[t]=[r,a]);r.push(n[2]=o);var i=a.p+a.u(t),l=new Error;a.l(i,r=>{if(a.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",l.name="ChunkLoadError",l.type=o,l.request=i,n[1](l)}},"chunk-"+t,t)}};var t=(t,r)=>{var n,o,[i,l,c]=r,s=0;if(i.some(t=>0!==e[t])){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);c&&c(a)}for(t&&t(r);s<i.length;s++)o=i[s],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunk_envira_imagely_admin_app=self.webpackChunk_envira_imagely_admin_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=a(6106);const t=window.wp.blocks;var r=a(6087),n=a(467),o=a(5458),i=a(3453),l=a(9292),c=a(1609),s=a.n(c),u=a(2549),d=a(7143);const m=function(){var t=(0,d.useDispatch)(u.E),r=(0,d.useSelect)(function(e){return e(u.E).getNotifications()},[]),n=function(e){switch(e){case"success":return"bg-green-50 border-green-200 text-green-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"error":return"bg-red-50 border-red-200 text-red-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}},a=function(e){switch(e){case"success":return"text-green-400";case"info":return"text-blue-400";case"warning":return"text-yellow-400";case"error":return"text-red-400";default:return"text-gray-400"}};return 0===r.length?null:s().createElement("div",{className:"fixed top-10 right-4 z-50 space-y-3 max-w-sm"},r.map(function(r){return s().createElement("div",{key:r.id,className:"p-4 rounded-lg border shadow-lg transition-all duration-300 ease-in-out transform hover:scale-105 ".concat(n(r.type))},s().createElement("div",{className:"flex items-start"},s().createElement("div",{className:"flex-shrink-0 ".concat(a(r.type))},function(t){switch(t){case"success":return s().createElement(e.$C,{className:"w-5 h-5"});case"info":return s().createElement(e.it,{className:"w-5 h-5"});case"warning":return s().createElement(e.m,{className:"w-5 h-5"});case"error":return s().createElement(e.aP,{className:"w-5 h-5"});default:return null}}(r.type)),s().createElement("div",{className:"ml-3 flex-1"},s().createElement("p",{className:"text-sm font-medium"},r.message)),r.dismissible&&s().createElement("div",{className:"ml-4 flex-shrink-0"},s().createElement("button",{onClick:function(){return t.dismissNotice(r.id)},className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600 transition ease-in-out duration-150"},s().createElement(e.US,{className:"w-4 h-4"})))))}))};var f=a(7723);const p=function(){return(0,d.useSelect)(function(e){return{isPageLoading:e(u.E).getPageLoading()}},[]).isPageLoading?s().createElement("div",{className:"fixed inset-0 bg-white bg-opacity-75 flex items-center justify-center z-50"},s().createElement(l.A,{size:"lg",color:"green",text:(0,f.__)("Loading...","nggallery"),centerInContainer:!1})):null};var g=a(8168),h=a(7196);var y=a(4980),v=a(45),b=a(3155),w=a(2416),x=a(2329),E=["isOpen","onClose","onAlbumCreated"];function _(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return C(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(C(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,C(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,C(d,"constructor",s),C(s,"constructor",c),c.displayName="GeneratorFunction",C(s,a,"GeneratorFunction"),C(d),C(d,a,"Generator"),C(d,n,function(){return this}),C(d,"toString",function(){return"[object Generator]"}),(_=function(){return{w:o,m}})()}function C(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}C=function(e,t,r,n){function o(t,r){C(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},C(e,t,r,n)}const N=function(e){var t=e.isOpen,r=e.onClose,a=e.onAlbumCreated,o=(0,v.A)(e,E),m=(0,c.useState)(""),p=(0,i.A)(m,2),C=p[0],N=p[1],O=(0,c.useState)(!1),S=(0,i.A)(O,2),k=S[0],j=S[1],A=(0,b.dF)(),P=(0,w.E)(),T=P.showSuccess,D=P.showError,I=(0,d.useDispatch)(u.E),L=(0,x.X)(),R=(0,c.useCallback)(function(){var e=(0,n.A)(_().m(function e(t){var n,o,i,l,c,s,u,d;return _().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.preventDefault(),C.trim()){e.n=1;break}return D((0,f.__)("Album name is required","nggallery")),e.a(2);case 1:return j(!0),e.p=2,l="photocrati-nextgen_basic_compact_album",c={open_gallery_in_lightbox:!1,gallery_display_type:"photocrati-nextgen_basic_thumbnails",galleries_per_page:20,enable_breadcrumbs:1,enable_descriptions:0,display_view:"default",template:"default",override_thumbnail_settings:1,thumbnail_width:240,thumbnail_height:160,thumbnail_crop:1,animate_images_enable:!1,animate_images_style:"wobble",animate_images_duration:1500,animate_images_delay:250,animate_pagination_enable:!1,animate_pagination_style:"flipInX",animate_pagination_duration:1500,animate_pagination_delay:250,is_ecommerce_enabled:0},s={name:C.trim(),description:"",sortorder:[],display_type:l,display_type_settings:(0,y.A)({},l,c)},e.n=3,A.mutateAsync(s);case 3:null!=(u=e.v)&&u.message&&T(u.message),N(""),a&&null!=u&&null!==(n=u.album)&&void 0!==n&&n.id?a(u.album.id):null!=L&&L.isEmbed&&null!=L&&L.onInsertAlbum&&null!=u&&null!==(o=u.album)&&void 0!==o&&o.id?L.onInsertAlbum(u.album.id):null!=u&&null!==(i=u.album)&&void 0!==i&&i.id?(I.navigateTo("imagely-albums","galleries",u.album.id),r()):r(),e.n=5;break;case 4:e.p=4,d=e.v,console.error(" Error details:",JSON.stringify(d,null,2)),D((0,f.__)("Failed to create album","nggallery"));case 5:return e.p=5,j(!1),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(t){return e.apply(this,arguments)}}(),[C,T,D,r,A,I,L]),F=(0,c.useCallback)(function(){N(""),r(),null!=L&&L.isEmbed&&null!=L&&L.onClose&&L.onClose()},[r,L]);return s().createElement(h.A,(0,g.A)({isOpen:t,onClose:F,title:(0,f.__)("Create New Album","nggallery")},o),s().createElement("form",{onSubmit:R,className:"space-y-6"},s().createElement("div",null,s().createElement("label",{htmlFor:"album-name",className:"block text-sm font-medium text-gray-700 mb-2"},(0,f.__)("Album Name","nggallery")," ",s().createElement("span",{className:"text-red-500"},"*")),s().createElement("input",{id:"album-name",type:"text",value:C,onChange:function(e){return N(e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:(0,f.__)("Enter album name","nggallery"),disabled:k,required:!0})),s().createElement("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200"},s().createElement("button",{type:"button",onClick:F,disabled:k,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50"},(0,f.__)("Cancel","nggallery")),s().createElement("button",{type:"submit",disabled:k||!C.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-green-500 border border-transparent rounded-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center"},k?s().createElement("span",{className:"inline-flex items-center"},s().createElement("span",{className:"mr-2"},s().createElement(l.A,{size:"sm",color:"gray",className:"!border-white",centerInContainer:!1})),s().createElement("span",null,(0,f.__)("Creating...","nggallery"))):(0,f.__)("Create Album","nggallery")))))};function O(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return S(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(S(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,S(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,S(d,"constructor",s),S(s,"constructor",c),c.displayName="GeneratorFunction",S(s,a,"GeneratorFunction"),S(d),S(d,a,"Generator"),S(d,n,function(){return this}),S(d,"toString",function(){return"[object Generator]"}),(O=function(){return{w:o,m}})()}function S(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}S=function(e,t,r,n){function o(t,r){S(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},S(e,t,r,n)}const k=function(e){var t=e.current,r=e.total,n=e.label,a=e.showPercentage,o=void 0===a||a,i=r>0?Math.round(t/r*100):0;return s().createElement("div",{className:"w-full"},n&&s().createElement("div",{className:"flex justify-between items-center mb-2"},s().createElement("span",{className:"text-sm font-medium text-gray-700"},n),o&&s().createElement("span",{className:"text-sm text-gray-500"},t," / ",r," (",i,"%)")),s().createElement("div",{className:"w-full bg-gray-200 rounded-full h-2.5 overflow-hidden"},s().createElement("div",{className:"bg-green-600 h-2.5 rounded-full transition-all duration-300 ease-out",style:{width:"".concat(i,"%")}})))};var j=a(2724),A=a(7374);function P(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return T(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(T(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,T(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,T(d,"constructor",s),T(s,"constructor",c),c.displayName="GeneratorFunction",T(s,a,"GeneratorFunction"),T(d),T(d,a,"Generator"),T(d,n,function(){return this}),T(d,"toString",function(){return"[object Generator]"}),(P=function(){return{w:o,m}})()}function T(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}T=function(e,t,r,n){function o(t,r){T(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},T(e,t,r,n)}var D=a(7665);function I(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return L(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(L(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,L(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,L(d,"constructor",s),L(s,"constructor",c),c.displayName="GeneratorFunction",L(s,a,"GeneratorFunction"),L(d),L(d,a,"Generator"),L(d,n,function(){return this}),L(d,"toString",function(){return"[object Generator]"}),(I=function(){return{w:o,m}})()}function L(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}L=function(e,t,r,n){function o(t,r){L(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},L(e,t,r,n)}function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach(function(t){(0,y.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function G(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return M(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var q=a(3633);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach(function(t){(0,y.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function z(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return K(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(K(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,K(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,K(d,"constructor",s),K(s,"constructor",c),c.displayName="GeneratorFunction",K(s,a,"GeneratorFunction"),K(d),K(d,a,"Generator"),K(d,n,function(){return this}),K(d,"toString",function(){return"[object Generator]"}),(z=function(){return{w:o,m}})()}function K(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}K=function(e,t,r,n){function o(t,r){K(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},K(e,t,r,n)}function W(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return B(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(B(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,B(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,B(d,"constructor",s),B(s,"constructor",c),c.displayName="GeneratorFunction",B(s,a,"GeneratorFunction"),B(d),B(d,a,"Generator"),B(d,n,function(){return this}),B(d,"toString",function(){return"[object Generator]"}),(W=function(){return{w:o,m}})()}function B(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}B=function(e,t,r,n){function o(t,r){B(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},B(e,t,r,n)}function U(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return V(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(V(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,V(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,V(d,"constructor",s),V(s,"constructor",c),c.displayName="GeneratorFunction",V(s,a,"GeneratorFunction"),V(d),V(d,a,"Generator"),V(d,n,function(){return this}),V(d,"toString",function(){return"[object Generator]"}),(U=function(){return{w:o,m}})()}function V(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}V=function(e,t,r,n){function o(t,r){V(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},V(e,t,r,n)}function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach(function(t){(0,y.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Y=a(3930),$=a(7097),J=a(1455),ee=a.n(J);function te(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return re(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(re(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,re(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,re(d,"constructor",s),re(s,"constructor",c),c.displayName="GeneratorFunction",re(s,a,"GeneratorFunction"),re(d),re(d,a,"Generator"),re(d,n,function(){return this}),re(d,"toString",function(){return"[object Generator]"}),(te=function(){return{w:o,m}})()}function re(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}re=function(e,t,r,n){function o(t,r){re(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},re(e,t,r,n)}function ne(e){var t,r,n,a="percent"===(null==e?void 0:e.discount_type)?"percentage":"flat",o=null!==(t=null==e?void 0:e.ID)&&void 0!==t?t:null==e?void 0:e.id,i=(null==e?void 0:e.date)||(null==e?void 0:e.date_start)||"";return{id:Number(o),coupon_for:String((null==e?void 0:e.title)||""),coupon_code:String((null==e?void 0:e.id_code)||""),discount_type:a,discount_value:String(null!==(r=null!==(n=null==e?void 0:e.discount_amount)&&void 0!==n?n:null==e?void 0:e.discount_value)&&void 0!==r?r:""),start_date:(null==e?void 0:e.date_start)||void 0,end_date:(null==e?void 0:e.date_end)||void 0,usage_limit:null!==(null==e?void 0:e.usage_limit)&&void 0!==(null==e?void 0:e.usage_limit)?String(null==e?void 0:e.usage_limit):void 0,date:i,status:null==e?void 0:e.status,times_used:"number"==typeof(null==e?void 0:e.times_used)?null==e?void 0:e.times_used:void 0}}function ae(e){var t;return{id:Number(null==e?void 0:e.id),coupon_for:String((null==e?void 0:e.coupon_for)||""),coupon_code:String((null==e?void 0:e.coupon_code)||""),discount_type:"percentage"===(null==e?void 0:e.discount_type)||"flat"===(null==e?void 0:e.discount_type)?null==e?void 0:e.discount_type:"flat",discount_value:String(null!==(t=null==e?void 0:e.discount_value)&&void 0!==t?t:""),start_date:(null==e?void 0:e.start_date)||void 0,end_date:(null==e?void 0:e.end_date)||void 0,usage_limit:null!==(null==e?void 0:e.usage_limit)&&void 0!==(null==e?void 0:e.usage_limit)?String(null==e?void 0:e.usage_limit):void 0,date:(null==e?void 0:e.date)||(null==e?void 0:e.start_date)||"",status:null==e?void 0:e.status,times_used:"number"==typeof(null==e?void 0:e.times_used)?null==e?void 0:e.times_used:void 0}}var oe=function(e){return["coupon",e]},ie=function(e){return(0,Y.I)({queryKey:e?oe(e):["coupon","none"],enabled:!!e,queryFn:(t=(0,n.A)(te().m(function t(){var r,n,a;return te().w(function(t){for(;;)switch(t.n){case 0:return n=null===(r=window.imagelyApp)||void 0===r?void 0:r.nonce,t.n=1,ee()({path:"/imagely/v1/coupons/".concat(e),method:"GET",headers:{"X-WP-Nonce":n}});case 1:if(!(a=t.v)||!a.id_code&&!a.ID){t.n=2;break}return t.a(2,ne(a));case 2:return t.a(2,ae(a))}},t)})),function(){return t.apply(this,arguments)}),staleTime:0,gcTime:6e5,retry:0,refetchOnMount:!0,refetchOnWindowFocus:!1});var t},le=a(2026);var ce=a(7899),se=a(5909);function ue(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return de(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(de(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,de(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,de(d,"constructor",s),de(s,"constructor",c),c.displayName="GeneratorFunction",de(s,a,"GeneratorFunction"),de(d),de(d,a,"Generator"),de(d,n,function(){return this}),de(d,"toString",function(){return"[object Generator]"}),(ue=function(){return{w:o,m}})()}function de(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}de=function(e,t,r,n){function o(t,r){de(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},de(e,t,r,n)}function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach(function(t){(0,y.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function pe(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return ge(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(ge(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,ge(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,ge(d,"constructor",s),ge(s,"constructor",c),c.displayName="GeneratorFunction",ge(s,a,"GeneratorFunction"),ge(d),ge(d,a,"Generator"),ge(d,n,function(){return this}),ge(d,"toString",function(){return"[object Generator]"}),(pe=function(){return{w:o,m}})()}function ge(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}ge=function(e,t,r,n){function o(t,r){ge(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},ge(e,t,r,n)}function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach(function(t){(0,y.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ve=a(3717),be=["isOpen","entityType","items","getItemId","getItemLabel","onClose","onConfirm","title","singularLabel","pluralLabel","confirmLabel","cancelLabel","maxList"];function we(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return xe(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(xe(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,xe(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,xe(d,"constructor",s),xe(s,"constructor",c),c.displayName="GeneratorFunction",xe(s,a,"GeneratorFunction"),xe(d),xe(d,a,"Generator"),xe(d,n,function(){return this}),xe(d,"toString",function(){return"[object Generator]"}),(we=function(){return{w:o,m}})()}function xe(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}xe=function(e,t,r,n){function o(t,r){xe(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},xe(e,t,r,n)}const Ee=function(t){var r=t.isOpen,a=t.entityType,o=t.items,i=t.getItemId,l=t.getItemLabel,u=t.onClose,d=void 0===u?function(){}:u,m=t.onConfirm,p=void 0===m?function(){}:m,y=t.title,x=t.singularLabel,E=void 0===x?"item":x,_=t.pluralLabel,C=void 0===_?"items":_,N=t.confirmLabel,O=void 0===N?(0,f.__)("Delete","nggallery"):N,S=t.cancelLabel,k=void 0===S?(0,f.__)("Cancel","nggallery"):S,A=t.maxList,P=void 0===A?5:A,T=(0,v.A)(t,be),D=(0,ve.Ws)(),I=(0,j.ln)(),L=(0,b.wY)(),R=(0,w.E)(),F=R.showSuccess,G=R.showError,M=D.isPending||I.isPending||L.isPending,q=(0,c.useMemo)(function(){return o.length<=P?s().createElement("ul",{className:"list-none text-sm text-gray-700 px-4 text-center"},o.map(function(e){return s().createElement("li",{key:i(e)},l(e))})):null},[o,i,l,P]),H=function(){var e=(0,n.A)(we().m(function e(){var t,r;return we().w(function(e){for(;;)switch(e.p=e.n){case 0:if(0!==o.length){e.n=1;break}return e.a(2);case 1:if(e.p=1,"images"!==a){e.n=3;break}return e.n=2,Promise.all(o.map(function(e){return D.mutateAsync({imageId:i(e)})}));case 2:e.n=6;break;case 3:if("galleries"!==a){e.n=5;break}return e.n=4,Promise.all(o.map(function(e){return I.mutateAsync(i(e))}));case 4:e.n=6;break;case 5:if("albums"!==a){e.n=6;break}return e.n=6,Promise.all(o.map(function(e){return L.mutateAsync(i(e))}));case 6:t=1===o.length?E:C,F((0,f.__)("Successfully deleted ".concat(o.length," ").concat(t),"nggallery")),p(),d(),e.n=8;break;case 7:e.p=7,r=e.v,console.error("Error deleting items:",r),G((0,f.__)("Failed to delete items","nggallery"));case 8:return e.a(2)}},e,null,[[1,7]])}));return function(){return e.apply(this,arguments)}}();return s().createElement(h.A,(0,g.A)({isOpen:r,onClose:d},T),s().createElement("div",{className:"space-y-4"},s().createElement("div",{className:"flex items-center gap-2 justify-center"},s().createElement("div",null,s().createElement(e.b4,null))),y&&s().createElement("h2",{className:"text-xl font-bold text-center text-gray-900 mt-2"},y),s().createElement("p",{className:"text-sm text-gray-500 text-center"},(0,f.__)("Are you sure you want to delete ".concat(o.length," ").concat(1===o.length?E:C,"?"))),q,s().createElement("p",{className:"text-sm text-red-500 text-center"},(0,f.__)("This action cannot be undone.","nggallery")),s().createElement("div",{className:"flex justify-center space-x-3 !mb-4 ".concat(M?"cursor-wait":"")},s().createElement("button",{type:"button",onClick:d,disabled:M,className:"px-8 py-2 font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},k),s().createElement("button",{type:"button",onClick:H,disabled:M,className:"px-8 py-2 font-bold text-white bg-green-500 border border-transparent rounded-lg shadow hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},M?s().createElement("span",{className:"flex items-center"},s().createElement(e.Nl,{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white"}),(0,f.__)("Deleting...","nggallery")):O))))};var _e=["isOpen","albums","onClose","onConfirm","title"];function Ce(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return Ne(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(Ne(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Ne(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,Ne(d,"constructor",s),Ne(s,"constructor",c),c.displayName="GeneratorFunction",Ne(s,a,"GeneratorFunction"),Ne(d),Ne(d,a,"Generator"),Ne(d,n,function(){return this}),Ne(d,"toString",function(){return"[object Generator]"}),(Ce=function(){return{w:o,m}})()}function Ne(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Ne=function(e,t,r,n){function o(t,r){Ne(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},Ne(e,t,r,n)}var Oe=["isOpen","galleries","onClose","onConfirm","title"];var Se=["isOpen","images","onClose","onConfirm","title"];function ke(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return je(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(je(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,je(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,je(d,"constructor",s),je(s,"constructor",c),c.displayName="GeneratorFunction",je(s,a,"GeneratorFunction"),je(d),je(d,a,"Generator"),je(d,n,function(){return this}),je(d,"toString",function(){return"[object Generator]"}),(ke=function(){return{w:o,m}})()}function je(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}je=function(e,t,r,n){function o(t,r){je(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},je(e,t,r,n)}var Ae=["isOpen","tags","onClose","onConfirm","title"];function Pe(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return Te(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(Te(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Te(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,Te(d,"constructor",s),Te(s,"constructor",c),c.displayName="GeneratorFunction",Te(s,a,"GeneratorFunction"),Te(d),Te(d,a,"Generator"),Te(d,n,function(){return this}),Te(d,"toString",function(){return"[object Generator]"}),(Pe=function(){return{w:o,m}})()}function Te(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Te=function(e,t,r,n){function o(t,r){Te(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},Te(e,t,r,n)}function De(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?De(Object(r),!0).forEach(function(t){(0,y.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):De(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Le(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return Re(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(Re(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Re(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,Re(d,"constructor",s),Re(s,"constructor",c),c.displayName="GeneratorFunction",Re(s,a,"GeneratorFunction"),Re(d),Re(d,a,"Generator"),Re(d,n,function(){return this}),Re(d,"toString",function(){return"[object Generator]"}),(Le=function(){return{w:o,m}})()}function Re(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Re=function(e,t,r,n){function o(t,r){Re(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},Re(e,t,r,n)}function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach(function(t){(0,y.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Me=a(3597);function qe(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return He(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(He(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,He(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,He(d,"constructor",s),He(s,"constructor",c),c.displayName="GeneratorFunction",He(s,a,"GeneratorFunction"),He(d),He(d,a,"Generator"),He(d,n,function(){return this}),He(d,"toString",function(){return"[object Generator]"}),(qe=function(){return{w:o,m}})()}function He(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}He=function(e,t,r,n){function o(t,r){He(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},He(e,t,r,n)}function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach(function(t){(0,y.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Ke=function(e){var t=e.gallery,r=e.onClose,a=e.onUpdate,o=(0,j.hW)(),l=(0,w.E)(),u=l.showSuccess,d=l.showError,m=(0,c.useState)({title:"",galdesc:""}),p=(0,i.A)(m,2),g=p[0],h=p[1];(0,c.useEffect)(function(){h({title:t.title||"",galdesc:t.galdesc||""})},[t]);var v=function(e){var t=e.target,r=t.name,n=t.value;h(function(e){return ze(ze({},e),{},(0,y.A)({},r,n))})},b=function(){var e=(0,n.A)(qe().m(function e(n){var i;return qe().w(function(e){for(;;)switch(e.p=e.n){case 0:return n.preventDefault(),e.p=1,e.n=2,o.mutateAsync({id:t.gid,data:{title:g.title,name:g.title,galdesc:g.galdesc}});case 2:a&&a(),r(),u((0,f.__)("Gallery updated successfully!","nggallery")),e.n=4;break;case 3:e.p=3,i=e.v,console.error("Error updating gallery:",i),console.error("Error details:",{message:i instanceof Error?i.message:"Unknown error",stack:i instanceof Error?i.stack:void 0,errorObject:i}),d((0,f.__)("Failed to update gallery. Please try again.","nggallery"));case 4:return e.a(2)}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}();return s().createElement("form",{onSubmit:b,className:"space-y-4"},s().createElement(se.A,{type:"text",name:"title",value:g.title,onChange:v,label:(0,f.__)("Gallery Title","nggallery"),placeholder:(0,f.__)("Enter gallery title","nggallery")}),s().createElement(Me.A,{name:"galdesc",value:g.galdesc,onChange:v,label:(0,f.__)("Gallery Description","nggallery"),placeholder:(0,f.__)("Enter gallery description","nggallery"),rows:6}),s().createElement("div",{className:"flex justify-end space-x-2"},s().createElement("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors"},(0,f.__)("Cancel","nggallery")),s().createElement("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"},(0,f.__)("Save Changes","nggallery"))))};function We(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return Be(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(Be(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Be(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,Be(d,"constructor",s),Be(s,"constructor",c),c.displayName="GeneratorFunction",Be(s,a,"GeneratorFunction"),Be(d),Be(d,a,"Generator"),Be(d,n,function(){return this}),Be(d,"toString",function(){return"[object Generator]"}),(We=function(){return{w:o,m}})()}function Be(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Be=function(e,t,r,n){function o(t,r){Be(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},Be(e,t,r,n)}function Ue(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return Ve(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(Ve(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Ve(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,Ve(d,"constructor",s),Ve(s,"constructor",c),c.displayName="GeneratorFunction",Ve(s,a,"GeneratorFunction"),Ve(d),Ve(d,a,"Generator"),Ve(d,n,function(){return this}),Ve(d,"toString",function(){return"[object Generator]"}),(Ue=function(){return{w:o,m}})()}function Ve(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Ve=function(e,t,r,n){function o(t,r){Ve(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},Ve(e,t,r,n)}function Xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(r),!0).forEach(function(t){(0,y.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Ye=function(e){var t=e.onSuccess,r=(0,d.useDispatch)(u.E),a=(0,j.AO)(),o=(0,w.E)(),l=o.showSuccess,m=o.showError,p=(0,c.useState)({title:"",galdesc:""}),g=(0,i.A)(p,2),h=g[0],v=g[1],b=function(e){var t=e.target,r=t.name,n=t.value;v(function(e){return Ze(Ze({},e),{},(0,y.A)({},r,n))})},x=function(){var e=(0,n.A)(Ue().m(function e(n){var o,i;return Ue().w(function(e){for(;;)switch(e.p=e.n){case 0:return n.preventDefault(),e.p=1,e.n=2,a.mutateAsync(Ze(Ze({},h),{},{name:h.title}));case 2:o=e.v,v({title:"",galdesc:""}),r.setActiveModal(null),t&&null!=o&&o.gid?(t(o.gid),l((0,f.__)("Gallery created successfully!","nggallery"))):null!=o&&o.gid?(r.navigateTo("imagely-add-new","images",o.gid),l((0,f.__)("Gallery created successfully!","nggallery"))):(console.warn("Could not navigate: Gallery ID is missing from response"),console.warn("Response structure:",Object.keys(o||{}))),e.n=4;break;case 3:e.p=3,i=e.v,console.error("Error creating gallery:",i),console.error("Error details:",{message:i instanceof Error?i.message:"Unknown error",stack:i instanceof Error?i.stack:void 0,errorObject:i}),m((0,f.__)("Failed to create gallery. Please try again.","nggallery"));case 4:return e.a(2)}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}();return s().createElement("form",{onSubmit:x,className:"space-y-4"},s().createElement(se.A,{type:"text",name:"title",value:h.title,onChange:b,label:(0,f.__)("Gallery Title","nggallery"),placeholder:(0,f.__)("Enter gallery title","nggallery")}),s().createElement(Me.A,{name:"galdesc",value:h.galdesc,onChange:b,label:(0,f.__)("Gallery Description","nggallery"),placeholder:(0,f.__)("Enter gallery description","nggallery"),rows:6}),s().createElement("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg transition-colors"},(0,f.__)("Create Gallery","nggallery")))};var $e=["isOpen","onClose","onGalleryCreated"];function Je(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return et(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(et(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,et(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,et(d,"constructor",s),et(s,"constructor",c),c.displayName="GeneratorFunction",et(s,a,"GeneratorFunction"),et(d),et(d,a,"Generator"),et(d,n,function(){return this}),et(d,"toString",function(){return"[object Generator]"}),(Je=function(){return{w:o,m}})()}function et(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}et=function(e,t,r,n){function o(t,r){et(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},et(e,t,r,n)}function tt(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return rt(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(rt(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,rt(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,rt(d,"constructor",s),rt(s,"constructor",c),c.displayName="GeneratorFunction",rt(s,a,"GeneratorFunction"),rt(d),rt(d,a,"Generator"),rt(d,n,function(){return this}),rt(d,"toString",function(){return"[object Generator]"}),(tt=function(){return{w:o,m}})()}function rt(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}rt=function(e,t,r,n){function o(t,r){rt(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},rt(e,t,r,n)}var nt=a(2284),at=a(6415),ot=a(443),it=a(4540),lt=a(5300);function ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(r),!0).forEach(function(t){(0,y.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ut(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return dt(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(dt(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,dt(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,dt(d,"constructor",s),dt(s,"constructor",c),c.displayName="GeneratorFunction",dt(s,a,"GeneratorFunction"),dt(d),dt(d,a,"Generator"),dt(d,n,function(){return this}),dt(d,"toString",function(){return"[object Generator]"}),(ut=function(){return{w:o,m}})()}function dt(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}dt=function(e,t,r,n){function o(t,r){dt(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},dt(e,t,r,n)}var mt={images:"image/jpeg,image/png,image/gif,image/webp",zip:"application/zip,application/x-zip-compressed"},ft=function(e){return mt.images.includes(e.type)||mt.zip.includes(e.type)},pt=function(e){return mt.zip.includes(e.type)};const gt=function(t){var r=t.galleryId,a=t.onGalleryCreated,l=(0,c.useState)("media"),m=(0,i.A)(l,2),p=m[0],g=m[1],h=(0,c.useState)(!1),y=(0,i.A)(h,2),v=y[0],b=y[1],x=(0,c.useState)([]),E=(0,i.A)(x,2),_=E[0],C=E[1],N=(0,c.useState)([]),O=(0,i.A)(N,2),S=O[0],k=O[1],j=(0,c.useState)(""),A=(0,i.A)(j,2),P=A[0],T=A[1],I=(0,c.useState)(!1),L=(0,i.A)(I,2),R=L[0],F=L[1],G=(0,c.useState)(""),M=(0,i.A)(G,2),q=M[0],H=M[1],Q=(0,c.useState)(""),z=(0,i.A)(Q,2),K=z[0],W=z[1],B=(0,c.useState)([]),U=(0,i.A)(B,2),V=U[0],X=U[1],Z=(0,c.useState)(!1),Y=(0,i.A)(Z,2),$=Y[0],J=Y[1],te=(0,c.useRef)(null),re=!r,ne=(0,d.useDispatch)(u.E),ae=(0,ot.r)(),oe=ae.navigateTo,ie=ae.setCurrentId,le=(0,w.E)(),ce=le.showSuccess,ue=le.showError,de=(0,D.jE)();(0,c.useEffect)(function(){"folder"===p&&fe()},[p]);var me=function(e){setTimeout(function(){C(function(t){return t.filter(function(t){return t.file!==e||"uploading"===t.status||"error"===t.status})})},1e3)},fe=function(){var e=(0,n.A)(ut().m(function e(){var t,r,n,a=arguments;return ut().w(function(e){for(;;)switch(e.p=e.n){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",F(!0),H(""),e.p=1,e.n=2,ee()({path:"/imagely/v1/folders/browse".concat(t?"?dir=".concat(encodeURIComponent(t)):""),method:"GET"});case 2:r=e.v,k(r.directories||[]),T(t),e.n=4;break;case 3:e.p=3,n=e.v,console.error("Error loading directories:",n),H((0,f.__)("Failed to load directories. Please try again.","nggallery"));case 4:return e.p=4,F(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=(0,n.A)(ut().m(function e(t){var r,n,o;return ut().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.preventDefault(),K.trim()){e.n=1;break}return ue((0,f.__)("Please provide a gallery title.","nggallery")),e.a(2);case 1:return e.p=1,ne.setPageLoading(!0),e.n=2,ee()({path:"/imagely/v1/galleries",method:"POST",headers:(0,it.kX)(),data:{title:K.trim(),name:K.trim(),galdesc:""}});case 2:if(null==(r=e.v)||!r.gid){e.n=3;break}n=r.gid,ne.setActiveModal(null),de.invalidateQueries({queryKey:["galleries"]}),de.invalidateQueries({queryKey:["gallery",n]}),a?a(n):oe("imagely-add-new","images",n),ce((0,f.__)("Gallery created successfully! You can now add images.","nggallery")),e.n=4;break;case 3:throw new Error((0,f.__)("Failed to create gallery","nggallery"));case 4:e.n=6;break;case 5:e.p=5,o=e.v,console.error("Error creating gallery:",o),ue((0,f.__)("Failed to create gallery. Please try again.","nggallery"));case 6:return e.p=6,ne.setPageLoading(!1),e.f(6);case 7:return e.a(2)}},e,null,[[1,5,6,7]])}));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=(0,n.A)(ut().m(function e(){var t,a,o,i,l;return ut().w(function(e){for(;;)switch(e.p=e.n){case 0:if(P){e.n=1;break}return H((0,f.__)("Please select a folder to import.","nggallery")),e.a(2);case 1:if(r||K.trim()){e.n=2;break}return H((0,f.__)("Please provide a gallery title.","nggallery")),e.a(2);case 2:return F(!0),H(""),e.p=3,t={folder:P,keep_location:$},r?t.gallery_id=r:K&&(t.gallery_title=K),e.n=4,ee()({path:"/imagely/v1/folders/import",method:"POST",headers:(0,it.kX)(),data:t}).catch(function(){var e=(0,n.A)(ut().m(function e(t){var r;return ut().w(function(e){for(;;)switch(e.n){case 0:if(!(t instanceof Response)){e.n=2;break}return e.n=1,t.json();case 1:if(null==(r=e.v)||!r.error){e.n=2;break}throw new Error(r.error);case 2:throw new Error((0,f.__)("Failed to import folder. Please try again.","nggallery"));case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}());case 4:if(!(a=e.v)||"object"!==(0,nt.A)(a)||!("error"in a)){e.n=5;break}throw new Error(a.error);case 5:if(o=null==a?void 0:a.gallery_id){e.n=6;break}throw new Error((0,f.__)("No gallery ID returned from the import.","nggallery"));case 6:return ce((0,f.__)("Folder imported successfully!","nggallery")),e.n=7,Ee(o);case 7:e.n=9;break;case 8:e.p=8,l=e.v,i=(null==l?void 0:l.message)||(0,f.__)("Failed to import folder. Please try again.","nggallery"),H(i),ue(i);case 9:return e.p=9,F(!1),e.f(9);case 10:return e.a(2)}},e,null,[[3,8,9,10]])}));return function(){return e.apply(this,arguments)}}(),he=function(){var e=(0,n.A)(ut().m(function e(t){var n,a,o,i,l,c,s;return ut().w(function(e){for(;;)switch(e.n){case 0:if(ft(t)){e.n=1;break}return C(function(e){return e.map(function(e){return e.file===t?st(st({},e),{},{status:"error",error:(0,f.__)("Invalid file type. Please upload images (JPEG, PNG, GIF, WebP) or ZIP files.","nggallery")}):e})}),e.a(2);case 1:return(a=new FormData).append("file",t),r?a.append("gallery_id",r.toString()):K&&a.append("gallery_name",K),C(function(e){return e.map(function(e){return e.file===t?st(st({},e),{},{status:"uploading",progress:1}):e})}),o=window,i=(null===(n=o.imagelyApp)||void 0===n?void 0:n.restURL)||"/wp-json/",l=i.replace(/\/+$/,""),c="".concat(l,"/imagely/v1/images/upload"),s=(0,it.m9)(),e.n=2,new Promise(function(e){var r=new XMLHttpRequest,n=null;r.open("POST",c,!0),r.withCredentials=!0,s&&r.setRequestHeader("X-WP-Nonce",s),r.upload.onprogress=function(e){if(e.lengthComputable&&0!==e.total){var r=e.loaded/e.total*100,a=Math.round(r);C(function(e){return e.map(function(e){if(e.file!==t||"uploading"!==e.status)return e;var r=Math.min(100,Math.max(1,a)),n=Math.round(r/100*80),o=e.progress||0,i=Math.max(o,n);return st(st({},e),{},{progress:i})})}),e.lengthComputable&&e.loaded===e.total&&null===n&&(n=window.setInterval(function(){C(function(e){return e.map(function(e){if(e.file!==t||"uploading"!==e.status)return e;var r=e.progress||0;return r>=95?e:st(st({},e),{},{progress:Math.min(95,r+1)})})})},200))}},r.onerror=function(){null!==n&&clearInterval(n),console.error("Error uploading file:",t.name,r.statusText),C(function(e){return e.map(function(e){return e.file===t?st(st({},e),{},{status:"error",error:(0,f.__)("Upload failed","nggallery")}):e})}),e(void 0)},r.onload=function(){var a;null!==n&&clearInterval(n);try{var o=r.status,i=r.responseText||"";if(o<200||o>=300){if(i)try{var l=JSON.parse(i);if(l&&"object"===(0,nt.A)(l)&&l.error)throw new Error(l.error)}catch(e){}throw new Error((0,f.__)("Upload failed","nggallery"))}if((a=i?JSON.parse(i):{}).error)throw new Error(a.error);C(function(e){return e.map(function(e){return e.file===t?st(st({},e),{},{status:"completed",progress:100}):e})}),me(t),e(a)}catch(r){console.error("Error uploading file:",t.name,r),C(function(e){return e.map(function(e){return e.file===t?st(st({},e),{},{status:"error",error:(0,f.__)("Upload failed","nggallery")}):e})}),e(void 0)}},r.send(a)});case 2:return e.a(2,e.v)}},e)}));return function(t){return e.apply(this,arguments)}}();(0,c.useEffect)(function(){return function(){V.forEach(function(e){e.preview.startsWith("blob:")&&URL.revokeObjectURL(e.preview)})}},[V]);var ye=function(e){var t=Array.from(e).map(function(e){return{file:e,preview:pt(e)?(0,lt.B)({width:130,height:130,text:"ZIP FILE",backgroundColor:"#f0f0f0",textColor:"#666666",fontSize:24}):URL.createObjectURL(e),excluded:!1,id:"".concat(e.name,"-").concat(e.lastModified)}});X(function(e){return[].concat((0,o.A)(e),(0,o.A)(t))})},ve=function(){var e=(0,n.A)(ut().m(function e(t){var i,l,c,s,u,d,m,p,g,h,y,v,b,w;return ut().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,r||K.trim()){e.n=1;break}return alert((0,f.__)("Please provide a gallery title.","nggallery")),e.a(2);case 1:if(i=Array.from(t),l=i.map(function(e){return{file:e,progress:0,status:"pending"}}),C(function(e){return[].concat((0,o.A)(e),(0,o.A)(l))}),c=r,s=!1,u=function(){var e=(0,n.A)(ut().m(function e(t){var r;return ut().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,he(t);case 1:return(r=e.v)&&!r.error||(s=!0),e.a(2,r)}},e)}));return function(t){return e.apply(this,arguments)}}(),d=0,r||!(i.length>0)){e.n=3;break}return e.n=2,u(i[0]);case 2:m=e.v,d=1,null!=m&&m.gallery_id&&(c=m.gallery_id,a||ie(c),r=c);case 3:if(!c){e.n=4;break}if(!((p=i.length-d)>0)){e.n=4;break}for(g=d,h=function(){var e=(0,n.A)(ut().m(function e(){var t,r;return ut().w(function(e){for(;;)switch(e.n){case 0:if(!((t=g)>=i.length)){e.n=1;break}return e.a(3,3);case 1:return g+=1,r=i[t],e.n=2,u(r);case 2:e.n=0;break;case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),y=Math.min(3,p),v=[],b=0;b<y;b++)v.push(h());return e.n=4,Promise.all(v);case 4:if(s||!c){e.n=5;break}return ce((0,f.__)("Images uploaded successfully!","nggallery")),e.n=5,Ee(c);case 5:X([]),e.n=7;break;case 6:e.p=6,w=e.v,console.error("Error handling file upload:",w),ue((0,f.__)("Failed to upload images. Please try again.","nggallery"));case 7:return e.p=7,e.f(7);case 8:return e.a(2)}},e,null,[[0,6,7,8]])}));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=(0,n.A)(ut().m(function e(t){var n,a,o;return ut().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,F(!0),H(""),n={attachment_ids:t},r?n.gallery_id=r:K&&(n.gallery_name=K),e.n=1,ee()({path:"/imagely/v1/images/import-media-library",method:"POST",headers:(0,it.kX)(),data:n});case 1:if(!(a=e.v).error){e.n=2;break}throw new Error(a.error);case 2:return e.a(2,a);case 3:throw e.p=3,o=e.v,console.error("Error importing media library images:",o),H((0,f.__)("Failed to import media library images. Please try again.","nggallery")),o;case 4:return e.p=4,F(!1),e.f(4);case 5:return e.a(2)}},e,null,[[0,3,4,5]])}));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=(0,n.A)(ut().m(function e(){var t;return ut().w(function(e){for(;;)switch(e.n){case 0:if(r||K.trim()){e.n=1;break}return alert((0,f.__)("Please provide a gallery title.","nggallery")),e.a(2);case 1:(t=window.wp.media({title:(0,f.__)("Select Images","nggallery"),button:{text:(0,f.__)("Add to Gallery","nggallery")},multiple:!0,library:{type:"image"},states:[new window.wp.media.controller.Library({library:window.wp.media.query({type:"image"}),multiple:!0,title:(0,f.__)("Select Images","nggallery"),priority:20,filterable:"uploaded",editable:!0,allowLocalEdits:!0,displaySettings:!0,displayUserSettings:!0})]})).on("open",function(){setTimeout(function(){var e=document.querySelector(".media-button-primary");e?e.addEventListener("click",function(){ne.showNotice("info",(0,f.__)("Loading images from WP Media, please wait...","nggallery"),{dismissible:!0,duration:15e3}),ne.setPageLoading(!0)},{once:!0}):document.querySelectorAll(".media-button").forEach(function(e){e.addEventListener("click",function(){var t;(null!==(t=e.textContent)&&void 0!==t&&t.includes("Add to Gallery")||e.classList.contains("media-button-primary"))&&(ne.showNotice("info",(0,f.__)("Loading images from WP Media, please wait...","nggallery"),{dismissible:!0,duration:15e3}),ne.setPageLoading(!0))},{once:!0})})},100)}),t.on("select",(0,n.A)(ut().m(function e(){var r,n,a,o,i;return ut().w(function(e){for(;;)switch(e.p=e.n){case 0:return r=t.state().get("selection").toJSON(),n=r.map(function(e){return e.id}),e.p=1,e.n=2,be(n);case 2:if(!(a=e.v).error){e.n=3;break}throw new Error(a.error);case 3:if(o=null==a?void 0:a.gallery_id){e.n=4;break}throw new Error((0,f.__)("No gallery ID returned from the import.","nggallery"));case 4:return e.n=5,Ee(o);case 5:ce((0,f.__)("Media library images imported successfully!","nggallery")),e.n=7;break;case 6:e.p=6,i=e.v,console.error("Error importing images:",i),ue((0,f.__)("Failed to import media library images. Please try again.","nggallery")),ne.clearAllNotices(),ne.setPageLoading(!1);case 7:return e.a(2)}},e,null,[[1,6]])}))),t.open();case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),xe=function(){return new Promise(function(e){var t=function(){var r=document.querySelectorAll('[data-testid="gallery-image"], .gallery-image, img[src*="gallery"]');if(r.length>0){var n=Array.from(r).filter(function(e){return e.complete&&0!==e.naturalHeight});if(n.length===r.length&&n.length>0)return void e()}setTimeout(t,200)};setTimeout(t,300),setTimeout(function(){e()},3e3)})},Ee=function(){var e=(0,n.A)(ut().m(function e(t){return ut().w(function(e){for(;;)switch(e.n){case 0:de.invalidateQueries({queryKey:["gallery",t,"images"]}),de.invalidateQueries({queryKey:["gallery",t]}),de.invalidateQueries({queryKey:["galleries"]}),re&&(a?a(t):oe("imagely-add-new","images",t)),ne.setActiveModal(null),setTimeout((0,n.A)(ut().m(function e(){return ut().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,xe();case 1:ne.clearAllNotices(),ne.setPageLoading(!1);case 2:return e.a(2)}},e)})),100);case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}();return s().createElement("div",{className:"p-0 max-h-[90vh] flex flex-col overflow-y-auto"},!r&&s().createElement("form",{onSubmit:pe,className:"mb-2"},s().createElement(se.A,{type:"text",name:"gallery-title",value:K,onChange:function(e){return W(e.target.value)},label:(0,f.__)("Gallery Title","nggallery"),placeholder:(0,f.__)("Enter a title for your new gallery","nggallery")}),s().createElement("button",{type:"submit",style:{display:"none"},"aria-hidden":"true"})),s().createElement("div",{className:"flex-1 min-h-0"},"folder"===p?s().createElement("div",{className:"flex flex-col h-full"},s().createElement("div",{className:"flex items-center space-x-1 sm:space-x-2 text-xs sm:text-sm mb-2 bg-white overflow-x-auto"},s().createElement("button",{onClick:function(){return fe("")},className:"text-gray-700 underline hover:text-green-600 p-0"},(0,f.__)("Root","nggallery")),P&&s().createElement(s().Fragment,null,s().createElement("span",null,"/"),P.split("/").filter(Boolean).map(function(e,t,r){return s().createElement(s().Fragment,{key:e},s().createElement("button",{onClick:function(){return fe(r.slice(0,t+1).join("/"))},className:"text-gray-700 underline hover:text-green-600"},e),t<r.length-1&&s().createElement("span",null,"/"))}))),s().createElement("div",{className:"flex-1 min-h-0 overflow-hidden flex flex-col"},s().createElement("div",{className:"border rounded-lg divide-y max-h-48 sm:max-h-64 overflow-y-auto"},R?s().createElement("div",{className:"p-2 text-center text-gray-500 text-xs sm:text-sm"},(0,f.__)("Loading...","nggallery")):S.length>0?S.map(function(t){return s().createElement("button",{key:t.relative_path,onClick:function(){fe(t.relative_path)},className:"w-full text-left py-2 px-2 sm:py-1.5 hover:bg-gray-50 flex items-center space-x-2 text-xs sm:text-sm"},s().createElement("span",{className:"text-sm sm:text-base"},s().createElement(e.sj,null)),s().createElement("span",{className:"truncate"},t.name))}):s().createElement("div",{className:"p-2 text-center text-gray-500 text-xs sm:text-sm"},P?(0,f.__)("No subdirectories found. Click Import to import images from this folder.","nggallery"):(0,f.__)("No directories found.","nggallery"))),s().createElement("div",{className:"mt-3 sm:mt-4 p-2 sm:p-3 rounded-lg border"},s().createElement(at.A,{id:"keep-original-location",name:"keep_original_location",checked:$,onChange:function(e){return J(e.target.checked)},label:(0,f.__)("Keep images in original location","nggallery"),help:(0,f.__)("Caution: If you keep images in the original folder and later delete the gallery, the images in that folder might be deleted depending on your settings.","nggallery")})),q&&s().createElement("div",{className:"text-red-500 text-xs sm:text-sm p-2 mt-2"},q),P&&s().createElement("div",{className:"mt-3 sm:mt-4"},s().createElement("button",{onClick:ge,disabled:R,className:"w-full py-2 sm:py-3 px-3 sm:px-4 text-white rounded-lg transition-colors text-sm sm:text-base ".concat(R?"bg-green-300":"bg-green-500 hover:bg-green-600")},R?(0,f.__)("Importing...","nggallery"):(0,f.__)("Import Selected Folder","nggallery"))))):s().createElement("div",{className:"relative text-center p-4 sm:p-8 border border-dashed rounded-lg transition-colors h-full overflow-y-auto ".concat(v?"border-blue-500 bg-blue-50":"border-gray-300"),onDragOver:function(e){e.preventDefault(),b(!0)},onDragLeave:function(e){e.preventDefault(),b(!1)},onDrop:function(e){e.preventDefault(),b(!1);var t=e.dataTransfer.files;t.length>0&&ye(t)}},s().createElement("input",{ref:te,type:"file",multiple:!0,accept:"".concat(mt.images,",").concat(mt.zip),onChange:function(e){var t=e.target.files;t&&t.length>0&&ye(t)},className:"hidden"}),_.length>0?s().createElement("div",{className:"space-y-3 sm:space-y-4"},_.map(function(e,t){return s().createElement("div",{key:"".concat(e.file.name,"-").concat(t),className:"text-left py-3 px-5 sm:p-4 text-gray-900"},s().createElement("div",{className:"flex justify-between mb-2"},s().createElement("span",{className:"text-xs sm:text-sm text-gray-900 truncate pr-2"},e.file.name),s().createElement("span",{className:"text-xs sm:text-sm text-gray-900 flex-shrink-0"},"completed"===e.status&&"","error"===e.status&&"","uploading"===e.status&&"".concat(e.progress,"%"))),s().createElement("div",{className:"w-full bg-gray-100 rounded-full h-1"},s().createElement("div",{className:"h-1 rounded-full ".concat("completed"===e.status?"bg-green-500":"error"===e.status?"bg-red-500":"bg-blue-500"),style:{width:"".concat(e.progress,"%")}})),e.error&&s().createElement("p",{className:"text-xs sm:text-sm text-red-500 mt-1"},e.error))})):V.length>0?s().createElement("div",{className:"space-y-3 sm:space-y-4"},s().createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 sm:gap-4"},s().createElement("button",{onClick:function(){var e;return null===(e=te.current)||void 0===e?void 0:e.click()},className:"relative aspect-square border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 transition-colors flex flex-col items-center justify-center gap-1 sm:gap-2"},s().createElement("span",{className:"text-xl sm:text-2xl"},"+"),s().createElement("span",{className:"text-xs sm:text-sm text-gray-600"},(0,f.__)("Add More","nggallery"))),V.filter(function(e){return!e.excluded}).map(function(t){return s().createElement("div",{key:t.id,className:"relative aspect-square group"},s().createElement("div",{className:"absolute inset-0 rounded-lg overflow-hidden"},s().createElement("img",{src:t.preview,alt:t.file.name,className:"w-full h-full object-cover"}),s().createElement("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",onClick:function(e){var r;e.preventDefault(),e.stopPropagation(),r=t.file,X(function(e){return e.map(function(e){return e.file===r?st(st({},e),{},{excluded:!0}):e})})},title:(0,f.__)("Remove","nggallery")},s().createElement("div",{className:"text-white transform scale-100 group-hover:scale-110 transition-transform"},s().createElement(e.uc,null)))))})),s().createElement("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-gray-200 gap-3 sm:gap-0"},s().createElement("div",{className:"text-xs sm:text-sm text-gray-500"},V.filter(function(e){return!e.excluded}).length," ",(0,f.__)("files selected","nggallery")),s().createElement("div",{className:"flex gap-2 sm:gap-3 w-full sm:w-auto"},s().createElement("button",{onClick:function(){X([]),te.current&&(te.current.value="")},className:"px-3 sm:px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-800 transition-colors"},(0,f.__)("Clear All","nggallery")),s().createElement("button",{onClick:function(){var e=V.filter(function(e){return!e.excluded}).map(function(e){return e.file});ve(e)},className:"px-4 sm:px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm font-medium flex-1 sm:flex-none",disabled:0===V.filter(function(e){return!e.excluded}).length},(0,f.__)("Upload","nggallery"))))):s().createElement(s().Fragment,null,s().createElement("div",{className:"flex flex-col items-center mb-4 sm:mb-6"},s().createElement(e.JM,{className:"mb-4"}),s().createElement("p",{className:"text-sm sm:text-base text-gray-600"},(0,f.__)("Drag images, ZIP files here or","nggallery")," ",s().createElement("button",{onClick:function(){var e;return null===(e=te.current)||void 0===e?void 0:e.click()},className:"text-green-500 hover:text-green-600 hover:underline transition-colors cursor-pointer bg-transparent border-none p-0 text-sm sm:text-base font-bold"},(0,f.__)("Browse from Computer","nggallery")))),s().createElement("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center mb-4 sm:mb-6"},s().createElement("button",{onClick:we,className:"px-4 sm:px-6 py-2 sm:py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center gap-2 text-sm sm:text-base"},s().createElement(e.ZH,null),(0,f.__)("Media Library","nggallery")),(!r||K)&&s().createElement("button",{onClick:function(){return g("folder")},className:"px-4 sm:px-6 py-2 sm:py-3 border-2 border-green-500 text-green-500 rounded-lg hover:bg-green-600 hover:text-white transition-colors flex items-center justify-center gap-2 text-sm sm:text-base"},s().createElement(e.B8,null),(0,f.__)("Import Folder","nggallery")))))))},ht=function(e){var t=e.isOpen,r=e.onClose,n=e.galleryId,a=e.onGalleryCreated,o=n?(0,f.__)("Add Images","nggallery"):(0,f.__)("Add a New Gallery","nggallery");return s().createElement(h.A,{isOpen:t,onClose:r,title:o},s().createElement(gt,{galleryId:n,onGalleryCreated:a}))};var yt=a(8093),vt=a.n(yt),bt=a(2858);function wt(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return xt(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(xt(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,xt(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,xt(d,"constructor",s),xt(s,"constructor",c),c.displayName="GeneratorFunction",xt(s,a,"GeneratorFunction"),xt(d),xt(d,a,"Generator"),xt(d,n,function(){return this}),xt(d,"toString",function(){return"[object Generator]"}),(wt=function(){return{w:o,m}})()}function xt(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}xt=function(e,t,r,n){function o(t,r){xt(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},xt(e,t,r,n)}function Et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(r),!0).forEach(function(t){(0,y.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Et(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Ct=function(t){var r=t.isOpen,n=t.onClose,a=t.action,o=void 0===a?"create new galleries":a,i=(0,d.useDispatch)(u.E),l=(0,x.X)();return s().createElement(h.A,{id:"license-required-modal",isOpen:r,onClose:n,title:""},s().createElement("div",{className:"text-center"},s().createElement("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 bg-orange-100 rounded-full"},s().createElement(e.wl,{className:"w-8 h-8 text-orange-600"})),s().createElement("h3",{className:"text-xl font-semibold text-gray-800 mb-4"},(0,f.__)("License Activation Required","nggallery")),s().createElement("p",{className:"text-gray-600 text-center mb-2"},(0,f.__)("To ".concat(o,", you need an active license."),"nggallery")),s().createElement("p",{className:"text-gray-600 text-center mb-6"},(0,f.__)("Please add or update your license key to continue.","nggallery")),s().createElement("div",{className:"flex flex-col sm:flex-row gap-3 justify-center mb-6"},s().createElement("button",{onClick:function(){if(n(),null!=l&&l.isEmbed){var e,t=null!==(e=window.imagelyApp)&&void 0!==e&&e.adminURL?"".concat(window.imagelyApp.adminURL,"admin.php?page=imagely-settings&tab=license"):"/wp-admin/admin.php?page=imagely-settings&tab=license";window.location.href=t}else i.navigateTo("imagely-settings","license",null)},className:"inline-flex items-center justify-center bg-green-500 text-white text-center text-base py-3 px-6 rounded-lg font-medium hover:bg-green-600 transition-colors"},s().createElement(e.ik,{className:"w-5 h-5 mr-2"}),(0,f.__)("Activate License","nggallery")),s().createElement("button",{onClick:n,className:"inline-flex items-center justify-center bg-gray-100 text-gray-700 text-center text-base py-3 px-6 rounded-lg font-medium hover:bg-gray-200 transition-colors"},(0,f.__)("Cancel","nggallery"))),s().createElement("div",{className:"bg-green-50 border-t border-green-100 -mx-4 -mb-4 px-6 py-4 rounded-b-lg"},s().createElement("div",{className:"flex items-start"},s().createElement(e.F,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),s().createElement("p",{className:"text-gray-700 text-sm text-left"},(0,f.__)("Your license key can be found in your account dashboard. If your license has expired, you can renew it to continue using all pro features.","nggallery"))))))};function Nt(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return Ot(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(Ot(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Ot(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,Ot(d,"constructor",s),Ot(s,"constructor",c),c.displayName="GeneratorFunction",Ot(s,a,"GeneratorFunction"),Ot(d),Ot(d,a,"Generator"),Ot(d,n,function(){return this}),Ot(d,"toString",function(){return"[object Generator]"}),(Nt=function(){return{w:o,m}})()}function Ot(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Ot=function(e,t,r,n){function o(t,r){Ot(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},Ot(e,t,r,n)}function St(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?St(Object(r),!0).forEach(function(t){(0,y.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):St(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jt(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return At(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(At(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,At(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,At(d,"constructor",s),At(s,"constructor",c),c.displayName="GeneratorFunction",At(s,a,"GeneratorFunction"),At(d),At(d,a,"Generator"),At(d,n,function(){return this}),At(d,"toString",function(){return"[object Generator]"}),(jt=function(){return{w:o,m}})()}function At(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}At=function(e,t,r,n){function o(t,r){At(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},At(e,t,r,n)}function Pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(r),!0).forEach(function(t){(0,y.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Dt(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return It(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(It(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,It(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,It(d,"constructor",s),It(s,"constructor",c),c.displayName="GeneratorFunction",It(s,a,"GeneratorFunction"),It(d),It(d,a,"Generator"),It(d,n,function(){return this}),It(d,"toString",function(){return"[object Generator]"}),(Dt=function(){return{w:o,m}})()}function It(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}It=function(e,t,r,n){function o(t,r){It(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},It(e,t,r,n)}function Lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(r),!0).forEach(function(t){(0,y.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ft(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return Gt(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(Gt(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Gt(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,Gt(d,"constructor",s),Gt(s,"constructor",c),c.displayName="GeneratorFunction",Gt(s,a,"GeneratorFunction"),Gt(d),Gt(d,a,"Generator"),Gt(d,n,function(){return this}),Gt(d,"toString",function(){return"[object Generator]"}),(Ft=function(){return{w:o,m}})()}function Gt(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Gt=function(e,t,r,n){function o(t,r){Gt(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},Gt(e,t,r,n)}var Mt=a(380);function qt(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return Ht(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(Ht(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Ht(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,Ht(d,"constructor",s),Ht(s,"constructor",c),c.displayName="GeneratorFunction",Ht(s,a,"GeneratorFunction"),Ht(d),Ht(d,a,"Generator"),Ht(d,n,function(){return this}),Ht(d,"toString",function(){return"[object Generator]"}),(qt=function(){return{w:o,m}})()}function Ht(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Ht=function(e,t,r,n){function o(t,r){Ht(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},Ht(e,t,r,n)}var Qt=function(){var e=(0,n.A)(qt().m(function e(t){var r,n,a,o,i;return qt().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,n=null===(r=window.imagelyApp)||void 0===r?void 0:r.nonce,e.n=1,ee()({path:"/imagely/v1/pricelist-items/bulk",method:"POST",headers:{"X-WP-Nonce":n},data:{items:t}});case 1:if(!((a=e.v).created_items&&a.created_items.length>0)){e.n=2;break}return e.a(2,a.created_items);case 2:if(!(a.errors>0)){e.n=3;break}throw new Error("Failed to create items: ".concat((null===(o=a.error_messages)||void 0===o?void 0:o.join(", "))||"Unknown error"));case 3:throw new Error("No items were created");case 4:e.n=6;break;case 5:throw e.p=5,i=e.v,console.error("Error creating multiple pricelist items:",i),i;case 6:return e.a(2)}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}();function zt(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return Kt(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(Kt(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Kt(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,Kt(d,"constructor",s),Kt(s,"constructor",c),c.displayName="GeneratorFunction",Kt(s,a,"GeneratorFunction"),Kt(d),Kt(d,a,"Generator"),Kt(d,n,function(){return this}),Kt(d,"toString",function(){return"[object Generator]"}),(zt=function(){return{w:o,m}})()}function Kt(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Kt=function(e,t,r,n){function o(t,r){Kt(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},Kt(e,t,r,n)}var Wt=function(){var e=(0,n.A)(zt().m(function e(t){var r,n,a,o,i,l;return zt().w(function(e){for(;;)switch(e.p=e.n){case 0:return r="/imagely/v1/whcc-catalog",n=t?"".concat(r,"?category=").concat(encodeURIComponent(t)):r,e.p=1,o=null===(a=window.imagelyApp)||void 0===a?void 0:a.nonce,e.n=2,ee()({path:n,method:"GET",headers:{"X-WP-Nonce":o}});case 2:return i=e.v,e.a(2,i);case 3:throw e.p=3,l=e.v,console.error("Error fetching WHCC catalog:",l),l;case 4:return e.a(2)}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}();function Bt(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return Ut(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(Ut(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Ut(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,Ut(d,"constructor",s),Ut(s,"constructor",c),c.displayName="GeneratorFunction",Ut(s,a,"GeneratorFunction"),Ut(d),Ut(d,a,"Generator"),Ut(d,n,function(){return this}),Ut(d,"toString",function(){return"[object Generator]"}),(Bt=function(){return{w:o,m}})()}function Ut(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Ut=function(e,t,r,n){function o(t,r){Ut(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},Ut(e,t,r,n)}function Vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(r),!0).forEach(function(t){(0,y.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Zt=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"$";if("number"==typeof t)return"".concat(r," ").concat(t.toFixed(2));var n=(0,le.aN)(e);return"".concat(r," ").concat(n.toFixed(2))},Yt=function(e){var t=e.className;return s().createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))};var $t={gallery:function(e){var t=e.isOpen,r=e.onClose,n=e.onGalleryCreated,a=(0,v.A)(e,$e),o=(0,x.X)(),i=(0,c.useCallback)(function(){r&&r(),null!=o&&o.isEmbed&&null!=o&&o.onClose&&o.onClose()},[r,o]);return s().createElement(h.A,(0,g.A)({isOpen:t,onClose:i,title:(0,f.__)("New Gallery","nggallery")},a),s().createElement(Ye,{onSuccess:n}))},album:N,albumSuccess:function(t){var r=t.isOpen,a=t.onClose,o=t.albumId,i=t.albumName,l=(0,d.useDispatch)(u.E),m=(0,c.useMemo)(function(){return o?'[imagely album="'.concat(o,'"]'):""},[o]),p=function(){var e=(0,n.A)(O().m(function e(){return O().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,navigator.clipboard.writeText(m);case 1:l.showNotice("success",(0,f.__)("Shortcode copied to clipboard!","nggallery")),e.n=3;break;case 2:e.p=2,e.v,l.showNotice("error",(0,f.__)("Failed to copy shortcode to clipboard","nggallery"));case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}();return s().createElement(h.A,{isOpen:r,onClose:a,title:""},s().createElement("div",{className:"text-center"},s().createElement("div",{className:"flex items-center justify-center mx-auto"},s().createElement(e.P7,{className:"w-48 h-48"})),s().createElement("h3",{className:"text-2xl font-semibold text-gray-800 mb-3"},i?(0,f.sprintf)((0,f.__)("%s updated successfully!","nggallery"),i):(0,f.__)("Album updated successfully!","nggallery")),s().createElement("p",{className:"text-gray-600 text-center mb-6 text-base"},(0,f.__)("Your album is ready to be published. You can add it to any page, post, or widget area using the Imagely Album block or the shortcode below:","nggallery")),m&&s().createElement("div",{className:"mb-8"},s().createElement("button",{onClick:p,className:"bg-gray-100 border-2 border-gray-300 rounded-lg px-6 py-3 font-mono text-base text-gray-800 hover:bg-green-50 hover:border-green-500 transition-colors cursor-pointer w-3/5 mx-auto block",title:(0,f.__)("Click to copy shortcode","nggallery")},m)),s().createElement("div",{className:"flex justify-center mb-6"},s().createElement("button",{onClick:function(){a(),l.navigateTo("imagely-albums","general")},className:"inline-flex items-center justify-center bg-green-500 text-white text-center text-base py-3 px-8 rounded-lg font-medium hover:bg-green-600 transition-colors"},(0,f.__)("View Albums","nggallery")))))},galleryEdit:function(e){var t=e.isOpen,r=e.galleryId,a=e.onClose,o=(0,j.iX)(r),i=o.data,l=o.refetch;if(!i)return null;var c=function(){var e=(0,n.A)(We().m(function e(){return We().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,l();case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return s().createElement(h.A,{isOpen:t,onClose:a,title:(0,f.__)("Edit Gallery Details","nggallery")},s().createElement(Ke,{gallery:i,onClose:a,onUpdate:c}))},gallerySuccess:function(t){var r=t.isOpen,a=t.onClose,o=t.galleryId,l=t.galleryName,m=t.pageId,p=t.pageName,g=(0,d.useDispatch)(u.E),y=(0,c.useState)(p),v=(0,i.A)(y,2),b=v[0],w=v[1],x=(0,c.useState)(void 0),E=(0,i.A)(x,2),_=E[0],C=E[1],N=(0,c.useState)(!1),O=(0,i.A)(N,2),S=(O[0],O[1]),k=(0,c.useMemo)(function(){return o?'[imagely id="'.concat(o,'"]'):""},[o]);(0,c.useEffect)(function(){var e=function(){var e=(0,n.A)(tt().m(function e(){var t,n,a,o,i;return tt().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!m||p||!r){e.n=6;break}return S(!0),e.p=1,e.n=2,ee()({path:"/wp/v2/pages/".concat(m)});case 2:null!=(n=e.v)&&null!==(t=n.title)&&void 0!==t&&t.rendered&&w(n.title.rendered),null!=n&&n.link&&C(n.link),e.n=4;break;case 3:e.p=3,o=e.v,console.error("Error fetching page:",o);case 4:return e.p=4,S(!1),e.f(4);case 5:e.n=11;break;case 6:if(!(m&&p&&r)){e.n=11;break}return S(!0),e.p=7,e.n=8,ee()({path:"/wp/v2/pages/".concat(m)});case 8:null!=(a=e.v)&&a.link&&C(a.link),e.n=10;break;case 9:e.p=9,i=e.v,console.error("Error fetching page:",i);case 10:return e.p=10,S(!1),e.f(10);case 11:return e.a(2)}},e,null,[[7,9,10,11],[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}();e()},[m,p,r]),(0,c.useEffect)(function(){r||(w(p),C(void 0))},[r,p]);var j=function(){var e=(0,n.A)(tt().m(function e(){return tt().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,navigator.clipboard.writeText(k);case 1:g.showNotice("success",(0,f.__)("Shortcode copied to clipboard!","nggallery")),e.n=3;break;case 2:e.p=2,e.v,g.showNotice("error",(0,f.__)("Failed to copy shortcode to clipboard","nggallery"));case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}();return s().createElement(h.A,{isOpen:r,onClose:a,title:""},s().createElement("div",{className:"text-center"},s().createElement("div",{className:"flex items-center justify-center mx-auto"},s().createElement(e.P7,{className:"w-48 h-48"})),s().createElement("h3",{className:"text-2xl font-semibold text-gray-800 mb-3"},l?(0,f.sprintf)((0,f.__)("%s created successfully!","nggallery"),l):(0,f.__)("Gallery created successfully!","nggallery")),s().createElement("p",{className:"text-gray-600 text-center mb-6 text-base"},m&&b?s().createElement(s().Fragment,null,(0,f.__)("Your gallery has been linked to the page","nggallery")," ",_?s().createElement("a",{href:_,target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 font-medium underline"},'"',b,'"'):s().createElement("span",{className:"font-medium"},'"',b,'"'),". ",(0,f.__)("You can also add it to any other page, post, or widget area using the Imagely Gallery block or the shortcode below:","nggallery")):(0,f.__)("Your gallery is ready to be published. You can add it to any page, post, or widget area using the Imagely Gallery block or the shortcode below:","nggallery")),k&&s().createElement("div",{className:"mb-8"},s().createElement("button",{onClick:j,className:"bg-gray-100 border-2 border-gray-300 rounded-lg px-6 py-3 font-mono text-base text-gray-800 hover:bg-green-50 hover:border-green-500 transition-colors cursor-pointer w-3/5 mx-auto block",title:(0,f.__)("Click to copy shortcode","nggallery")},k)),s().createElement("div",{className:"flex justify-center mb-6"},s().createElement("button",{onClick:function(){a(),g.navigateTo("imagely","galleryList")},className:"inline-flex items-center justify-center bg-green-500 text-white text-center text-base py-3 px-8 rounded-lg font-medium hover:bg-green-700 transition-colors"},(0,f.__)("View Galleries","nggallery")))))},deleteGalleries:function(e){var t=e.isOpen,r=e.galleries,n=e.onClose,a=void 0===n?function(){}:n,o=e.onConfirm,i=void 0===o?function(){}:o,l=e.title,c=(0,v.A)(e,Oe);return s().createElement(Ee,(0,g.A)({isOpen:t,entityType:"galleries",items:r,getItemId:function(e){return e.id},getItemLabel:function(e){return e.galleryTitle},onClose:a,onConfirm:i,title:l||(0,f.__)("Delete Galleries","nggallery"),singularLabel:(0,f.__)("gallery","nggallery"),pluralLabel:(0,f.__)("galleries","nggallery")},c))},deleteAlbums:function(e){var t=e.isOpen,r=e.albums,n=e.onClose,a=void 0===n?function(){}:n,o=e.onConfirm,i=void 0===o?function(){}:o,l=e.title,c=(0,v.A)(e,_e);return s().createElement(Ee,(0,g.A)({isOpen:t,entityType:"albums",items:r,getItemId:function(e){return e.id},getItemLabel:function(e){return e.albumTitle},onClose:a,onConfirm:i,title:l||(0,f.__)("Delete Albums","nggallery"),singularLabel:(0,f.__)("album","nggallery"),pluralLabel:(0,f.__)("albums","nggallery")},c))},deleteImages:function(e){var t=e.isOpen,r=e.images,n=e.onClose,a=void 0===n?function(){}:n,o=e.onConfirm,i=void 0===o?function(){}:o,l=e.title,c=(0,v.A)(e,Se);return s().createElement(Ee,(0,g.A)({isOpen:t,entityType:"images",items:r,getItemId:function(e){return e.pid},getItemLabel:function(e){return e.filename},onClose:a,onConfirm:i,title:l||(0,f.__)("Delete Images","nggallery"),singularLabel:(0,f.__)("image","nggallery"),pluralLabel:(0,f.__)("images","nggallery")},c))},deleteTags:function(e){var t=e.isOpen,r=e.tags,n=e.onClose,a=void 0===n?function(){}:n,o=e.onConfirm,i=void 0===o?function(){}:o,l=e.title,c=(0,v.A)(e,Ae);return s().createElement(Ee,(0,g.A)({isOpen:t,entityType:"tags",items:r,getItemId:function(e){return e.term_id},getItemLabel:function(e){return e.name},onClose:a,onConfirm:i,title:l||(0,f.__)("Delete Tags","nggallery"),singularLabel:(0,f.__)("tag","nggallery"),pluralLabel:(0,f.__)("tags","nggallery")},c))},deleteCoupons:function(t){var r=t.isOpen,a=t.onClose,o=t.couponIds,i=t.items,l=t.onConfirm,u=void 0===l?function(){}:l,d=t.title,m=function(){var e,t=(0,D.jE)();return(0,$.n)({mutationFn:(e=(0,n.A)(te().m(function e(t){var r,n,a,o;return te().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=null===(r=window.imagelyApp)||void 0===r?void 0:r.nonce,e.p=1,e.n=2,ee()({path:"/imagely/v1/coupons/".concat(t),method:"DELETE",headers:{"X-WP-Nonce":n},parse:!1});case 2:e.n=5;break;case 3:if(e.p=3,404!==((null==(o=e.v)?void 0:o.status)||(null==o||null===(a=o.response)||void 0===a?void 0:a.status))){e.n=4;break}return e.a(2);case 4:throw o;case 5:return e.a(2)}},e,null,[[1,3]])})),function(t){return e.apply(this,arguments)}),onSettled:function(){t.invalidateQueries({queryKey:["coupons"]})}})}(),p=(0,w.E)(),g=p.showSuccess,y=p.showError,v=p.clearNotifications,b=(0,c.useMemo)(function(){return i&&i.length?i:o.map(function(e){return{id:e,title:(0,f.__)("Coupon","nggallery"),code:String(e)}})},[o,i]),x=(0,c.useMemo)(function(){return b.length>0&&b.length<=5?s().createElement("ul",{className:"list-none text-sm text-gray-700 px-4 text-center"},b.map(function(e){return s().createElement("li",{key:e.id},e.title," (",e.code,")")})):null},[b]),E=function(){var e=(0,n.A)(Ce().m(function e(){var t;return Ce().w(function(e){for(;;)switch(e.p=e.n){case 0:if(0!==o.length){e.n=1;break}return e.a(2);case 1:return m.reset&&m.reset(),e.p=2,e.n=3,Promise.all(o.map(function(e){return m.mutateAsync(e)}));case 3:t=1===o.length?(0,f.__)("coupon","nggallery"):(0,f.__)("coupons","nggallery"),v(),g((0,f.__)("Successfully deleted ".concat(o.length," ").concat(t),"nggallery")),e.n=5;break;case 4:e.p=4,e.v,v(),y((0,f.__)("Failed to delete coupon(s)","nggallery"));case 5:u(),a();case 6:return e.a(2)}},e,null,[[2,4]])}));return function(){return e.apply(this,arguments)}}(),_=s().createElement(e.b4,null);return s().createElement(h.A,{isOpen:r,onClose:a},s().createElement("div",{className:"space-y-4"},s().createElement("div",{className:"flex items-center gap-2 justify-center"},s().createElement("div",null,_)),d&&s().createElement("h2",{className:"text-xl font-bold text-center text-gray-900 mt-2"},d),s().createElement("p",{className:"text-sm text-gray-500 text-center"},1===o.length?(0,f.__)("Are you sure you want to delete this coupon?","nggallery"):(0,f.__)("Are you sure you want to delete the selected coupons?","nggallery")),x,s().createElement("p",{className:"text-sm text-red-500 text-center"},(0,f.__)("This action cannot be undone.","nggallery")),s().createElement("div",{className:"flex justify-center space-x-3 !mb-4 ".concat(m.isPending?"cursor-wait":"")},s().createElement("button",{type:"button",onClick:a,disabled:m.isPending,className:"px-8 py-2 font-medium text-white bg-green-500 rounded-lg shadow hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},(0,f.__)("Cancel","nggallery")),s().createElement("button",{type:"button",onClick:E,disabled:m.isPending,className:"px-8 py-2 font-bold text-white bg-red-600 border border-transparent rounded-lg shadow hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},m.isPending?s().createElement("span",{className:"flex items-center"},s().createElement(e.Nl,{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white"}),(0,f.__)("Deleting...","nggallery")):(0,f.__)("Delete","nggallery")))))},imageUploader:ht,imageView:function(t){var r=t.isOpen,a=t.onClose,o=t.image,l=t.returnTo,m=(0,c.useState)(!1),p=(0,i.A)(m,2),g=p[0],y=p[1],v=(0,c.useState)(Date.now()),b=(0,i.A)(v,2),x=b[0],E=b[1],_=(0,c.useState)(!1),C=(0,i.A)(_,2),N=C[0],O=C[1],S=(0,c.useState)(void 0),k=(0,i.A)(S,2),A=k[0],P=k[1],T=(0,c.useState)(null),I=(0,i.A)(T,2),L=I[0],R=I[1],F=(0,d.useDispatch)(u.E),G=o.galleryid,M=(0,D.jE)(),q=(0,j.iX)(G).data,H=(0,w.E)(),Q=H.showSuccess,z=H.showError,K=(0,j.sr)(),W=(0,j.qr)(),B=(0,j.fZ)(),U=function(){var e=(0,n.A)(wt().m(function e(t){var r,n,a;return wt().w(function(e){for(;;)switch(e.p=e.n){case 0:return y(!0),e.p=1,e.n=2,K.mutateAsync({pid:o.pid,rotation:t});case 2:r=Date.now(),E(r),M.setQueriesData({queryKey:["gallery",G,"images"]},function(e){return null!=e&&e.images?_t(_t({},e),{},{images:e.images.map(function(e){return e.pid===o.pid?_t(_t({},e),{},{reloadKey:r}):e})}):e}),q&&q.previewpic===o.pid&&(n="".concat(q.previewpic_url.split("?")[0],"?t=").concat(r),M.setQueryData(["gallery",q.gid],function(e){return e?_t(_t({},e),{},{previewpic_url:n}):e}),Q((0,f.__)("Gallery thumbnail updated after image rotation!","nggallery"))),e.n=4;break;case 3:e.p=3,a=e.v,console.error("Error rotating image",a);case 4:return e.p=4,y(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=(0,n.A)(wt().m(function e(){var t,r,n;return wt().w(function(e){for(;;)switch(e.p=e.n){case 0:return y(!0),e.p=1,e.n=2,B.mutateAsync(o.pid);case 2:t=Date.now(),E(t),M.setQueriesData({queryKey:["gallery",G,"images"]},function(e){return null!=e&&e.images?_t(_t({},e),{},{images:e.images.map(function(e){return e.pid===o.pid?_t(_t({},e),{},{reloadKey:t}):e})}):e}),q&&q.previewpic===o.pid&&(r="".concat(q.previewpic_url.split("?")[0],"?t=").concat(t),M.setQueryData(["gallery",q.gid],function(e){return e?_t(_t({},e),{},{previewpic_url:r}):e}),Q((0,f.__)("Gallery thumbnail updated after image recovery!","nggallery"))),e.n=4;break;case 3:e.p=3,n=e.v,console.error("Error recovering image",n);case 4:return e.p=4,y(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),X=(0,c.useCallback)((0,n.A)(wt().m(function e(){var t,r,n,a,i,l,c,s,u,d,m,p,g;return wt().w(function(e){for(;;)switch(e.p=e.n){case 0:if(L&&A){e.n=1;break}return e.a(2);case 1:return y(!0),e.p=2,t=o.image_url||"",e.n=3,fetch(t);case 3:return r=e.v,e.n=4,r.blob();case 4:return n=e.v,(a=new Image).src=URL.createObjectURL(n),e.n=5,new Promise(function(e){a.onload=e});case 5:return i=a.naturalWidth/L.width,l=a.naturalHeight/L.height,c=A.x*i,s=A.y*l,u=A.width*i,d=A.height*l,e.n=6,W.mutateAsync({pid:o.pid,cropData:{x:c,y:s,w:u,h:d,rr:1}});case 6:m=Date.now(),E(m),M.setQueriesData({queryKey:["gallery",G,"images"]},function(e){return null!=e&&e.images?_t(_t({},e),{},{images:e.images.map(function(e){return e.pid===o.pid?_t(_t({},e),{},{reloadKey:m}):e})}):e}),q&&q.previewpic===o.pid&&(p="".concat(q.previewpic_url.split("?")[0],"?t=").concat(m),M.setQueryData(["gallery",q.gid],function(e){return e?_t(_t({},e),{},{previewpic_url:p}):e}),Q((0,f.__)("Gallery thumbnail updated after crop!","nggallery"))),Q((0,f.__)("Image cropped successfully!","nggallery")),O(!1),P(void 0),e.n=8;break;case 7:e.p=7,g=e.v,console.error("Error cropping thumbnail",g),z((0,f.__)("Failed to crop thumbnail","nggallery"));case 8:return e.p=8,y(!1),e.f(8);case 9:return e.a(2)}},e,null,[[2,7,8,9]])})),[A,L,o,q,M,Q,z]),Z=function(e,t){var r=120,n=80;(e<r||t<n)&&(r=e,(n=Math.round(r/1.5))>t&&(n=t,r=Math.round(1.5*n)));var a=Math.round(.1*e),o=Math.round(.1*t);return a+r>e&&(a=e-r),o+n>t&&(o=t-n),a<0&&(a=0),o<0&&(o=0),{unit:"px",width:r,height:n,x:a,y:o}};(0,c.useEffect)(function(){N&&L&&!A&&P(Z(L.naturalWidth,L.naturalHeight))},[N,L,A]);var Y=s().createElement("svg",{className:"w-5 h-5",viewBox:"0 0 18 18",fill:"none"},s().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.00016 0.833496C5.4604 0.833496 5.8335 1.20659 5.8335 1.66683V4.16683H13.3335C13.9965 4.16683 14.6324 4.43022 15.1013 4.89906C15.5701 5.3679 15.8335 6.00379 15.8335 6.66683V14.1668H18.3335C18.7937 14.1668 19.1668 14.5399 19.1668 15.0002C19.1668 15.4604 18.7937 15.8335 18.3335 15.8335H15.8335V18.3335C15.8335 18.7937 15.4604 19.1668 15.0002 19.1668C14.5399 19.1668 14.1668 18.7937 14.1668 18.3335V15.8335H6.66683C6.00379 15.8335 5.3679 15.5701 4.89906 15.1013C4.43022 14.6324 4.16683 13.9965 4.16683 13.3335V5.8335H1.66683C1.20659 5.8335 0.833496 5.4604 0.833496 5.00016C0.833496 4.53993 1.20659 4.16683 1.66683 4.16683H4.16683V1.66683C4.16683 1.20659 4.53993 0.833496 5.00016 0.833496ZM5.8335 5.8335V13.3335C5.8335 13.5545 5.92129 13.7665 6.07757 13.9228C6.23385 14.079 6.44582 14.1668 6.66683 14.1668H14.1668V6.66683C14.1668 6.44582 14.079 6.23385 13.9228 6.07757C13.7665 5.92129 13.5545 5.8335 13.3335 5.8335H5.8335Z",fill:"currentColor",fillOpacity:"0.6"})),$=s().createElement("svg",{className:"w-5 h-5",viewBox:"0 0 18 18",fill:"none"},s().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.00016 1.66683C5.31826 1.66683 2.3335 4.65159 2.3335 8.3335C2.3335 12.0154 5.31826 15.0002 9.00016 15.0002C12.6821 15.0002 15.6668 12.0154 15.6668 8.3335C15.6668 4.65159 12.6821 1.66683 9.00016 1.66683ZM1.00016 8.3335C1.00016 4.09937 4.76603 0.666504 9.00016 0.666504C13.2343 0.666504 17.0002 4.09937 17.0002 8.3335C17.0002 12.5676 13.2343 16.0005 9.00016 16.0005C4.76603 16.0005 1.00016 12.5676 1.00016 8.3335ZM9.00016 4.16683C9.4604 4.16683 9.8335 4.53993 9.8335 5.00016V8.3335L12.1668 10.6668C12.4933 10.9933 12.4933 11.5068 12.1668 11.8333C11.8404 12.1598 11.3268 12.1598 11.0003 11.8333L8.3335 9.1665V5.00016C8.3335 4.53993 8.70659 4.16683 9.00016 4.16683Z",fill:"currentColor",fillOpacity:"0.6"}));return s().createElement(h.A,{isOpen:r,onClose:function(){a(),l&&setTimeout(function(){F.setActiveModal(l.type,l.props)},100)},title:o.filename},s().createElement("div",{className:"space-y-4"},s().createElement("div",{className:"relative"},s().createElement("div",{className:"flex justify-center items-center max-h-[50vh] max-w-full mx-auto transition-all duration-300"},N?s().createElement(vt(),{crop:A,onChange:function(e){return P(e)},onComplete:function(e){return P(e)},aspect:1.5},s().createElement("img",{src:"".concat(o.image_url||"").concat(x?"?t=".concat(x):""),alt:o.alttext,className:"!max-w-full !max-h-[50vh] !shadow-lg !mx-auto ".concat(g?"!opacity-50":""),style:{display:"block",margin:"0 auto"},ref:R})):s().createElement("img",{src:"".concat(o.image_url||"").concat(x?"?t=".concat(x):""),alt:o.alttext,className:"max-w-full max-h-[50vh] shadow-lg mx-auto ".concat(g?"opacity-50":""),style:{display:"block",margin:"0 auto"},ref:R}),g&&s().createElement("div",{className:"absolute inset-0 flex items-center justify-center"},s().createElement(e.Nl,{className:"animate-spin h-8 w-8 text-green-500"})))),s().createElement("div",{className:"flex justify-center space-x-4"},s().createElement(bt.m,{text:(0,f.__)("Rotate 90 degrees clockwise","nggallery")},s().createElement("button",{onClick:function(){return U("cw")},disabled:g||N,className:"px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500 flex items-center space-x-2 ".concat(g||N?"opacity-50 cursor-not-allowed":"")},s().createElement("svg",{className:"w-5 h-5",viewBox:"0 0 18 18",fill:"none"},s().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.99984 2.33317C7.6813 2.33317 6.39237 2.72416 5.29604 3.45671C4.19971 4.18925 3.34523 5.23044 2.84064 6.44861C2.33606 7.66679 2.20404 9.00723 2.46127 10.3004C2.71851 11.5936 3.35345 12.7815 4.2858 13.7139C5.21815 14.6462 6.40603 15.2812 7.69924 15.5384C8.99245 15.7956 10.3329 15.6636 11.5511 15.159C12.7692 14.6545 13.8104 13.8 14.543 12.7036C15.2755 11.6073 15.6665 10.3184 15.6665 8.99984C15.6665 8.5396 16.0396 8.1665 16.4998 8.1665C16.9601 8.1665 17.3332 8.5396 17.3332 8.99984C17.3332 10.648 16.8444 12.2592 15.9288 13.6296C15.0131 15 13.7116 16.0681 12.1889 16.6988C10.6662 17.3296 8.9906 17.4946 7.37409 17.173C5.75758 16.8515 4.27272 16.0578 3.10728 14.8924C1.94185 13.727 1.14817 12.2421 0.82663 10.6256C0.505087 9.00908 0.670115 7.33353 1.30084 5.81081C1.93158 4.28809 2.99968 2.9866 4.37009 2.07092C5.7405 1.15525 7.35166 0.666504 8.99984 0.666504C11.3213 0.666504 13.535 1.58751 15.194 3.18241L15.2058 3.19391L15.6665 3.65466V1.49984C15.6665 1.0396 16.0396 0.666504 16.4998 0.666504C16.9601 0.666504 17.3332 1.0396 17.3332 1.49984V5.6665C17.3332 6.12674 16.9601 6.49984 16.4998 6.49984H12.3332C11.8729 6.49984 11.4998 6.12674 11.4998 5.6665C11.4998 5.20627 11.8729 4.83317 12.3332 4.83317H14.488L14.0332 4.3784C12.6763 3.07672 10.8757 2.33317 8.99984 2.33317Z",fill:"currentColor",fillOpacity:"0.6"})))),s().createElement(bt.m,{text:(0,f.__)("Rotate 90 degrees counter-clockwise","nggallery")},s().createElement("button",{onClick:function(){return U("ccw")},disabled:g||N,className:"px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500 flex items-center space-x-2 ".concat(g||N?"opacity-50 cursor-not-allowed":"")},s().createElement("svg",{className:"w-5 h-5",viewBox:"0 0 18 18",fill:"none"},s().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.9967 0.666516L8.99984 0.666504C10.648 0.66651 12.2592 1.15525 13.6296 2.07093C15 2.98661 16.0681 4.2881 16.6988 5.81081C17.3296 7.33353 17.4946 9.00909 17.173 10.6256C16.8515 12.2421 16.0578 13.727 14.8924 14.8924C13.727 16.0578 12.2421 16.8515 10.6256 17.1731C9.00908 17.4946 7.33353 17.3296 5.81081 16.6988C4.28809 16.0681 2.9866 15 2.07092 13.6296C1.15525 12.2592 0.666504 10.648 0.666504 8.99984C0.666504 8.53961 1.0396 8.16651 1.49984 8.16651C1.96007 8.16651 2.33317 8.53961 2.33317 8.99984C2.33317 10.3184 2.72416 11.6073 3.45671 12.7036C4.18925 13.8 5.23044 14.6545 6.44861 15.159C7.66679 15.6636 9.00723 15.7956 10.3004 15.5384C11.5936 15.2812 12.7815 14.6462 13.7139 13.7139C14.6462 12.7815 15.2812 11.5937 15.5384 10.3004C15.7956 9.00724 15.6636 7.66679 15.159 6.44862C14.6545 5.23045 13.8 4.18926 12.7036 3.45671C11.6077 2.72446 10.3194 2.33348 9.0014 2.33318C7.12259 2.34065 5.31925 3.07305 3.96731 4.37755L3.51168 4.83318H5.6665C6.12674 4.83318 6.49984 5.20627 6.49984 5.66651C6.49984 6.12675 6.12674 6.49984 5.6665 6.49984H1.49984C1.0396 6.49984 0.666504 6.12675 0.666504 5.66651V1.49984C0.666504 1.03961 1.0396 0.66651 1.49984 0.66651C1.96007 0.66651 2.33317 1.03961 2.33317 1.49984V3.65466L2.79392 3.19392L2.80397 3.18404C4.46605 1.57726 6.68495 0.675212 8.9967 0.666516Z",fill:"currentColor",fillOpacity:"0.6"})))),N?s().createElement(bt.m,{text:(0,f.__)("Apply current crop","nggallery")},s().createElement("button",{onClick:X,disabled:g,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 flex items-center space-x-2 ".concat(g?"opacity-50 cursor-not-allowed":"")},Y)):s().createElement(bt.m,{text:(0,f.__)("Select crop area for the thumbnail","nggallery")},s().createElement("button",{onClick:function(){L&&P(Z(L.naturalWidth,L.naturalHeight)),O(!0)},disabled:g,className:"px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500 flex items-center space-x-2 ".concat(g?"opacity-50 cursor-not-allowed":"")},Y)),s().createElement(bt.m,{text:(0,f.__)("Restore from backup","nggallery")},s().createElement("button",{onClick:V,disabled:g||N,className:"px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500 flex items-center space-x-2 ".concat(g||N?"opacity-50 cursor-not-allowed":"")},$)))))},galleryImageView:function(e){var t=e.isOpen,r=e.onClose,n=e.image,a=e.galleryId,o=(0,c.useState)(0),l=(0,i.A)(o,2),u=l[0],d=l[1],m=(0,j.gj)(a||0,{enabled:!!(a&&a>0)}).data,p=(null==m?void 0:m.images)||[];(0,c.useEffect)(function(){if(p.length>0&&t){var e=p.findIndex(function(e){return e.pid===n.pid});e>=0&&d(e)}},[p.length,n.pid,t]);var g=p[u],h=(0,c.useCallback)(function(){u>0&&d(u-1)},[u]),y=(0,c.useCallback)(function(){u<p.length-1&&d(u+1)},[u,p.length]);if((0,c.useEffect)(function(){var e=function(e){t&&("Escape"===e.key?(e.preventDefault(),r()):"ArrowLeft"===e.key?(e.preventDefault(),h()):"ArrowRight"===e.key&&(e.preventDefault(),y()))};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}},[t,h,y,r]),(0,c.useEffect)(function(){return document.body.style.overflow=t?"hidden":"unset",function(){document.body.style.overflow="unset"}},[t]),!t||!g||!a||a<=0)return null;var v=u>0,b=u<p.length-1;return s().createElement("div",{className:"fixed inset-0 z-[9999] bg-black bg-opacity-95 flex items-center justify-center",onClick:r},s().createElement("button",{onClick:r,className:"absolute top-3 sm:top-[39px] right-3 sm:right-4 z-50 text-white hover:text-gray-300 transition-colors",title:(0,f.__)("Close (ESC)","nggallery")},s().createElement("svg",{className:"w-6 h-6 sm:w-8 sm:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))),s().createElement("div",{className:"absolute top-3 sm:top-[39px] left-3 sm:left-4 z-50 text-white"},s().createElement("h2",{className:"text-sm sm:text-lg font-medium text-gray-300"},g.filename," (",u+1," of ",p.length,")")),s().createElement("div",{className:"relative w-full h-full flex items-center justify-between p-2 sm:p-4 ml-0",onClick:function(e){return e.stopPropagation()}},s().createElement("div",{className:"flex items-center justify-center w-8 sm:w-16 h-full"},v&&s().createElement("button",{onClick:h,className:"bg-black bg-opacity-60 hover:bg-opacity-80 text-white rounded-full p-2 sm:p-3 transition-all",title:(0,f.__)("Previous image ()","nggallery")},s().createElement("svg",{className:"w-5 h-5 sm:w-8 sm:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})))),s().createElement("div",{className:"flex-1 flex items-center justify-center max-w-full max-h-full mx-2 sm:mx-4"},s().createElement("div",{className:"relative"},s().createElement("img",{src:g.image_url||"",alt:g.alttext||g.filename,className:"max-w-full max-h-full object-contain ".concat(g.exclude?"opacity-50 grayscale":""),style:{maxHeight:"85vh",maxWidth:"100%"}}),g.exclude&&s().createElement("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none"},s().createElement("div",{className:"bg-gray-600 text-white text-sm px-3 py-2 rounded font-medium shadow-lg"},(0,f.__)("Hidden","nggallery"))))),s().createElement("div",{className:"flex items-center justify-center w-8 sm:w-16 h-full"},b&&s().createElement("button",{onClick:y,className:"bg-black bg-opacity-60 hover:bg-opacity-80 text-white rounded-full p-2 sm:p-3 transition-all",title:(0,f.__)("Next image ()","nggallery")},s().createElement("svg",{className:"w-5 h-5 sm:w-8 sm:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"}))))),s().createElement("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-80 text-white p-2 sm:p-4 rounded-t-lg w-full sm:w-auto max-w-4xl"},s().createElement("div",{className:"px-2 sm:px-4"},s().createElement("div",{className:"text-center mb-2 sm:mb-3"},s().createElement("h2",{className:"text-sm sm:text-lg font-medium text-gray-300"},g.filename," (",u+1," of ",p.length,")")),s().createElement("div",{className:"text-center mb-2 sm:mb-4"},g.alttext&&s().createElement("p",{className:"text-sm sm:text-lg font-medium mb-1 sm:mb-2"},g.alttext),g.description&&s().createElement("p",{className:"text-xs sm:text-sm text-gray-300"},g.description)),p.length>1&&s().createElement("div",{className:"flex justify-center space-x-1 sm:space-x-2 mb-2"},p.map(function(e,t){return s().createElement("button",{key:t,onClick:function(){return d(t)},className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full transition-colors ".concat(t===u?"bg-white":"bg-gray-500 hover:bg-gray-300"),title:"".concat((0,f.__)("Go to image","nggallery")," ").concat(t+1)})})),s().createElement("div",{className:"text-center text-xs text-gray-400"},(0,f.__)("Use   arrow keys to navigate  ESC to close","nggallery")))))},bulkResize:function(t){var r=t.isOpen,a=t.onClose,o=t.imageIds,l=t.galleryId,u=t.onConfirm,d=void 0===u?function(){}:u,m=(0,c.useState)(""),p=(0,i.A)(m,2),g=p[0],y=p[1],v=(0,c.useState)(""),b=(0,i.A)(v,2),x=b[0],E=b[1],_=(0,D.jE)(),C=(0,j.G5)(),N=(0,w.E)(),O=N.showSuccess,S=N.showError,k=N.showWarning,A=function(){var e=(0,n.A)(U().m(function e(){var t,r,n,i,c;return U().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t=g?parseInt(g,10):void 0,r=x?parseInt(x,10):void 0,e.n=1,C.mutateAsync({imageIds:o,width:t,height:r});case 1:n=e.v,i=Date.now(),l&&_.setQueriesData({queryKey:["gallery",l,"images"]},function(e){return null!=e&&e.images?Z(Z({},e),{},{images:e.images.map(function(e){return o.includes(e.pid)?Z(Z({},e),{},{reloadKey:i}):e})}):e}),n.success_count>0&&O("Successfully resized ".concat(n.success_count," of ").concat(n.processed," images")),n.failure_count>0&&k("Failed to resize ".concat(n.failure_count," images")),d(),a(),e.n=3;break;case 2:e.p=2,c=e.v,console.error("Error bulk resizing images:",c),S("Failed to resize selected images");case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}();return s().createElement(h.A,{isOpen:r,onClose:a,title:(0,f.__)("Bulk Resize Images","nggallery")},s().createElement("div",{className:"space-y-4"},s().createElement("p",{className:"text-gray-600"},(0,f.__)("Resize","nggallery")," ",o.length," ",(0,f.__)("selected images. Leave fields empty to use global settings.","nggallery")),s().createElement("div",{className:"space-y-4"},s().createElement("div",null,s().createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},(0,f.__)("Width (pixels)","nggallery")),s().createElement("input",{type:"number",min:"1",placeholder:(0,f.__)("Leave empty for global setting","nggallery"),value:g,onChange:function(e){return y(e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",disabled:C.isPending})),s().createElement("div",null,s().createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},(0,f.__)("Height (pixels)","nggallery")),s().createElement("input",{type:"number",min:"1",placeholder:(0,f.__)("Leave empty for global setting","nggallery"),value:x,onChange:function(e){return E(e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",disabled:C.isPending}))),s().createElement("div",{className:"flex justify-end space-x-3 pt-4"},s().createElement("button",{onClick:a,disabled:C.isPending,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50"},(0,f.__)("Cancel","nggallery")),s().createElement("button",{onClick:A,disabled:C.isPending,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50 flex items-center space-x-2"},C.isPending&&s().createElement(e.Nl,{className:"animate-spin h-4 w-4 text-white"}),s().createElement("span",null,C.isPending?(0,f.__)("Resizing...","nggallery"):(0,f.__)("Resize Images","nggallery"))))))},bulkGenerateThumbnails:function(t){var r=t.isOpen,a=t.onClose,l=t.imageIds,u=t.galleryId,d=t.onConfirm,m=void 0===d?function(){}:d,p=(0,c.useState)("240x160"),g=(0,i.A)(p,2),y=g[0],v=g[1],b=(0,c.useState)("240"),x=(0,i.A)(b,2),E=x[0],_=x[1],C=(0,c.useState)("160"),N=(0,i.A)(C,2),O=N[0],S=N[1],k=(0,c.useState)(!1),P=(0,i.A)(k,2),T=P[0],L=P[1],R=(0,c.useState)(!1),M=(0,i.A)(R,2),q=M[0],H=M[1],Q=(0,c.useState)(!1),z=(0,i.A)(Q,2),K=z[0],W=z[1],B=(0,c.useState)(function(){var e=localStorage.getItem("ngg_custom_thumbnail_sizes");return e?JSON.parse(e):[]}),U=(0,i.A)(B,2),V=U[0],X=U[1],Z=(0,D.jE)(),Y=(0,A.h5)(),$=(0,A.UG)(),J=$.data,ee=$.isLoading,te=(0,w.E)(),re=te.showSuccess,ne=te.showError,ae=te.showWarning,oe=(0,j.T8)();(0,c.useEffect)(function(){if(J&&r&&!K){var e=J.thumbwidth||240,t=J.thumbheight||160,n=J.thumbfix||!1;_(e.toString()),S(t.toString()),L(n);var a="".concat(e,"x").concat(t);if("240x160"===a||V.includes(a))v(a);else{if(!V.includes(a)&&"240x160"!==a){var i=[].concat((0,o.A)(V),[a]);X(i),localStorage.setItem("ngg_custom_thumbnail_sizes",JSON.stringify(i))}v(a)}W(!0)}},[J,r,K,V]),(0,c.useEffect)(function(){r||W(!1)},[r]);var ie=function(e,t){var r="".concat(e,"x").concat(t);if("240x160"!==r&&!V.includes(r)){var n=[].concat((0,o.A)(V),[r]);X(n),localStorage.setItem("ngg_custom_thumbnail_sizes",JSON.stringify(n))}},le=function(){var e=(0,n.A)(I().m(function e(){var t,r,n,o,c,s,d,f,p,g,h,v,b,w,x,_;return I().w(function(e){for(;;)switch(e.p=e.n){case 0:return H(!0),e.p=1,"custom"===y?(t=E?parseInt(E,10):240,r=O?parseInt(O,10):160):(n=y.split("x"),o=(0,i.A)(n,2),c=o[0],s=o[1],t=parseInt(c,10),r=parseInt(s,10)),"custom"===y&&ie(t,r),e.p=2,e.n=3,Y.mutateAsync({thumbwidth:t,thumbheight:r,thumbfix:T});case 3:e.n=5;break;case 4:e.p=4,b=e.v,console.error("Error saving thumbnail settings:",b);case 5:d=0,f=0,p=G(l),e.p=6,p.s();case 7:if((g=p.n()).done){e.n=12;break}return h=g.value,e.p=8,e.n=9,oe.mutateAsync({pid:h,width:t,height:r,setFixDimension:T});case 9:d++,e.n=11;break;case 10:e.p=10,w=e.v,console.error("Error generating thumbnail for image ".concat(h,":"),w),f++;case 11:e.n=7;break;case 12:e.n=14;break;case 13:e.p=13,x=e.v,p.e(x);case 14:return e.p=14,p.f(),e.f(14);case 15:v=Date.now(),u&&Z.setQueriesData({queryKey:["gallery",u,"images"]},function(e){return null!=e&&e.images?F(F({},e),{},{images:e.images.map(function(e){return l.includes(e.pid)?F(F({},e),{},{reloadKey:v}):e})}):e}),d>0&&re("Successfully generated thumbnails for ".concat(d," of ").concat(l.length," images")),f>0&&ae("Failed to generate thumbnails for ".concat(f," images")),m(),a(),e.n=17;break;case 16:e.p=16,_=e.v,console.error("Error bulk generating thumbnails:",_),ne("Failed to generate thumbnails for selected images");case 17:return e.p=17,H(!1),e.f(17);case 18:return e.a(2)}},e,null,[[8,10],[6,13,14,15],[2,4],[1,16,17,18]])}));return function(){return e.apply(this,arguments)}}();return s().createElement(h.A,{isOpen:r,onClose:a,title:(0,f.__)("Create new thumbnails","nggallery")},s().createElement("div",{className:"space-y-4"},s().createElement("p",{className:"text-gray-600"},(0,f.__)("Generate custom thumbnails for","nggallery")," ",l.length," ",(0,f.__)("selected images.","nggallery")),ee&&s().createElement("div",{className:"flex items-center justify-center py-4"},s().createElement(e.Nl,{className:"animate-spin h-5 w-5 text-gray-500"}),s().createElement("span",{className:"ml-2 text-gray-500"},(0,f.__)("Loading current settings...","nggallery"))),!ee&&s().createElement("div",{className:"space-y-4"},s().createElement("div",null,s().createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},(0,f.__)("Width x height (in pixel)","nggallery")),s().createElement("select",{value:y,onChange:function(e){return function(e){if(v(e),"custom"!==e&&e.includes("x")){var t=e.split("x"),r=(0,i.A)(t,2),n=r[0],a=r[1];_(n),S(a)}}(e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",disabled:q},s().createElement("option",{value:"240x160"},"240x160"),V.map(function(e){return s().createElement("option",{key:e,value:e},e)}),s().createElement("option",{value:"custom"},(0,f.__)("Custom","nggallery"))),"custom"===y&&s().createElement("div",{className:"mt-3"},s().createElement("div",{className:"flex items-center space-x-2"},s().createElement("input",{type:"number",min:"1",value:E,onChange:function(e){return _(e.target.value)},className:"w-24 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",disabled:q}),s().createElement("span",{className:"text-gray-500"},"x"),s().createElement("input",{type:"number",min:"1",value:O,onChange:function(e){return S(e.target.value)},className:"w-24 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",disabled:q})),s().createElement("p",{className:"text-xs text-gray-500 mt-1"},(0,f.__)("These are maximum values","nggallery")))),s().createElement("div",null,s().createElement("div",{className:"flex items-center space-x-2"},s().createElement("input",{type:"checkbox",id:"setFixDimension",checked:T,onChange:function(e){return L(e.target.checked)},className:"rounded border-gray-300 text-green-600 focus:ring-green-500",disabled:q}),s().createElement("label",{htmlFor:"setFixDimension",className:"text-sm text-gray-700"},(0,f.__)("Set fix dimension","nggallery"))),s().createElement("p",{className:"text-xs text-gray-500 ml-5 mt-1"},(0,f.__)("Ignore the aspect ratio, no portrait thumbnails","nggallery")))),s().createElement("div",{className:"flex justify-end space-x-3 pt-4"},s().createElement("button",{onClick:a,disabled:q||ee,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50"},(0,f.__)("Cancel","nggallery")),s().createElement("button",{onClick:le,disabled:q||ee,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 flex items-center space-x-2"},q&&s().createElement(e.Nl,{className:"animate-spin h-4 w-4 text-white"}),s().createElement("span",null,q?(0,f.__)("Generating...","nggallery"):(0,f.__)("OK","nggallery"))))))},bulkOperationConfirmation:function(t){var r,a,o=t.isOpen,l=t.onClose,u=t.galleries,d=t.operationType,m=t.onConfirm,p=t.title,g=t.description,y=t.warningText,v=t.confirmLabel,b=void 0===v?(0,f.__)("OK","nggallery"):v,w=t.processingLabel,x=void 0===w?(0,f.__)("Processing...","nggallery"):w,E=(0,c.useState)(!1),_=(0,i.A)(E,2),C=_[0],N=_[1],O=(0,c.useState)(null),S=(0,i.A)(O,2),j=S[0],A=S[1],P=function(){var e=(0,n.A)(z().m(function e(){var t;return z().w(function(e){for(;;)switch(e.p=e.n){case 0:return N(!0),A({current:0,total:0}),e.p=1,e.n=2,m(function(e,t){A({current:e,total:t})});case 2:l(),e.n=4;break;case 3:e.p=3,t=e.v,console.error("Operation failed:",t);case 4:return e.p=4,N(!1),A(null),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),T=p||function(){switch(d){case"watermark":return(0,f.__)("Set Watermark","nggallery");case"metadata":return(0,f.__)("Import Metadata","nggallery");case"recovery":return(0,f.__)("Recover from Backup","nggallery");default:return(0,f.__)("Confirm Operation","nggallery")}}(),D=g||function(){var e=u.length,t=1===e?(0,f.__)("gallery","nggallery"):(0,f.__)("galleries","nggallery");switch(d){case"watermark":return(0,f.__)("Apply watermark to all images in ".concat(e," ").concat(t,"?"),"nggallery");case"metadata":return(0,f.__)("Import metadata for all images in ".concat(e," ").concat(t,"?"),"nggallery");case"recovery":return(0,f.__)("Recover all images from backup in ".concat(e," ").concat(t,"?"),"nggallery");default:return(0,f.__)("Perform operation on ".concat(e," ").concat(t,"?"),"nggallery")}}(),I=y||("recovery"===d?(0,f.__)("This will overwrite current images with their backup versions.","nggallery"):null);return s().createElement(h.A,{isOpen:o,onClose:l,title:T},s().createElement("div",{className:"space-y-4"},s().createElement("p",{className:"text-sm text-gray-600 text-center"},D),(r=u.slice(0,5),a=u.length-5,s().createElement("div",{className:"my-4"},s().createElement("ul",{className:"list-none text-sm text-gray-700 px-4 text-center"},r.map(function(e){return s().createElement("li",{key:e.id},e.galleryTitle)}),a>0&&s().createElement("li",{className:"text-gray-500 italic"},(0,f.__)("and ".concat(a," more..."),"nggallery"))))),I&&s().createElement("p",{className:"text-sm text-yellow-600 text-center bg-yellow-50 p-3 rounded border border-yellow-200"}," ",I),C&&j&&j.total>0&&s().createElement("div",{className:"mt-4"},s().createElement(k,{current:j.current,total:j.total,label:(0,f.__)("Processing images","nggallery"),showPercentage:!0})),s().createElement("div",{className:"flex justify-center space-x-3 !mb-4 ".concat(C?"cursor-wait":"")},s().createElement("button",{type:"button",onClick:l,disabled:C,className:"px-8 py-2 font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},(0,f.__)("Cancel","nggallery")),s().createElement("button",{type:"button",onClick:P,disabled:C,className:"px-8 py-2 font-bold text-white bg-green-600 border border-transparent rounded-lg shadow hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},C?s().createElement("span",{className:"flex items-center"},s().createElement(e.Nl,{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white"}),x):b))))},bulkCreateThumbnailsGalleries:function(t){var r=t.isOpen,a=t.onClose,l=t.galleryIds,u=t.onConfirm,d=void 0===u?function(){}:u,m=(0,c.useState)("240x160"),p=(0,i.A)(m,2),g=p[0],y=p[1],v=(0,c.useState)("240"),b=(0,i.A)(v,2),x=b[0],E=b[1],_=(0,c.useState)("160"),C=(0,i.A)(_,2),N=C[0],O=C[1],S=(0,c.useState)(!1),T=(0,i.A)(S,2),D=T[0],I=T[1],L=(0,c.useState)(!1),R=(0,i.A)(L,2),F=R[0],G=R[1],M=(0,c.useState)(!1),q=(0,i.A)(M,2),H=q[0],Q=q[1],z=(0,c.useState)(0),K=(0,i.A)(z,2),W=K[0],B=K[1],U=(0,c.useState)(0),V=(0,i.A)(U,2),X=V[0],Z=V[1],Y=(0,c.useState)(function(){var e=localStorage.getItem("ngg_custom_thumbnail_sizes");return e?JSON.parse(e):[]}),$=(0,i.A)(Y,2),J=$[0],ee=$[1],te=(0,A.h5)(),re=(0,j.Rg)(),ne=(0,A.UG)(),ae=ne.data,oe=ne.isLoading,ie=(0,w.E)(),le=ie.showSuccess,ce=ie.showError,se=ie.showWarning;(0,c.useEffect)(function(){if(ae&&r&&!H){var e=ae.thumbwidth||240,t=ae.thumbheight||160,n=ae.thumbfix||!1;E(e.toString()),O(t.toString()),I(n);var a="".concat(e,"x").concat(t);if("240x160"===a||J.includes(a))y(a);else{if(!J.includes(a)&&"240x160"!==a){var i=[].concat((0,o.A)(J),[a]);ee(i),localStorage.setItem("ngg_custom_thumbnail_sizes",JSON.stringify(i))}y(a)}Q(!0)}},[ae,r,H,J]),(0,c.useEffect)(function(){r||Q(!1)},[r]);var ue=function(e,t){var r="".concat(e,"x").concat(t);if("240x160"!==r&&!J.includes(r)){var n=[].concat((0,o.A)(J),[r]);ee(n),localStorage.setItem("ngg_custom_thumbnail_sizes",JSON.stringify(n))}},de=function(){var e=(0,n.A)(P().m(function e(){var t,r,n,o,c,s,u,m,p;return P().w(function(e){for(;;)switch(e.p=e.n){case 0:return G(!0),B(0),Z(0),e.p=1,"custom"===g?(t=x?parseInt(x,10):240,r=N?parseInt(N,10):160):(n=g.split("x"),o=(0,i.A)(n,2),c=o[0],s=o[1],t=parseInt(c,10),r=parseInt(s,10)),"custom"===g&&ue(t,r),e.p=2,e.n=3,te.mutateAsync({thumbwidth:t,thumbheight:r,thumbfix:D});case 3:e.n=5;break;case 4:e.p=4,m=e.v,console.error("Error saving thumbnail settings:",m);case 5:return e.n=6,re.mutateAsync({galleryIds:l,width:t,height:r,fixDimension:D,onProgress:function(e,t){B(e),Z(t)}});case 6:(u=e.v).failureCount>0?se("".concat((0,f.__)("Generated thumbnails for","nggallery")," ").concat(u.successCount," ").concat((0,f.__)("of","nggallery")," ").concat(u.total," ").concat((0,f.__)("images","nggallery"))):le("".concat((0,f.__)("Successfully generated thumbnails for","nggallery")," ").concat(u.total," ").concat((0,f.__)("images","nggallery"))),d(),a(),e.n=8;break;case 7:e.p=7,p=e.v,console.error("Error bulk generating thumbnails:",p),ce((0,f.__)("Failed to generate thumbnails for selected galleries","nggallery"));case 8:return e.p=8,G(!1),e.f(8);case 9:return e.a(2)}},e,null,[[2,4],[1,7,8,9]])}));return function(){return e.apply(this,arguments)}}();return s().createElement(h.A,{isOpen:r,onClose:a,title:(0,f.__)("Create new thumbnails","nggallery")},s().createElement("div",{className:"space-y-4"},s().createElement("p",{className:"text-gray-600"},(0,f.__)("Generate custom thumbnails for","nggallery")," ",l.length," ",(0,f.__)("selected galleries.","nggallery")),oe&&s().createElement("div",{className:"flex items-center justify-center py-4"},s().createElement(e.Nl,{className:"animate-spin h-5 w-5 text-gray-500"}),s().createElement("span",{className:"ml-2 text-gray-500"},(0,f.__)("Loading current settings...","nggallery"))),!oe&&s().createElement("div",{className:"space-y-4"},s().createElement("div",null,s().createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},(0,f.__)("Width x height (in pixel)","nggallery")),s().createElement("select",{value:g,onChange:function(e){return function(e){if(y(e),"custom"!==e&&e.includes("x")){var t=e.split("x"),r=(0,i.A)(t,2),n=r[0],a=r[1];E(n),O(a)}}(e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",disabled:F},s().createElement("option",{value:"240x160"},"240x160"),J.map(function(e){return s().createElement("option",{key:e,value:e},e)}),s().createElement("option",{value:"custom"},(0,f.__)("Custom","nggallery"))),"custom"===g&&s().createElement("div",{className:"mt-3"},s().createElement("div",{className:"flex items-center space-x-2"},s().createElement("input",{type:"number",min:"1",value:x,onChange:function(e){return E(e.target.value)},className:"w-24 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",disabled:F}),s().createElement("span",{className:"text-gray-500"},"x"),s().createElement("input",{type:"number",min:"1",value:N,onChange:function(e){return O(e.target.value)},className:"w-24 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",disabled:F})),s().createElement("p",{className:"text-xs text-gray-500 mt-1"},(0,f.__)("These are maximum values","nggallery")))),s().createElement("div",null,s().createElement("div",{className:"flex items-center space-x-2"},s().createElement("input",{type:"checkbox",id:"setFixDimension",checked:D,onChange:function(e){return I(e.target.checked)},className:"rounded border-gray-300 text-green-600 focus:ring-green-500",disabled:F}),s().createElement("label",{htmlFor:"setFixDimension",className:"text-sm text-gray-700"},(0,f.__)("Set fix dimension","nggallery"))),s().createElement("p",{className:"text-xs text-gray-500 ml-5 mt-1"},(0,f.__)("Ignore the aspect ratio, no portrait thumbnails","nggallery")))),F&&X>0&&s().createElement("div",{className:"mt-4"},s().createElement(k,{current:W,total:X,label:(0,f.__)("Processing images","nggallery"),showPercentage:!0})),s().createElement("div",{className:"flex justify-end space-x-3 pt-4"},s().createElement("button",{onClick:a,disabled:F||oe,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50"},(0,f.__)("Cancel","nggallery")),s().createElement("button",{onClick:de,disabled:F||oe,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 flex items-center space-x-2"},F&&s().createElement(e.Nl,{className:"animate-spin h-4 w-4 text-white"}),s().createElement("span",null,F?(0,f.__)("Generating...","nggallery"):(0,f.__)("OK","nggallery"))))))},bulkResizeImagesGalleries:function(t){var r=t.isOpen,a=t.onClose,o=t.galleryIds,l=t.onConfirm,u=void 0===l?function(){}:l,d=(0,c.useState)("800"),m=(0,i.A)(d,2),p=m[0],g=m[1],y=(0,c.useState)("600"),v=(0,i.A)(y,2),b=v[0],x=v[1],E=(0,c.useState)(!1),_=(0,i.A)(E,2),C=_[0],N=_[1],O=(0,c.useState)(!1),S=(0,i.A)(O,2),P=S[0],T=S[1],D=(0,c.useState)(0),I=(0,i.A)(D,2),L=I[0],R=I[1],F=(0,c.useState)(0),G=(0,i.A)(F,2),M=G[0],q=G[1],H=(0,A.h5)(),Q=(0,j.mQ)(),z=(0,A.UG)(),K=z.data,B=z.isLoading,U=(0,w.E)(),V=U.showSuccess,X=U.showError,Z=U.showWarning;(0,c.useEffect)(function(){if(K&&r&&!P){var e=K.imgWidth||800,t=K.imgHeight||600;g(e.toString()),x(t.toString()),T(!0)}},[K,r,P]),(0,c.useEffect)(function(){r||T(!1)},[r]);var Y=function(){var e=(0,n.A)(W().m(function e(){var t,r,n,i,l;return W().w(function(e){for(;;)switch(e.p=e.n){case 0:return N(!0),R(0),q(0),e.p=1,t=p?parseInt(p,10):800,r=b?parseInt(b,10):600,e.p=2,e.n=3,H.mutateAsync({imgWidth:t,imgHeight:r});case 3:e.n=5;break;case 4:e.p=4,i=e.v,console.error("Error saving resize settings:",i);case 5:return e.n=6,Q.mutateAsync({galleryIds:o,width:t,height:r,onProgress:function(e,t){R(e),q(t)}});case 6:(n=e.v).failureCount>0?Z("".concat((0,f.__)("Resized","nggallery")," ").concat(n.successCount," ").concat((0,f.__)("of","nggallery")," ").concat(n.total," ").concat((0,f.__)("images","nggallery"))):V("".concat((0,f.__)("Successfully resized","nggallery")," ").concat(n.total," ").concat((0,f.__)("images","nggallery"))),u(),a(),e.n=8;break;case 7:e.p=7,l=e.v,console.error("Error bulk resizing images:",l),X((0,f.__)("Failed to resize images for selected galleries","nggallery"));case 8:return e.p=8,N(!1),e.f(8);case 9:return e.a(2)}},e,null,[[2,4],[1,7,8,9]])}));return function(){return e.apply(this,arguments)}}();return s().createElement(h.A,{isOpen:r,onClose:a,title:(0,f.__)("Resize Images","nggallery")},s().createElement("div",{className:"space-y-4"},s().createElement("p",{className:"text-gray-600"},(0,f.__)("Resize images in","nggallery")," ",o.length," ",(0,f.__)("selected galleries.","nggallery")),B&&s().createElement("div",{className:"flex items-center justify-center py-4"},s().createElement(e.Nl,{className:"animate-spin h-5 w-5 text-gray-500"}),s().createElement("span",{className:"ml-2 text-gray-500"},(0,f.__)("Loading current settings...","nggallery"))),!B&&s().createElement("div",{className:"space-y-4"},s().createElement("div",null,s().createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},(0,f.__)("Resize Images to","nggallery")),s().createElement("div",{className:"flex items-center space-x-2"},s().createElement("input",{type:"number",min:"1",value:p,onChange:function(e){return g(e.target.value)},className:"w-24 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",disabled:C}),s().createElement("span",{className:"text-gray-500"},"x"),s().createElement("input",{type:"number",min:"1",value:b,onChange:function(e){return x(e.target.value)},className:"w-24 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",disabled:C}),s().createElement("span",{className:"text-gray-500 ml-2"},"px")),s().createElement("p",{className:"text-xs text-gray-500 mt-1"},(0,f.__)("Width x height. Leave height or width empty to keep ratio.","nggallery")))),C&&M>0&&s().createElement("div",{className:"mt-4"},s().createElement(k,{current:L,total:M,label:(0,f.__)("Processing images","nggallery"),showPercentage:!0})),s().createElement("div",{className:"flex justify-end space-x-3 pt-4"},s().createElement("button",{onClick:a,disabled:C||B,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50"},(0,f.__)("Cancel","nggallery")),s().createElement("button",{onClick:Y,disabled:C||B,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 flex items-center space-x-2"},C&&s().createElement(e.Nl,{className:"animate-spin h-4 w-4 text-white"}),s().createElement("span",null,C?(0,f.__)("Resizing...","nggallery"):(0,f.__)("OK","nggallery"))))))},gallerySelect:function(t){var r=t.isOpen,a=t.onClose,o=t.imageIds,u=t.operation,d=void 0===u?"copy":u,m=t.onConfirm,p=t.excludeGalleryId,g=(0,c.useState)(null),y=(0,i.A)(g,2),v=y[0],b=y[1],x=(0,j.yr)({get_all:!0}),E=x.data,_=x.isLoading,C=(0,w.E)(),N=C.showSuccess,O=C.showError,S=C.showWarning,k=(0,j.BD)(),A=(0,j.dj)(),P=((null==E?void 0:E.galleries)||[]).filter(function(e){return!p||e.id!==p}),T=function(){var e=(0,n.A)(Je().m(function e(){var t,r,n;return Je().w(function(e){for(;;)switch(e.p=e.n){case 0:if(v){e.n=1;break}return e.a(2);case 1:return t="copy"===d?k:A,e.p=2,e.n=3,t.mutateAsync({imageIds:o,destinationGalleryId:v});case 3:(r=e.v).success_count>0&&N(r.message),r.failure_count>0&&S("Failed to ".concat(d," ").concat(r.failure_count," images")),m&&m(v),a(),e.n=5;break;case 4:e.p=4,n=e.v,console.error("Error ".concat(d,"ing images:"),n),O("Failed to ".concat(d," images"));case 5:return e.a(2)}},e,null,[[2,4]])}));return function(){return e.apply(this,arguments)}}(),D="copy"===d?(0,f.__)("Copy","nggallery"):(0,f.__)("Move","nggallery"),I="copy"===d?(0,f.__)("copy","nggallery"):(0,f.__)("move","nggallery");return s().createElement(h.A,{isOpen:r,onClose:a,title:(0,f.sprintf)((0,f.__)("%s Images to Gallery","nggallery"),D)},s().createElement("p",{className:"text-gray-600 mb-4"},(0,f.sprintf)((0,f.__)("Select the gallery where you want to %s the selected images.","nggallery"),I)),s().createElement("div",{className:"mb-4"},s().createElement("p",{className:"text-sm text-gray-500"},1===o.length?(0,f.sprintf)((0,f.__)("1 image will be %s","nggallery"),"copy"===d?(0,f.__)("copied","nggallery"):(0,f.__)("moved","nggallery")):(0,f.sprintf)((0,f.__)("%d images will be %s","nggallery"),o.length,"copy"===d?(0,f.__)("copied","nggallery"):(0,f.__)("moved","nggallery")))),_?s().createElement("div",{className:"py-8"},s().createElement(l.A,{size:"md",text:(0,f.__)("Loading galleries...","nggallery")})):0===P.length?s().createElement("div",{className:"text-center py-8"},s().createElement("p",{className:"text-gray-500"},(0,f.__)("No galleries available","nggallery"))):s().createElement("div",{className:"space-y-2 max-h-96 overflow-y-auto"},P.map(function(e){return s().createElement("div",{key:e.id,className:"flex items-center p-3 border rounded-lg cursor-pointer transition-colors ".concat(v===e.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),onClick:function(){return b(e.id)}},s().createElement("input",{type:"radio",name:"gallery",value:e.id,checked:v===e.id,onChange:function(){return b(e.id)},className:"mr-3"}),e.thumbnail?s().createElement("img",{src:e.thumbnail,alt:e.galleryTitle,className:"w-12 h-12 object-cover rounded mr-3"}):s().createElement("div",{className:"w-12 h-12 bg-gray-200 rounded mr-3 flex items-center justify-center"},s().createElement("span",{className:"text-gray-500 text-xs"},(0,f.__)("No image","nggallery"))),s().createElement("div",{className:"flex-1"},s().createElement("h3",{className:"font-medium"},e.galleryTitle),s().createElement("p",{className:"text-sm text-gray-500"},e.count," ","1"===e.count?(0,f.__)("image","nggallery"):(0,f.__)("images","nggallery"))))})),s().createElement("div",{className:"flex justify-end space-x-2 mt-6"},s().createElement("button",{onClick:a,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:k.isPending||A.isPending},(0,f.__)("Cancel","nggallery")),s().createElement("button",{onClick:T,disabled:!v||k.isPending||A.isPending,className:"px-4 py-2 text-white rounded-md hover:bg-opacity-90 disabled:opacity-50 disabled:cursor-not-allowed flex items-center ".concat("move"===d?"bg-orange-600 hover:bg-orange-700":"bg-green-500 hover:bg-green-600")},(k.isPending||A.isPending)&&s().createElement(e.Nl,{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white"}),(0,f.sprintf)((0,f.__)("%s Images","nggallery"),D))))},tags:function(t){var r=t.isOpen,a=t.onClose,u=t.imageIds,d=t.onConfirm,m=(0,c.useState)(""),p=(0,i.A)(m,2),g=p[0],y=p[1],v=(0,c.useState)(new Set),b=(0,i.A)(v,2),x=b[0],E=b[1],_=(0,c.useState)("append"),C=(0,i.A)(_,2),N=C[0],O=C[1],S=(0,c.useState)([]),k=(0,i.A)(S,2),j=k[0],A=k[1],P=(0,c.useState)(!1),T=(0,i.A)(P,2),D=T[0],I=T[1],L=(0,ve.IG)(),R=(0,ve.PN)(),F=(0,w.E)().showWarning;(0,c.useEffect)(function(){r&&G()},[r]);var G=function(){var e=(0,n.A)(Ft().m(function e(){var t,r,n,a;return Ft().w(function(e){for(;;)switch(e.p=e.n){case 0:return I(!0),e.p=1,r=null===(t=window.imagelyApp)||void 0===t?void 0:t.nonce,e.n=2,ee()({path:"/imagely/v1/tags",method:"GET",headers:{"X-WP-Nonce":r,"Content-Type":"application/json"}});case 2:n=e.v,A(n),e.n=4;break;case 3:e.p=3,a=e.v,console.error("Error fetching tags:",a);case 4:return e.p=4,I(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),M=function(e){return e.split(",").map(function(e){return e.trim()}).filter(function(e){return e.length>0})},q=function(){var e=(0,n.A)(Ft().m(function e(){var t,r,n,i,l;return Ft().w(function(e){for(;;)switch(e.p=e.n){case 0:if("remove"!==N){e.n=5;break}return e.p=1,e.n=2,R.mutateAsync({imageIds:u});case 2:d&&d(),a(),e.n=4;break;case 3:e.p=3,i=e.v,console.error("Error removing tags:",i);case 4:return e.a(2);case 5:if(t=M(g),r=Array.from(x),0!==(n=[].concat((0,o.A)(t),r)).length){e.n=6;break}return F((0,f.__)("Please select existing tags or enter new tags","nggallery")),e.a(2);case 6:return e.p=6,e.n=7,L.mutateAsync({imageIds:u,tags:n,append:"append"===N});case 7:d&&d(),a(),e.n=9;break;case 8:e.p=8,l=e.v,console.error("Error adding tags:",l);case 9:return e.a(2)}},e,null,[[6,8],[1,3]])}));return function(){return e.apply(this,arguments)}}();return s().createElement(h.A,{isOpen:r,onClose:a,title:(0,f.__)("Add Tags to Images","nggallery")},s().createElement("div",{className:"mb-4"},s().createElement("p",{className:"text-sm text-gray-500"},1===u.length?(0,f.__)("1 image will be tagged","nggallery"):(0,f.sprintf)((0,f.__)("%d images will be tagged","nggallery"),u.length))),s().createElement("div",{className:"mb-6"},s().createElement("label",{className:"block text-sm font-medium text-gray-700 mb-3"},(0,f.__)("Tag Mode","nggallery")),s().createElement("div",{className:"space-y-2"},s().createElement("label",{className:"flex items-center"},s().createElement("input",{type:"radio",name:"tagMode",checked:"append"===N,onChange:function(){return O("append")},className:"mr-2"}),s().createElement("span",null,(0,f.__)("Add to existing tags","nggallery"))),s().createElement("label",{className:"flex items-center"},s().createElement("input",{type:"radio",name:"tagMode",checked:"replace"===N,onChange:function(){return O("replace")},className:"mr-2"}),s().createElement("span",{className:"text-orange-600"},(0,f.__)("Replace all existing tags","nggallery"))),s().createElement("label",{className:"flex items-center"},s().createElement("input",{type:"radio",name:"tagMode",checked:"remove"===N,onChange:function(){return O("remove")},className:"mr-2"}),s().createElement("span",{className:"text-red-600"},(0,f.__)("Remove all tags","nggallery"))))),"remove"!==N&&s().createElement("div",{className:"mb-6"},s().createElement("label",{htmlFor:"newTags",className:"block text-sm font-medium text-gray-700 mb-2"},(0,f.__)("New Tags","nggallery")),s().createElement("input",{id:"newTags",type:"text",value:g,onChange:function(e){return y(e.target.value)},placeholder:(0,f.__)("Enter new tags separated by commas (e.g., nature, landscape, photography)","nggallery"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"}),s().createElement("p",{className:"text-xs text-gray-500 mt-1"},(0,f.__)("Separate multiple tags with commas","nggallery"))),"remove"!==N&&s().createElement("div",{className:"mb-6"},s().createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},(0,f.__)("Existing Tags","nggallery")),D?s().createElement("div",{className:"py-4"},s().createElement(l.A,{size:"sm",text:(0,f.__)("Loading tags...","nggallery"),centerInContainer:!1})):0===j.length?s().createElement("p",{className:"text-gray-500 py-4"},(0,f.__)("No existing tags found","nggallery")):s().createElement("div",{className:"max-h-48 overflow-y-auto border border-gray-300 rounded-md p-3"},s().createElement("div",{className:"space-y-2"},j.map(function(e){return s().createElement("label",{key:e.term_id,className:"flex items-center cursor-pointer"},s().createElement("input",{type:"checkbox",checked:x.has(e.name),onChange:function(){return t=e.name,(r=new Set(x)).has(t)?r.delete(t):r.add(t),void E(r);var t,r},className:"mr-2"}),s().createElement("span",{className:"flex-1"},e.name),s().createElement("span",{className:"text-xs text-gray-500 ml-2"},"(",e.count,")"))})))),"remove"===N&&s().createElement("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md"},s().createElement("div",{className:"flex"},s().createElement(e.m,{className:"w-5 h-5 text-red-400 mr-2 mt-0.5"}),s().createElement("div",null,s().createElement("h3",{className:"text-sm font-medium text-red-800"},(0,f.__)("Warning: This will remove all tags","nggallery")),s().createElement("p",{className:"text-sm text-red-700 mt-1"},1===u.length?(0,f.__)("All tags will be permanently removed from the selected image.","nggallery"):(0,f.sprintf)((0,f.__)("All tags will be permanently removed from all %d selected images.","nggallery"),u.length))))),s().createElement("div",{className:"flex justify-end space-x-2"},s().createElement("button",{onClick:a,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:L.isPending||R.isPending},(0,f.__)("Cancel","nggallery")),s().createElement("button",{onClick:q,disabled:L.isPending||R.isPending,className:"px-4 py-2 text-white rounded-md hover:bg-opacity-90 disabled:opacity-50 disabled:cursor-not-allowed flex items-center ".concat("remove"===N?"bg-red-600 hover:bg-red-700":"bg-green-500 hover:bg-green-600")},(L.isPending||R.isPending)&&s().createElement(e.Nl,{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white"}),"remove"===N?(0,f.__)("Remove All Tags","nggallery"):(0,f.__)("Add Tags","nggallery"))))},tagForm:function(t){var r=t.isOpen,a=t.onClose,o=t.tag,l=void 0===o?null:o,m=t.onSuccess,p=(0,d.useDispatch)(u.E),g=(0,c.useState)({name:"",slug:"",description:""}),v=(0,i.A)(g,2),b=v[0],w=v[1],x=(0,c.useState)(!1),E=(0,i.A)(x,2),_=E[0],C=E[1],N=(0,c.useState)({}),O=(0,i.A)(N,2),S=O[0],k=O[1],j=!!l;(0,c.useEffect)(function(){r&&(w(l?{name:l.name||"",slug:l.slug||"",description:l.description||""}:{name:"",slug:"",description:""}),k({}))},[r,l]);var A=function(e,t){var r,n=(null==e?void 0:e.message)||t;null!=e&&e.code&&(n+=" (".concat((0,f.__)("Error Code","nggallery"),": ").concat(e.code,")")),null!=e&&null!==(r=e.data)&&void 0!==r&&r.details&&(n+=" - ".concat(e.data.details)),p.showNotice("error",n)},P=function(){var e={};return b.name.trim()||(e.name=(0,f.__)("Tag name is required","nggallery")),k(e),0===Object.keys(e).length},T=function(e){var t=e.target,r=t.name,n=t.value;w(function(e){return Rt(Rt({},e),{},(0,y.A)({},r,n))}),S[r]&&k(function(e){return Rt(Rt({},e),{},(0,y.A)({},r,""))})},D=function(){var e=(0,n.A)(Dt().m(function e(t){var r,n,o,i,c;return Dt().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.preventDefault(),P()){e.n=1;break}return e.a(2);case 1:if(C(!0),e.p=2,n=null===(r=window.imagelyApp)||void 0===r?void 0:r.nonce,o={name:b.name.trim(),description:b.description.trim()},b.slug.trim()&&(o.slug=b.slug.trim()),!j||!l){e.n=4;break}return e.n=3,ee()({path:"/imagely/v1/tags/".concat(l.term_id),method:"PUT",headers:{"X-WP-Nonce":n,"Content-Type":"application/json"},data:o});case 3:p.showNotice("success",(0,f.__)("Tag updated successfully","nggallery")),e.n=6;break;case 4:return e.n=5,ee()({path:"/imagely/v1/tags",method:"POST",headers:{"X-WP-Nonce":n,"Content-Type":"application/json"},data:o});case 5:p.showNotice("success",(0,f.__)("Tag created successfully","nggallery"));case 6:m&&m(),a(),e.n=13;break;case 7:if(e.p=7,c=e.v,console.error("Error saving tag:",c),!(c instanceof Response)){e.n=12;break}return e.p=8,e.n=9,c.json();case 9:i=e.v,A(i,(0,f.__)("Failed to save tag","nggallery")),e.n=11;break;case 10:e.p=10,e.v,p.showNotice("error",(0,f.__)("Failed to save tag","nggallery"));case 11:e.n=13;break;case 12:A(c,(0,f.__)("Failed to save tag","nggallery"));case 13:return e.p=13,C(!1),e.f(13);case 14:return e.a(2)}},e,null,[[8,10],[2,7,13,14]])}));return function(t){return e.apply(this,arguments)}}();return s().createElement(h.A,{isOpen:r,onClose:a,title:j?(0,f.__)("Edit Tag","nggallery"):(0,f.__)("Add New Tag","nggallery")},s().createElement("form",{onSubmit:D,className:"space-y-4"},s().createElement("div",null,s().createElement("label",{htmlFor:"tag-name",className:"block text-sm font-medium text-gray-700 mb-1"},(0,f.__)("Name","nggallery")," ",s().createElement("span",{className:"text-red-500"},"*")),s().createElement("input",{type:"text",id:"tag-name",name:"name",value:b.name,onChange:T,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 ".concat(S.name?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-green-500 focus:border-green-500"),placeholder:(0,f.__)("Enter tag name","nggallery"),disabled:_}),S.name&&s().createElement("p",{className:"mt-1 text-sm text-red-600"},S.name)),s().createElement("div",null,s().createElement("label",{htmlFor:"tag-slug",className:"block text-sm font-medium text-gray-700 mb-1"},(0,f.__)("Slug","nggallery")),s().createElement("input",{type:"text",id:"tag-slug",name:"slug",value:b.slug,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:(0,f.__)("Leave empty to auto-generate from name","nggallery"),disabled:_}),s().createElement("p",{className:"mt-1 text-sm text-gray-500"},(0,f.__)("The slug is the URL-friendly version of the name. Leave empty to auto-generate.","nggallery"))),s().createElement("div",null,s().createElement("label",{htmlFor:"tag-description",className:"block text-sm font-medium text-gray-700 mb-1"},(0,f.__)("Description","nggallery")),s().createElement("textarea",{id:"tag-description",name:"description",value:b.description,onChange:T,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:(0,f.__)("Optional description for this tag","nggallery"),disabled:_})),s().createElement("div",{className:"flex justify-end space-x-3 pt-4"},s().createElement("button",{type:"button",onClick:a,disabled:_,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"},(0,f.__)("Cancel","nggallery")),s().createElement("button",{type:"submit",disabled:_,className:"px-4 py-2 text-sm font-medium text-white bg-green-500 border border-transparent rounded-md shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"},_?s().createElement("span",{className:"flex items-center"},s().createElement(e.Nl,{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white"}),(0,f.__)("Saving...","nggallery")):j?(0,f.__)("Update Tag","nggallery"):(0,f.__)("Create Tag","nggallery")))))},editImage:function(t){var r=t.isOpen,a=t.onClose,l=t.image,m=(0,d.useDispatch)(u.E),p=(0,j.iX)(l.galleryid).data,g=(0,q.Eq)({enabled:"pro"===u.W,per_page:-1}),v=g.data,b=g.isLoading,x=(0,j.gj)(l.galleryid).data,E=((null==x?void 0:x.images)||[]).find(function(e){return e.pid===l.pid})||l,_=(0,ve.yr)(),C=(0,w.E)(),N=C.showSuccess,O=C.showError,S=function(e){var t=e.pricelist_id;return 0===t?"0":-1===t?"-1":t&&t>0?t.toString():"0"},k=(0,c.useState)(function(){var e={alttext:"",description:"",tags:""};return"pro"===u.W?Ge(Ge({},e),{},{pricelist_id:"0"}):e}),A=(0,i.A)(k,2),P=A[0],T=A[1],D=(0,c.useState)(!1),I=(0,i.A)(D,2),L=I[0],R=I[1],F=(0,c.useState)({}),G=(0,i.A)(F,2),M=G[0],H=G[1];(0,c.useEffect)(function(){if(r&&E){var e,t={alttext:E.alttext||"",description:E.description||"",tags:(null===(e=E.tags)||void 0===e?void 0:e.join(","))||""},n="pro"===u.W?Ge(Ge({},t),{},{pricelist_id:S(E)}):t;T(n),H({})}},[r,E]);var Q=function(){var e={};return P.alttext.trim()||(e.alttext=(0,f.__)("Alt text is required for accessibility","nggallery")),H(e),0===Object.keys(e).length},z=function(){var e=(0,n.A)(Le().m(function e(t){var r,n,i,c,s;return Le().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.preventDefault(),Q()){e.n=1;break}return e.a(2);case 1:return R(!0),e.p=2,r=(0,o.A)(new Set(P.tags.split(",").map(function(e){return e.trim()}).filter(function(e){return e.length>0}))).join(","),n={alttext:P.alttext,description:P.description,tags:r},i="pro"===u.W&&"pricelist_id"in P?Ge(Ge({},n),{},{pricelist_id:parseInt(P.pricelist_id,10)}):n,e.n=3,_.mutateAsync({imageId:l.pid,data:i});case 3:N((0,f.__)("Image updated successfully","nggallery")),setTimeout(function(){a()},100),e.n=5;break;case 4:e.p=4,s=e.v,c=s instanceof Error?s.message:(0,f.__)("Failed to update image","nggallery"),O(c);case 5:return e.p=5,R(!1),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(t){return e.apply(this,arguments)}}(),K=function(e){var t=e.target,r=t.name,n=t.value;T(function(e){return Ge(Ge({},e),{},(0,y.A)({},r,n))}),M[r]&&H(function(e){return Ge(Ge({},e),{},(0,y.A)({},r,""))})};return s().createElement(h.A,{isOpen:r,onClose:a,title:(0,f.__)("Edit Image","nggallery")},s().createElement("form",{onSubmit:z,className:"space-y-4"},s().createElement("div",{className:"flex justify-center mb-6"},s().createElement("div",{className:"relative w-48 h-32 cursor-pointer hover:opacity-80 transition-opacity",onClick:function(e){e.stopPropagation(),e.preventDefault();var t={image:{filename:l.filename,alttext:l.alttext||"",galleryPath:(null==p?void 0:p.path)||"",pid:l.pid,galleryid:l.galleryid},returnTo:{type:"editImage",props:{image:l}}};m.setActiveModal("imageView",t)},title:(0,f.__)("Click to edit image","nggallery")},s().createElement("img",{src:l.thumb_url||"",alt:l.alttext,className:"w-full h-full object-cover rounded-lg shadow-md"}),s().createElement("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity bg-black bg-opacity-30 rounded-lg"},s().createElement("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"}))))),s().createElement("div",null,s().createElement("label",{htmlFor:"alttext",className:"block text-sm font-medium text-gray-700 mb-1"},(0,f.__)("Alt Text","nggallery")),s().createElement("input",{type:"text",id:"alttext",name:"alttext",value:P.alttext,onChange:K,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 ".concat(M.alttext?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-green-500 focus:border-green-500")}),M.alttext&&s().createElement("p",{className:"mt-1 text-sm text-red-600"},M.alttext)),s().createElement("div",null,s().createElement("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1"},(0,f.__)("Description","nggallery")),s().createElement("textarea",{id:"description",name:"description",value:P.description,onChange:K,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})),s().createElement("div",null,s().createElement("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1"},(0,f.__)("Tags (comma-separated)","nggallery")),s().createElement("input",{type:"text",id:"tags",name:"tags",value:P.tags,onChange:K,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})),"pro"===u.W?s().createElement("div",null,s().createElement("label",{htmlFor:"pricelist_id",className:"block text-sm font-medium text-gray-700 mb-1"},(0,f.__)("Pricelist","nggallery")),s().createElement("select",{id:"pricelist_id",name:"pricelist_id",value:"pricelist_id"in P?P.pricelist_id:"0",onChange:K,disabled:L||b,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",style:{width:"100%",minWidth:"100%"}},b?s().createElement("option",{value:"0"},(0,f.__)("Loading pricelists...","nggallery")):s().createElement(s().Fragment,null,s().createElement("option",{value:"0"},(0,f.__)("Use gallery's pricelist","nggallery")),s().createElement("option",{value:"-1"},(0,f.__)("None (not for sale)","nggallery")),((null==v?void 0:v.pricelists)||[]).map(function(e){return s().createElement("option",{key:e.id,value:e.id.toString()},e.title)}))),s().createElement("p",{className:"text-xs text-gray-500 mt-1"},(0,f.__)("Choose how to handle pricing for this image.","nggallery"))):s().createElement("div",{className:"relative"},s().createElement("div",{className:"opacity-50 pointer-events-none"},s().createElement("label",{htmlFor:"pricelist_id",className:"block text-sm font-medium text-gray-700 mb-1"},(0,f.__)("Pricelist","nggallery")),s().createElement("select",{id:"pricelist_id",name:"pricelist_id",value:"0",onChange:function(){},disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",style:{width:"100%",minWidth:"100%"}},s().createElement("option",{value:"0"},(0,f.__)("Use gallery's pricelist","nggallery")),s().createElement("option",{value:"-1"},(0,f.__)("None (not for sale)","nggallery"))),s().createElement("p",{className:"text-xs text-gray-500 mt-1"},(0,f.__)("Choose how to handle pricing for this image.","nggallery"))),s().createElement("div",{className:"absolute inset-0 cursor-pointer flex items-center",onClick:function(){m.setActiveModal("upgrade",{feature:"eCommerce features",onClose:function(){m.setActiveModal("editImage",{image:l})}})},title:(0,f.__)("Requires NextGEN Gallery Pro","nggallery")},s().createElement("span",{className:"sr-only"},(0,f.__)("Upgrade to Pro for eCommerce features","nggallery")))),s().createElement("div",{className:"flex justify-end space-x-3 pt-4"},s().createElement("button",{type:"button",onClick:a,disabled:L,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},(0,f.__)("Cancel","nggallery")),s().createElement("button",{type:"submit",disabled:L,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center"},L&&s().createElement(e.Nl,{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white"}),L?(0,f.__)("Saving...","nggallery"):(0,f.__)("Save Changes","nggallery")))))},upgrade:function(t){var r=t.isOpen,n=t.onClose,a=t.feature,o=void 0===a?"eCommerce features":a,i=o.replace(/\s+(features?)$/i,"").trim(),l="eCommerce"===i?i:i.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}).join(" "),c="eCommerce"===i?i:function(e){return e.toLowerCase()}(l),u=/layout/i.test(o),d=(0,Mt.c)();return s().createElement(h.A,{isOpen:r,onClose:n,title:""},s().createElement("div",{className:"text-center"},s().createElement("div",{className:"flex items-center justify-center w-10 h-10 mx-auto mb-4"},s().createElement(e.$O,{className:"w-12 h-12"})),s().createElement("h3",{className:"text-xl font-semibold text-gray-800 mb-4"},u?(0,f.__)("This layout is a Pro Feature","nggallery"):(0,f.__)("".concat(l," is a Pro Feature"),"nggallery")),s().createElement("p",{className:"text-gray-600 text-center mb-0"},u?(0,f.__)("We're sorry, using this layout is not available on your plan.","nggallery"):(0,f.__)("We're sorry, using ".concat(c," is not available on your plan."),"nggallery")),s().createElement("p",{className:"text-gray-600 text-center mb-6"},(0,f.__)("Please upgrade to the Pro plan to unlock this and all our awesome features.","nggallery")),s().createElement("div",{className:"relative mb-8 flex justify-center items-center"},s().createElement(e.IP,{className:"absolute -left-0 -top-4 w-12 h-12 flex-shrink-0"}),s().createElement("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center bg-green-500 text-white text-center text-lg py-3 px-6 rounded-lg font-medium hover:bg-green-600 transition-colors"},(0,f.__)("Upgrade to Pro","nggallery"),s().createElement(e.gX,{className:"w-4 h-4 ml-2 flex-shrink-0"}))),s().createElement("div",{className:"bg-[#F0FDE6] border-t border-green-100 -mx-4 -mb-4 sm:px-16 px-8 py-4 rounded-b-lg"},s().createElement("div",{className:"flex items-center"},s().createElement(e.xe,{className:"w-8 h-8 sm:ml-8 ml-2 mr-2 flex-shrink-0"}),s().createElement("p",{className:"text-gray-700 text-sm text-left"},(0,f.__)("Imagely lite users get","nggallery")," ",s().createElement("strong",{className:"text-green-600"},(0,f.__)("50% off","nggallery"))," ",(0,f.__)("the regular price, automatically applied at checkout!","nggallery"))))))},licenseRequired:Ct,couponForm:function(t){var r=t.isOpen,a=t.onClose,o=t.onSuccess,l=(0,w.E)(),u=l.showSuccess,d=l.showError,m=(0,D.jE)(),p=(0,c.useState)(!1),g=(0,i.A)(p,2),v=g[0],b=g[1],x=(0,c.useState)({}),E=(0,i.A)(x,2),_=E[0],C=E[1],N=(0,c.useState)({couponFor:"",couponCode:"",discountType:"percentage",discountValue:"",startDate:"",endDate:"",usageLimit:""}),O=(0,i.A)(N,2),S=O[0],k=O[1],j=(0,le.f8)();(0,c.useEffect)(function(){r&&(k({couponFor:"",couponCode:"",discountType:"percentage",discountValue:"",startDate:"",endDate:"",usageLimit:""}),C({}),b(!1))},[r]);var A=function(e){var t=e.target,r=t.name,n=t.value;k(function(e){var t=ye(ye({},e),{},(0,y.A)({},r,n));if("startDate"!==r||n||(t.endDate=""),"startDate"===r&&e.endDate&&n&&e.endDate&&n>e.endDate&&(t.endDate=n),"endDate"===r&&e.startDate&&n&&e.startDate&&n<e.startDate&&(t.startDate=n),"discountValue"===r){var a=String(n).replace(/[^0-9.]/g,"");if("percentage"===e.discountType){var o=parseFloat(a||"0");t.discountValue=String(Math.min(100,isNaN(o)?0:o))}else t.discountValue=a}if("discountType"===r&&"percentage"===n){var i=parseFloat(String(e.discountValue||"0"));isNaN(i)||(t.discountValue=String(Math.min(100,i)))}return t}),_[r]&&C(function(e){return ye(ye({},e),{},(0,y.A)({},r,""))})},P=function(){var e={};return S.couponFor.trim()||(e.couponFor=(0,f.__)("This field is required","nggallery")),S.couponCode.trim()||(e.couponCode=(0,f.__)("This field is required","nggallery")),S.discountValue.trim()||(e.discountValue=(0,f.__)("This field is required","nggallery")),S.startDate&&S.endDate&&S.endDate<S.startDate&&(e.endDate=(0,f.__)("End date cannot be before start date","nggallery")),C(e),0===Object.keys(e).length},T=function(){var e=(0,n.A)(pe().m(function e(t){var r,n,i,l,c;return pe().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.preventDefault(),P()){e.n=1;break}return e.a(2);case 1:return b(!0),e.p=2,n=null===(r=window.imagelyApp)||void 0===r?void 0:r.nonce,i={title:S.couponFor.trim(),id_code:S.couponCode.trim(),discount_type:"percentage"===S.discountType?"percent":"flat",discount_amount:parseFloat(String(S.discountValue).trim()),date_start:S.startDate||void 0,date_end:S.endDate||void 0,usage_limit:S.usageLimit?parseInt(String(S.usageLimit),10):void 0},e.n=3,ee()({path:"/imagely/v1/coupons",method:"POST",headers:{"X-WP-Nonce":n,"Content-Type":"application/json"},data:i});case 3:m.invalidateQueries({queryKey:["coupons"]}),u((0,f.__)("Coupon created successfully","nggallery")),o&&o(),a(),e.n=5;break;case 4:e.p=4,c=e.v,l=(0,f.__)("Failed to create coupon","nggallery"),c&&c.message&&(l=c.message),d(l);case 5:return e.p=5,b(!1),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(t){return e.apply(this,arguments)}}();return s().createElement(h.A,{isOpen:r,onClose:a,title:(0,f.__)("Create New Coupon","nggallery")},s().createElement("form",{onSubmit:T,className:"space-y-4"},s().createElement("div",null,s().createElement(se.A,{type:"text",id:"couponFor",name:"couponFor",value:S.couponFor,onChange:A,label:(0,f.__)("Coupon For","nggallery"),help:(0,f.__)("This is a label for your reference only and is not shown to customers.","nggallery"),tooltipPlacement:"right",placeholder:(0,f.__)("For e.g. Black Friday","nggallery")}),_.couponFor&&s().createElement("p",{className:"mt-1 text-sm text-red-600"},_.couponFor)),s().createElement("div",null,s().createElement(se.A,{type:"text",id:"couponCode",name:"couponCode",value:S.couponCode,onChange:A,label:(0,f.__)("Coupon Code","nggallery"),help:(0,f.__)("This field must be unique from every other coupon code","nggallery"),tooltipPlacement:"right",placeholder:(0,f.__)("Enter unique coupon code","nggallery")}),_.couponCode&&s().createElement("p",{className:"mt-1 text-sm text-red-600"},_.couponCode)),s().createElement("div",null,s().createElement(ce.A,{id:"discountType",name:"discountType",value:S.discountType,onChange:A,label:(0,f.__)("Discount Type","nggallery"),tooltipPlacement:"right"},s().createElement("option",{value:"percentage"},(0,f.__)("Percentage","nggallery")),s().createElement("option",{value:"flat"},(0,f.__)("Flat Amount","nggallery")))),s().createElement("div",null,s().createElement(se.A,{type:"number",id:"discountValue",name:"discountValue",value:S.discountValue,onChange:A,label:(0,f.__)("Discount Value","nggallery"),placeholder:(0,f.__)("Enter Discount Amount","nggallery"),prefix:"percentage"===S.discountType?"%":j}),_.discountValue&&s().createElement("p",{className:"mt-1 text-sm text-red-600"},_.discountValue)),s().createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3"},s().createElement("div",null,s().createElement(se.A,{type:"date",id:"startDate",name:"startDate",value:S.startDate,onChange:A,label:(0,f.__)("Start Date","nggallery"),placeholder:(0,f.__)("Select Start Date","nggallery"),maxString:S.endDate||void 0})),s().createElement("div",null,s().createElement(se.A,{type:"date",id:"endDate",name:"endDate",value:S.endDate,onChange:A,label:(0,f.__)("End Date","nggallery"),placeholder:(0,f.__)("Select End Date","nggallery"),minString:S.startDate||void 0}))),s().createElement("div",null,s().createElement(se.A,{type:"number",id:"usageLimit",name:"usageLimit",value:S.usageLimit,onChange:A,label:(0,f.__)("Usage Limit","nggallery"),help:(0,f.__)("How many times this coupon may be used by users before it becomes invalid. An empty or 0 setting allows infinite uses.","nggallery"),tooltipPlacement:"right",placeholder:(0,f.__)("Enter Usage Limit","nggallery")})),s().createElement("div",{className:"flex justify-end space-x-3 pt-4"},s().createElement("button",{type:"button",onClick:a,disabled:v,className:"px-4 py-2 text-sm font-medium text-green-700 bg-white border border-green-500 rounded-md shadow-sm hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"},(0,f.__)("Cancel","nggallery")),s().createElement("button",{type:"submit",disabled:v,className:"px-4 py-2 text-sm font-semibold text-white bg-green-500 border border-transparent rounded-md shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"},v?s().createElement("span",{className:"flex items-center"},s().createElement(e.Nl,{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white"}),(0,f.__)("Creating...","nggallery")):(0,f.__)("Create Code","nggallery")))))},couponDetails:function(t){var r,n,a,o,i,m,p,g,y,v,b,w,x,E,_=t.isOpen,C=t.onClose,N=t.data,O=t.onEdit,S=(0,d.useDispatch)(u.E),k=ie(null==N?void 0:N.id),j=k.data,A=k.isLoading,P=k.isFetching,T=k.refetch;(0,c.useEffect)(function(){_&&null!=N&&N.id&&T()},[_,null==N?void 0:N.id,T]);var D,I,L=j?{couponFor:null!==(r=null==j?void 0:j.coupon_for)&&void 0!==r?r:"",couponCode:null!==(n=null==j?void 0:j.coupon_code)&&void 0!==n?n:"",discountType:null!==(a=null==j?void 0:j.discount_type)&&void 0!==a?a:"",discountValue:String(null!==(o=null!==(i=null==j?void 0:j.discount_value)&&void 0!==i?i:null==j?void 0:j.discount_amount)&&void 0!==o?o:""),startDate:null!==(m=null!==(p=null==j?void 0:j.start_date)&&void 0!==p?p:null==j?void 0:j.date_start)&&void 0!==m?m:"",endDate:null!==(g=null!==(y=null==j?void 0:j.end_date)&&void 0!==y?y:null==j?void 0:j.date_end)&&void 0!==g?g:"",usageLimit:String(null!==(v=null==j?void 0:j.usage_limit)&&void 0!==v?v:"")}:{couponFor:N.couponFor,couponCode:N.couponCode,discountType:N.discountType,discountValue:null!==(b=N.discountValue)&&void 0!==b?b:"",startDate:null!==(w=N.startDate)&&void 0!==w?w:"",endDate:null!==(x=N.endDate)&&void 0!==x?x:"",usageLimit:null!==(E=N.usageLimit)&&void 0!==E?E:""},R=function(e){return(null==e?"":String(e).trim())||"-"},F=function(e){if(!e)return"-";var t=new Date(e),r=String(t.getDate()).padStart(2,"0"),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],a=t.getFullYear();return"".concat(r," ").concat(n," ").concat(a)},G="percentage"===L.discountType?(0,f.__)("Percentage","nggallery"):"flat"===L.discountType?(0,f.__)("Flat","nggallery"):"-",M=(0,le.f8)(),q=(I=(null!==(D=L.discountValue)&&void 0!==D?D:"").trim())?"percentage"===L.discountType?"".concat(I,"%"):"".concat(M," ").concat(I):"-",H=function(e){var t=(null!==(e=L.usageLimit)&&void 0!==e?e:"").trim();if(!t)return"-";var r=Number(t);return Number.isNaN(r)||0===r?"-":String(r)}();return s().createElement(h.A,{isOpen:_,onClose:C,title:(0,f.__)("Coupon Details","nggallery")},s().createElement("div",{className:"absolute top-4 right-12"},s().createElement("button",{type:"button",onClick:function(){O?O():S.setActiveModal("couponEdit",{data:{id:null==N?void 0:N.id,couponFor:L.couponFor,couponCode:L.couponCode,discountType:L.discountType,discountValue:L.discountValue,startDate:L.startDate,endDate:L.endDate,usageLimit:L.usageLimit}})},className:"inline-flex items-center gap-1.5 px-2.5 py-1.5 text-xs border border-gray-300 rounded-md bg-white text-gray-700 hover:bg-gray-50"},s().createElement(e.qU,{className:"w-4 h-4"}),(0,f.__)("Edit","nggallery"))),A||P?s().createElement("div",{className:"py-10"},s().createElement(l.A,{size:"md",color:"gray",text:(0,f.__)("Loading","nggallery")})):s().createElement("div",{className:"space-y-6"},s().createElement("div",{className:"text-center"},s().createElement("div",{className:"text-[11px] tracking-wide text-gray-500"},(0,f.__)("Coupon For","nggallery")),s().createElement("div",{className:"text-lg font-semibold text-gray-900 mt-1"},R(L.couponFor))),s().createElement("div",{className:""},s().createElement("div",{className:"bg-gray-100 border border-gray-200 rounded-md px-5 py-3 text-center w-full"},s().createElement("div",{className:"text-[11px] tracking-wide text-gray-600"},(0,f.__)("Coupon Code","nggallery")),s().createElement("div",{className:"mt-1 text-lg font-bold tracking-wider text-gray-900"},R(L.couponCode)))),s().createElement("div",{className:"grid grid-cols-2 gap-8"},s().createElement("div",{className:"text-center"},s().createElement("div",{className:"text-[11px] tracking-wide text-gray-500"},(0,f.__)("Discount Type","nggallery")),s().createElement("div",{className:"pt-3 text-base font-medium text-gray-900"},G)),s().createElement("div",{className:"text-center"},s().createElement("div",{className:"text-[11px] tracking-wide text-gray-500"},(0,f.__)("Discount Value","nggallery")),s().createElement("div",{className:"pt-3 text-base font-semibold text-gray-900"},q))),s().createElement("div",{className:"border-t border-dashed border-gray-300"}),s().createElement("div",{className:"grid grid-cols-2 gap-8"},s().createElement("div",{className:"text-center"},s().createElement("div",{className:"text-[11px] tracking-wide text-gray-500"},(0,f.__)("Start Date","nggallery")),s().createElement("div",{className:"pt-2 text-base font-medium text-gray-900"},F(L.startDate))),s().createElement("div",{className:"text-center"},s().createElement("div",{className:"text-[11px] tracking-wide text-gray-500"},(0,f.__)("End Date","nggallery")),s().createElement("div",{className:"pt-2 text-base font-medium text-gray-900"},F(L.endDate)))),s().createElement("div",{className:"text-center"},s().createElement("div",{className:"text-[11px] tracking-wide text-gray-500"},(0,f.__)("Usage Limit","nggallery")),s().createElement("div",{className:"pt-1 text-lg text-gray-900 font-semibold"},H))))},couponEdit:function(t){var r=t.isOpen,a=t.onClose,o=t.data,l=t.onSuccess,u=(0,w.E)(),d=u.showSuccess,m=u.showError,p=function(){var e,t=(0,D.jE)();return(0,$.n)({mutationFn:(e=(0,n.A)(te().m(function e(t){var r,n,a,o,i,l,c,s,u;return te().w(function(e){for(;;)switch(e.n){case 0:return n=t.id,a=t.data,o=null===(r=window.imagelyApp)||void 0===r?void 0:r.nonce,i={},"coupon_for"in a&&(i.title=""===a.coupon_for?null:a.coupon_for),"coupon_code"in a&&(i.id_code=""===a.coupon_code?null:a.coupon_code),"discount_type"in a&&(l=a.discount_type,i.discount_type=null==l?null:"percentage"===l?"percent":"flat"===l?"flat":null),"discount_value"in a&&(c=null===a.discount_value||void 0===a.discount_value||""===String(a.discount_value).trim()?null:parseFloat(String(a.discount_value)),i.discount_amount=c),"start_date"in a&&(i.date_start=a.start_date&&""!==String(a.start_date).trim()?a.start_date:null),"end_date"in a&&(i.date_end=a.end_date&&""!==String(a.end_date).trim()?a.end_date:null),"usage_limit"in a&&(s=null===a.usage_limit||void 0===a.usage_limit||""===String(a.usage_limit).trim()?null:parseInt(String(a.usage_limit),10),i.usage_limit=s),e.n=1,ee()({path:"/imagely/v1/coupons/".concat(n),method:"PUT",headers:{"X-WP-Nonce":o},data:i});case 1:return u=e.v,e.a(2,ne(u))}},e)})),function(t){return e.apply(this,arguments)}),onSuccess:function(e){t.invalidateQueries({queryKey:["coupons"]}),t.invalidateQueries({queryKey:oe(e.id)})}})}(),g=ie(null==o?void 0:o.id).data,v=(0,c.useState)(!1),b=(0,i.A)(v,2),x=b[0],E=b[1],_=(0,c.useState)({}),C=(0,i.A)(_,2),N=C[0],O=C[1],S=(0,le.f8)(),k=(0,c.useState)({couponFor:"",couponCode:"",discountType:"percentage",discountValue:"",startDate:"",endDate:"",usageLimit:""}),j=(0,i.A)(k,2),A=j[0],P=j[1];(0,c.useEffect)(function(){var e;r&&(P(g?{couponFor:g.coupon_for||"",couponCode:g.coupon_code||"",discountType:g.discount_type||"percentage",discountValue:String((null!==(e=g.discount_value)&&void 0!==e?e:g.discount_amount)||"").replace(/[^0-9.]/g,""),startDate:g.start_date||g.date_start||"",endDate:g.end_date||g.date_end||"",usageLimit:g.usage_limit?String(g.usage_limit).replace(/[^0-9]/g,""):""}:{couponFor:(null==o?void 0:o.couponFor)||"",couponCode:(null==o?void 0:o.couponCode)||"",discountType:(null==o?void 0:o.discountType)||"percentage",discountValue:((null==o?void 0:o.discountValue)||"").replace(/[^0-9.]/g,""),startDate:(null==o?void 0:o.startDate)||"",endDate:(null==o?void 0:o.endDate)||"",usageLimit:((null==o?void 0:o.usageLimit)||"").replace(/[^0-9]/g,"")}),O({}),E(!1))},[r,o,g]);var T=function(e){var t=e.target,r=t.name,n=t.value;P(function(e){var t=fe(fe({},e),{},(0,y.A)({},r,n));if("startDate"!==r||n||(t.endDate=""),"startDate"===r&&e.endDate&&n&&e.endDate&&n>e.endDate&&(t.endDate=n),"endDate"===r&&e.startDate&&n&&e.startDate&&n<e.startDate&&(t.startDate=n),"discountValue"===r){var a=String(n).replace(/[^0-9.]/g,"");if("percentage"===e.discountType){var o=parseFloat(a||"0");t.discountValue=String(Math.min(100,isNaN(o)?0:o))}else t.discountValue=a}if("discountType"===r&&"percentage"===n){var i=parseFloat(String(e.discountValue||"0"));isNaN(i)||(t.discountValue=String(Math.min(100,i)))}return t}),N[r]&&O(function(e){return fe(fe({},e),{},(0,y.A)({},r,""))})},I=function(){var e={};return A.couponFor.trim()||(e.couponFor=(0,f.__)("This field is required","nggallery")),A.couponCode.trim()||(e.couponCode=(0,f.__)("This field is required","nggallery")),A.discountValue.trim()||(e.discountValue=(0,f.__)("This field is required","nggallery")),A.startDate&&A.endDate&&A.endDate<A.startDate&&(e.endDate=(0,f.__)("End date cannot be before start date","nggallery")),O(e),0===Object.keys(e).length},L=function(){var e=(0,n.A)(ue().m(function e(t){var r,n;return ue().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.preventDefault(),I()){e.n=1;break}return e.a(2);case 1:return E(!0),e.p=2,r=(null==o?void 0:o.id)||(null==o?void 0:o.couponId),e.n=3,p.mutateAsync({id:r,data:{coupon_for:A.couponFor,coupon_code:A.couponCode,discount_type:A.discountType,discount_value:A.discountValue,start_date:A.startDate||void 0,end_date:A.endDate||void 0,usage_limit:A.usageLimit||void 0}});case 3:d((0,f.__)("Coupon updated successfully","nggallery")),l&&l(),a(),e.n=5;break;case 4:e.p=4,n=e.v,m((null==n?void 0:n.message)||(0,f.__)("Failed to update coupon","nggallery"));case 5:return e.p=5,E(!1),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(t){return e.apply(this,arguments)}}();return s().createElement(h.A,{isOpen:r,onClose:a,title:(0,f.__)("Edit Coupon","nggallery")},s().createElement("form",{onSubmit:L,className:"space-y-4"},s().createElement("div",null,s().createElement(se.A,{type:"text",id:"couponFor",name:"couponFor",value:A.couponFor,onChange:T,label:(0,f.__)("Coupon For","nggallery"),help:(0,f.__)("This is a label for your reference only and is not shown to customers.","nggallery"),tooltipPlacement:"right",placeholder:(0,f.__)("For e.g. Black Friday","nggallery")}),N.couponFor&&s().createElement("p",{className:"mt-1 text-sm text-red-600"},N.couponFor)),s().createElement("div",null,s().createElement(se.A,{type:"text",id:"couponCode",name:"couponCode",value:A.couponCode,onChange:T,label:(0,f.__)("Coupon Code","nggallery"),help:(0,f.__)("This field must be unique from every other coupon code","nggallery"),tooltipPlacement:"right",placeholder:(0,f.__)("Enter unique coupon code","nggallery")}),N.couponCode&&s().createElement("p",{className:"mt-1 text-sm text-red-600"},N.couponCode)),s().createElement("div",null,s().createElement(ce.A,{id:"discountType",name:"discountType",value:A.discountType,onChange:T,label:(0,f.__)("Discount Type","nggallery"),tooltipPlacement:"right"},s().createElement("option",{value:"percentage"},(0,f.__)("Percentage","nggallery")),s().createElement("option",{value:"flat"},(0,f.__)("Flat Amount","nggallery")))),s().createElement("div",null,s().createElement(se.A,{type:"number",id:"discountValue",name:"discountValue",value:A.discountValue,onChange:T,label:(0,f.__)("Discount Value","nggallery"),placeholder:(0,f.__)("Enter Discount Amount","nggallery"),prefix:"percentage"===A.discountType?"%":S}),N.discountValue&&s().createElement("p",{className:"mt-1 text-sm text-red-600"},N.discountValue)),s().createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3"},s().createElement("div",null,s().createElement(se.A,{type:"date",id:"startDate",name:"startDate",value:A.startDate,onChange:T,label:(0,f.__)("Start Date","nggallery"),placeholder:(0,f.__)("Select Start Date","nggallery"),maxString:A.endDate||void 0})),s().createElement("div",null,s().createElement(se.A,{type:"date",id:"endDate",name:"endDate",value:A.endDate,onChange:T,label:(0,f.__)("End Date","nggallery"),placeholder:(0,f.__)("Select End Date","nggallery"),minString:A.startDate||void 0}))),s().createElement("div",null,s().createElement(se.A,{type:"number",id:"usageLimit",name:"usageLimit",value:A.usageLimit,onChange:T,label:(0,f.__)("Usage Limit","nggallery"),help:(0,f.__)("How many times this coupon may be used by users before it becomes invalid. An empty or 0 setting allows infinite uses.","nggallery"),tooltipPlacement:"right",placeholder:(0,f.__)("Enter Usage Limit","nggallery")})),s().createElement("div",{className:"flex justify-end space-x-3 pt-4"},s().createElement("button",{type:"button",onClick:a,disabled:x,className:"px-4 py-2 text-sm font-medium text-green-700 bg-white border border-green-500 rounded-md shadow-sm hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"},(0,f.__)("Cancel","nggallery")),s().createElement("button",{type:"submit",disabled:x,className:"px-4 py-2 text-sm font-semibold text-white bg-green-500 border border-transparent rounded-md shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"},x?s().createElement("span",{className:"flex items-center"},s().createElement(e.Nl,{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white"}),(0,f.__)("Saving...","nggallery")):(0,f.__)("SAVE","nggallery")))))},pricelistForm:function(t){var r=t.isOpen,a=t.onClose,o=t.onSuccess,l=(0,w.E)(),u=l.showSuccess,d=l.showError,m=(0,q.hE)(),p=(0,c.useState)({}),g=(0,i.A)(p,2),v=g[0],b=g[1],x=(0,c.useState)({title:""}),E=(0,i.A)(x,2),_=E[0],C=E[1];(0,c.useEffect)(function(){r&&(C({title:""}),b({}))},[r]);var N=function(){var e={};return _.title.trim()||(e.title=(0,f.__)("Pricelist name is required","nggallery")),b(e),0===Object.keys(e).length},O=function(){var e=(0,n.A)(jt().m(function e(t){var r,n;return jt().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.preventDefault(),N()){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,m.mutateAsync({title:_.title.trim()});case 2:u((0,f.__)("Pricelist created successfully","nggallery")),o&&o(),a(),e.n=4;break;case 3:e.p=3,n=e.v,console.error("Failed to create pricelist:",n),r=(0,f.__)("Failed to create pricelist","nggallery"),n&&n.message&&(r=n.message),d(r);case 4:return e.a(2)}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}(),S=m.isPending;return s().createElement(h.A,{isOpen:r,onClose:a,title:(0,f.__)("Add New Pricelist","nggallery")},s().createElement("form",{onSubmit:O,className:"space-y-4"},s().createElement("div",null,s().createElement(se.A,{type:"text",id:"title",name:"title",value:_.title,onChange:function(e){var t=e.target,r=t.name,n=t.value;C(function(e){return Tt(Tt({},e),{},(0,y.A)({},r,n))}),v[r]&&b(function(e){return Tt(Tt({},e),{},(0,y.A)({},r,""))})},label:(0,f.__)("New Pricelist Name","nggallery"),placeholder:(0,f.__)("For e.g. Wedding Album","nggallery")}),v.title&&s().createElement("p",{className:"mt-1 text-sm text-red-600"},v.title)),s().createElement("div",{className:"flex justify-end space-x-3 pt-4"},s().createElement("button",{type:"button",onClick:a,disabled:S,className:"px-4 py-2 text-sm font-medium text-green-700 bg-white border border-green-500 rounded-md shadow-sm hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"},(0,f.__)("Cancel","nggallery")),s().createElement("button",{type:"submit",disabled:S,className:"px-4 py-2 text-sm font-semibold text-white bg-green-500 border border-transparent rounded-md shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"},S?s().createElement("span",{className:"flex items-center"},s().createElement(e.Nl,{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white"}),(0,f.__)("Creating...","nggallery")):(0,f.__)("Create Pricelist","nggallery")))))},deletePricelists:function(t){var r=t.isOpen,a=t.onClose,o=t.pricelistIds,i=t.items,l=t.onConfirm,u=void 0===l?function(){}:l,d=t.title,m=(0,q.O8)(),p=(0,w.E)(),g=p.showSuccess,y=p.showError,v=p.clearNotifications,b=(0,c.useMemo)(function(){return i&&i.length?i:o.map(function(e){return{id:e,title:(0,f.__)("Pricelist","nggallery")}})},[o,i]),x=(0,c.useMemo)(function(){return b.length>0&&b.length<=5?s().createElement("ul",{className:"list-none text-sm text-gray-700 px-4 text-center"},b.map(function(e){return s().createElement("li",{key:e.id},e.title)})):null},[b]),E=function(){var e=(0,n.A)(ke().m(function e(){var t;return ke().w(function(e){for(;;)switch(e.p=e.n){case 0:if(0!==o.length){e.n=1;break}return e.a(2);case 1:return m.reset&&m.reset(),e.p=2,e.n=3,Promise.all(o.map(function(e){return m.mutateAsync(e)}));case 3:t=1===o.length?(0,f.__)("pricelist","nggallery"):(0,f.__)("pricelists","nggallery"),v(),g((0,f.__)("Successfully deleted ".concat(o.length," ").concat(t),"nggallery")),e.n=5;break;case 4:e.p=4,e.v,v(),y((0,f.__)("Failed to delete pricelist(s)","nggallery"));case 5:u(),a();case 6:return e.a(2)}},e,null,[[2,4]])}));return function(){return e.apply(this,arguments)}}(),_=s().createElement(e.b4,null);return s().createElement(h.A,{isOpen:r,onClose:a},s().createElement("div",{className:"space-y-4"},s().createElement("div",{className:"flex items-center gap-2 justify-center"},s().createElement("div",null,_)),d&&s().createElement("h2",{className:"text-xl font-bold text-center text-gray-900 mt-2"},d),s().createElement("p",{className:"text-sm text-gray-500 text-center"},1===o.length?(0,f.__)("Are you sure you want to delete this pricelist?","nggallery"):(0,f.__)("Are you sure you want to delete the selected pricelists?","nggallery")),x,s().createElement("p",{className:"text-sm text-red-500 text-center"},(0,f.__)("This action cannot be undone.","nggallery")),s().createElement("div",{className:"flex justify-center space-x-3 !mb-4 ".concat(m.isPending?"cursor-wait":"")},s().createElement("button",{type:"button",onClick:a,disabled:m.isPending,className:"px-8 py-2 font-medium text-white bg-green-500 rounded-lg shadow hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},(0,f.__)("Cancel","nggallery")),s().createElement("button",{type:"button",onClick:E,disabled:m.isPending,className:"px-8 py-2 font-bold text-white bg-red-600 border border-transparent rounded-lg shadow hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},m.isPending?s().createElement("span",{className:"flex items-center"},s().createElement(e.Nl,{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white"}),(0,f.__)("Deleting...","nggallery")):(0,f.__)("Delete","nggallery")))))},deletePricelistItem:function(t){var r=t.isOpen,n=t.onClose,a=t.itemTitle,o=t.onConfirm,i=t.isBulkDelete,l=void 0!==i&&i,c=t.bulkCount,u=void 0===c?1:c,d=s().createElement(e.b4,null);return s().createElement(h.A,{isOpen:r,onClose:n},s().createElement("div",{className:"space-y-4"},s().createElement("div",{className:"flex items-center gap-2 justify-center"},s().createElement("div",null,d)),s().createElement("h2",{className:"text-xl font-bold text-center text-gray-900 mt-2"},l?(0,f.__)("Delete ".concat(u," Products"),"nggallery"):(0,f.__)("Delete Product","nggallery")),s().createElement("p",{className:"text-sm text-gray-500 text-center"},l?(0,f.__)("Are you sure you want to delete these ".concat(u," products?"),"nggallery"):(0,f.__)("Are you sure you want to delete this product?","nggallery")),s().createElement("div",{className:"text-sm text-gray-700 px-4 text-center"},s().createElement("strong",null,a)),s().createElement("p",{className:"text-sm text-red-500 text-center"},(0,f.__)("This action cannot be undone.","nggallery")),s().createElement("div",{className:"flex justify-center space-x-3 !mb-4"},s().createElement("button",{type:"button",onClick:n,className:"px-8 py-2 font-medium text-white bg-green-500 rounded-lg shadow hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors"},(0,f.__)("Cancel","nggallery")),s().createElement("button",{type:"button",onClick:function(){o(),n()},className:"px-8 py-2 font-bold text-white bg-red-600 border border-transparent rounded-lg shadow hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors"},l?(0,f.__)("Delete (".concat(u,")"),"nggallery"):(0,f.__)("Delete","nggallery")))))},addProduct:function(t){var r=t.isOpen,n=t.onClose,a=t.pricelistId,o=t.existingItems,i=t.onSuccess,l=(0,d.useDispatch)(u.E),c=[{id:"whcc",title:(0,f.__)("WHCC Prints","nggallery"),description:(0,f.__)("Automatically fulfill orders via Printlab","nggallery"),icon:s().createElement(e.F4,{className:"w-12 h-12"})},{id:"manual",title:(0,f.__)("Manual Sizes & Orders","nggallery"),description:(0,f.__)("Manually fulfill customer orders","nggallery"),icon:s().createElement(e.qP,{className:"w-12 h-12"})},{id:"digital",title:(0,f.__)("Digital Downloads","nggallery"),description:(0,f.__)("Include print lab options in your Pricelist","nggallery"),icon:s().createElement(e.$$,{className:"w-12 h-12"})}];return s().createElement(h.A,{isOpen:r,onClose:n,title:(0,f.__)("Add Product","nggallery")},s().createElement("p",{className:"text-gray-600 text-sm mb-6"},(0,f.__)("Select an option from the following to add pricelist","nggallery")),s().createElement("div",{className:"space-y-4 mb-6"},c.map(function(e){return s().createElement("div",{key:e.id,className:"flex items-center justify-between p-4 rounded-lg"},s().createElement("div",{className:"flex items-center space-x-4"},s().createElement("div",{className:"flex-shrink-0"},s().createElement("div",{className:"w-12 h-12 flex items-center justify-center"},e.icon)),s().createElement("div",null,s().createElement("h4",{className:"text-sm font-medium text-gray-900"},e.title),s().createElement("p",{className:"text-sm text-gray-500 mt-1"},e.description))),s().createElement("div",{className:"flex-shrink-0"},s().createElement("button",{type:"button",onClick:function(){return function(e){n();var t={pricelistId:a,existingItems:o,onBack:function(){l.setActiveModal("addProduct",{pricelistId:a,existingItems:o,onSuccess:i})},onSuccess:function(e){null==i||i(e)}};switch(e.id){case"whcc":l.setActiveModal("whccPrints",t);break;case"manual":l.setActiveModal("manualSizesOrders",t);break;case"digital":l.setActiveModal("digitalDownloads",t)}}(e)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"},(0,f.__)("Add Now","nggallery"))))})))},whccPrints:function(t){var r,a=t.isOpen,u=t.onClose,d=t.pricelistId,m=t.existingItems,p=void 0===m?{}:m,g=t.onBack,h=t.onSuccess,v=(0,c.useState)(""),b=(0,i.A)(v,2),x=b[0],E=b[1],_=(0,c.useState)(!0),C=(0,i.A)(_,2),N=C[0],O=C[1],S=(0,c.useState)({}),k=(0,i.A)(S,2),j=k[0],A=k[1],P=(0,c.useState)(null),T=(0,i.A)(P,2),I=T[0],L=T[1],R=(0,c.useState)(!1),F=(0,i.A)(R,2),G=F[0],M=F[1],q=(0,Y.I)({queryKey:["whcc-catalog",r],queryFn:function(){return Wt(r)},staleTime:9e5,refetchOnWindowFocus:!1,retry:3}),H=q.data,Q=q.isLoading,z=q.error,K=function(){var e=(0,D.jE)();return(0,$.n)({mutationFn:Qt,onSuccess:function(t,r){if(r.length>0){var n=r[0].pricelist_id;e.invalidateQueries({queryKey:["pricelist-items",n]}),e.invalidateQueries({queryKey:["pricelist-items"]})}}})}(),W=(0,w.E)().showError,B=(0,le.f8)(),U=(0,c.useMemo)(function(){if(!H||"object"!==(0,nt.A)(H))return[];try{return Object.keys(H).filter(function(e){var t=H[e];return!e.toLowerCase().includes("digital")&&!t.label.toLowerCase().includes("digital")}).map(function(e){var t=H[e];return{id:e,label:(null==t?void 0:t.label)||e}})}catch(e){return console.error("Error creating tabs:",e),[]}},[H])||[];(0,c.useEffect)(function(){!(U&&U.length>0)||x&&null!=H&&H[x]||E(U[0].id)},[U,H]),(0,c.useEffect)(function(){a&&p&&A({})},[a,p]);var V=(0,c.useMemo)(function(){return H&&H[x]&&H[x].products||[]},[H,x]);(0,c.useEffect)(function(){if(x&&V.length>0&&!j[x]){var e=function(e){var t;if(!p||null==H||!H[e])return[];var r=null===(t=H[e])||void 0===t?void 0:t.ngg_id;return r?(p[r]||[]).filter(function(e){var t;return"ngg_whcc_pricelist"===e.source&&(null===(t=e.source_data)||void 0===t?void 0:t.product_id)}).map(function(e){return String(e.source_data.product_id)}):[]}(x);if(e.length>0){var t=e.filter(function(e){return V.some(function(t){return t.id===e})});if(t.length>0)return void A(function(e){return Xt(Xt({},e),{},(0,y.A)({},x,t))})}if(["prints","mounted_prints","canvas"].some(function(e){var t;return x.toLowerCase().includes(e)||(null==H||null===(t=H[x])||void 0===t||null===(t=t.label)||void 0===t?void 0:t.toLowerCase().includes(e))}))if(Object.keys(H||{}).every(function(e){var t,r=null==H||null===(t=H[e])||void 0===t?void 0:t.ngg_id;return!r||null==p||!p[r]||0===(p[r]||[]).length})){var r,n=(null===(r=V.filter(function(e){return e.is_default}))||void 0===r?void 0:r.map(function(e){return e.id}))||[];A(function(e){return Xt(Xt({},e),{},(0,y.A)({},x,n.length>0?n:[]))})}else A(function(e){return Xt(Xt({},e),{},(0,y.A)({},x,[]))});else A(function(e){return Xt(Xt({},e),{},(0,y.A)({},x,[]))})}},[x,V,j,p,H]);var X=function(){return Object.entries(j).filter(function(e){var t=(0,i.A)(e,2);return t[0],t[1].length>0}).map(function(e){var t=(0,i.A)(e,2);return{tabId:t[0],productIds:t[1]}})},Z=function(){return Object.values(j).reduce(function(e,t){return e+t.length},0)},J=function(){return Object.keys(j).some(function(e){return e.toLowerCase().includes("canvas")&&j[e].length>0})},ee=function(){var e=(0,n.A)(Bt().m(function e(){return Bt().w(function(e){for(;;)switch(e.n){case 0:if(0!==Z()&&H){e.n=1;break}return e.a(2);case 1:if(!J()){e.n=2;break}return M(!0),e.a(2);case 2:return e.n=3,te();case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),te=function(){var e=(0,n.A)(Bt().m(function e(){var t,r,n;return Bt().w(function(e){for(;;)switch(e.p=e.n){case 0:if(0!==Z()&&H){e.n=1;break}return e.a(2);case 1:if(e.p=1,t=X(),r=t.flatMap(function(e){var t=e.tabId,r=e.productIds,n=null==H?void 0:H[t];return r.map(function(e){var r,a=null===(r=H[t])||void 0===r||null===(r=r.products)||void 0===r?void 0:r.find(function(t){return t.id===e});return a&&n?{pricelist_id:d,title:a.name,cost:a.estimated_raw||0,source:"ngg_whcc_pricelist",category:n.ngg_id,source_data:{product_id:a.id,lab_id:a.lab_id,catalog_id:a.catalog_id,category_id:a.category_id,options:a.options||{},lab_properties:a.lab_properties||{}},sortorder:0,resolution:""}:(console.warn(" Missing product or category for ".concat(e," in ").concat(t)),null)})}).filter(function(e){return null!==e}),0!==r.length){e.n=2;break}return W((0,f.__)("No valid products selected. Please try again.","nggallery")),e.a(2);case 2:h&&h(r),u(),e.n=4;break;case 3:e.p=3,n=e.v,W((0,f.__)("Failed to add products to pricelist","nggallery")),console.error("Error creating pricelist items:",n);case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),re=j[x]||[],ne=V.length>0&&re.length===V.length,ae=re.length>0,oe=function(e){L(function(t){return{key:e,direction:(null==t?void 0:t.key)===e&&"asc"===t.direction?"desc":"asc"}})},ie=(0,c.useMemo)(function(){if(!I)return V;var e=(0,o.A)(V);return e.sort(function(e,t){var r,n;switch(I.key){case"name":r=e.name.toLowerCase(),n=t.name.toLowerCase();break;case"cost":r=e.cost_raw,n=t.cost_raw;break;case"estimatedCost":r=e.estimated_raw,n=t.estimated_raw;break;default:return 0}return"asc"===I.direction?r<n?-1:r>n?1:0:r>n?-1:r<n?1:0}),e},[V,I]);return(0,c.useEffect)(function(){var e=function(){O(window.innerWidth>=1280)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),(0,c.useEffect)(function(){var e=function(e){"Escape"===e.key&&a&&u()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}},[a,u]),a?U?Q?s().createElement("div",{className:"fixed inset-0 z-50 overflow-y-auto",role:"dialog","aria-modal":"true"},s().createElement("div",{className:"fixed inset-0 bg-black bg-opacity-30 transition-opacity duration-300 ease-in-out",onClick:u}),s().createElement("div",{className:"relative flex min-h-screen items-center justify-center p-4"},s().createElement("div",{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-2xl transition-all duration-300 ease-in-out",style:{width:"1100px",maxWidth:"90vw",marginLeft:N?"160px":"0"}},s().createElement("div",{className:"p-8"},s().createElement(l.A,{size:"lg",color:"green",text:(0,f.__)("Loading WHCC Catalog...","nggallery")}))))):z?s().createElement("div",{className:"fixed inset-0 z-50 overflow-y-auto",role:"dialog","aria-modal":"true"},s().createElement("div",{className:"fixed inset-0 bg-black bg-opacity-30 transition-opacity duration-300 ease-in-out",onClick:u}),s().createElement("div",{className:"relative flex min-h-screen items-center justify-center p-4"},s().createElement("div",{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-2xl transition-all duration-300 ease-in-out",style:{width:"1100px",maxWidth:"90vw",marginLeft:N?"160px":"0"}},s().createElement("div",{className:"p-8 text-center"},s().createElement("div",{className:"text-red-500 mb-4"},s().createElement(Yt,{className:"w-12 h-12 mx-auto"})),s().createElement("h3",{className:"text-lg font-medium text-gray-900 mb-2"},(0,f.__)("Failed to Load WHCC Catalog","nggallery")),s().createElement("p",{className:"text-sm text-gray-500 mb-4"},(0,f.__)("Unable to fetch the WHCC product catalog. Please try again later.","nggallery")),s().createElement("button",{onClick:u,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},(0,f.__)("Close","nggallery")))))):U&&0!==U.length?s().createElement(s().Fragment,null,s().createElement("div",{className:"fixed inset-0 z-50 overflow-y-auto",role:"dialog","aria-modal":"true"},s().createElement("div",{className:"fixed inset-0 bg-black bg-opacity-30 transition-opacity duration-300 ease-in-out",onClick:u}),s().createElement("div",{className:"relative flex min-h-screen items-center justify-center p-4"},s().createElement("div",{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-2xl transition-all duration-300 ease-in-out",style:{width:"1100px",maxWidth:"90vw",marginLeft:N?"160px":"0"}},s().createElement("div",{className:"relative bg-white px-6 py-4 border-b border-gray-200"},s().createElement("div",{className:"flex items-center justify-between"},s().createElement("div",{className:"flex items-center space-x-3"},g&&s().createElement("button",{onClick:g,className:"p-1 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500","aria-label":(0,f.__)("Go back","nggallery")},s().createElement(e.Jp,{className:"w-5 h-5"})),s().createElement("h3",{className:"text-lg font-medium text-gray-900"},(0,f.__)("WHCC Prints","nggallery"))),s().createElement("button",{onClick:u,className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":(0,f.__)("Close modal","nggallery")},s().createElement(Yt,{className:"h-6 w-6"})))),s().createElement("div",{className:"p-6"},s().createElement("div",{className:"border-b border-gray-200 mb-6"},s().createElement("nav",{className:"-mb-px flex overflow-x-auto"},U&&U.map(function(e){return s().createElement("button",{key:e.id,onClick:function(){return E(e.id)},className:"py-3 px-3 border-b-2 font-medium text-sm text-center whitespace-nowrap flex-shrink-0 min-w-[120px] sm:flex-1 ".concat(x===e.id?"border-green-500 text-green-600 bg-green-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50")},e.label)}))),s().createElement("div",{className:"whcc-modal-scroll max-h-80 overflow-auto"},s().createElement("table",{className:"min-w-full table-fixed"},s().createElement("thead",{className:"bg-gray-50 sticky top-0"},s().createElement("tr",null,s().createElement("th",{className:"w-12 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},s().createElement("input",{type:"checkbox",className:"rounded border-gray-300",checked:ne,onChange:function(e){return t=e.target.checked,void A(function(e){return Xt(Xt({},e),{},(0,y.A)({},x,t?V.map(function(e){return e.id}):[]))});var t},ref:function(e){e&&(e.indeterminate=ae&&!ne)},"aria-label":(0,f.__)("Select all products","nggallery")})),s().createElement("th",{className:"w-[65%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:function(){return oe("name")}},s().createElement("div",{className:"flex items-center space-x-1"},s().createElement("span",null,(0,f.__)("Product","nggallery")),"name"===(null==I?void 0:I.key)&&s().createElement("span",null,"asc"===I.direction?"":""))),s().createElement("th",{className:"w-[17.5%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:function(){return oe("cost")}},s().createElement("div",{className:"flex items-center space-x-1"},s().createElement("span",null,(0,f.__)("Cost","nggallery")),"cost"===(null==I?void 0:I.key)&&s().createElement("span",null,"asc"===I.direction?"":""))),s().createElement("th",{className:"w-[17.5%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:function(){return oe("estimatedCost")}},s().createElement("div",{className:"flex items-center space-x-1"},s().createElement("span",null,(0,f.__)("Estimated Cost","nggallery")),"estimatedCost"===(null==I?void 0:I.key)&&s().createElement("span",null,"asc"===I.direction?"":""))))),s().createElement("tbody",{className:"bg-white"},Q?s().createElement("tr",null,s().createElement("td",{colSpan:4,className:"px-4 py-8"},s().createElement(l.A,{size:"md",color:"green",text:(0,f.__)("Loading products...","nggallery")}))):0===ie.length?s().createElement("tr",null,s().createElement("td",{colSpan:4,className:"px-4 py-8 text-center text-gray-500"},(0,f.__)("No products available for this category","nggallery"))):ie.map(function(e){return s().createElement("tr",{key:e.id,className:"border-b hover:bg-gray-50"},s().createElement("td",{className:"w-12 px-4 py-3"},s().createElement("input",{type:"checkbox",className:"rounded border-gray-300",checked:re.includes(e.id),onChange:function(){return t=e.id,void A(function(e){var r=e[x]||[],n=r.includes(t)?r.filter(function(e){return e!==t}):[].concat((0,o.A)(r),[t]);return Xt(Xt({},e),{},(0,y.A)({},x,n))});var t},"aria-label":"Select ".concat(e.name)})),s().createElement("td",{className:"w-[65%] px-4 py-3 text-sm text-gray-900"},e.name),s().createElement("td",{className:"w-[17.5%] px-4 py-3 text-sm text-gray-900"},Zt(e.cost,e.cost_raw,"$")),s().createElement("td",{className:"w-[17.5%] px-4 py-3 text-sm text-gray-900"},Zt(e.estimatedCost,e.estimated_raw,B)))}))))),s().createElement("div",{className:"px-6 py-4 flex justify-end space-x-3"},s().createElement("button",{onClick:u,disabled:K.isPending,className:"px-4 py-2 text-sm font-medium text-green-700 bg-white border border-green-600 rounded-md shadow-sm hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"},(0,f.__)("Cancel","nggallery")),s().createElement("button",{onClick:ee,disabled:0===Z()||K.isPending,className:"px-4 py-2 text-sm font-semibold text-white bg-green-600 border border-transparent rounded-md shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"},K.isPending?s().createElement("span",{className:"flex items-center"},s().createElement(l.A,{size:"sm",color:"gray",className:"mr-2 !border-white",centerInContainer:!1}),(0,f.__)("Adding...","nggallery")):(0,f.__)("Add Product","nggallery")))))),G&&s().createElement("div",{className:"fixed inset-0 z-[60] overflow-y-auto"},s().createElement("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},s().createElement("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),s().createElement("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},""),s().createElement("div",{className:"relative inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},s().createElement("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},s().createElement("div",{className:"sm:flex sm:items-start"},s().createElement("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100 sm:mx-0 sm:h-10 sm:w-10"},s().createElement("svg",{className:"h-6 w-6 text-yellow-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},s().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.502 0L4.732 8.5C3.962 10.333 4.924 12 6.464 12H20.5"}))),s().createElement("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},s().createElement("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"},(0,f.__)("Canvas Product Warning","nggallery")),s().createElement("div",{className:"mt-2"},s().createElement("p",{className:"text-sm text-gray-500"},(0,f.__)("You are adding a Canvas to a pricelist. Please be aware that when printing a Canvas, the edges of the photo (between 1 to 3 inches) will wrap around the side of the product.","nggallery")))))),s().createElement("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},s().createElement("button",{type:"button",onClick:(0,n.A)(Bt().m(function e(){return Bt().w(function(e){for(;;)switch(e.n){case 0:return M(!1),e.n=1,te();case 1:return e.a(2)}},e)})),className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm"},(0,f.__)("Continue","nggallery")),s().createElement("button",{type:"button",onClick:function(){return M(!1)},className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},(0,f.__)("Cancel","nggallery"))))))):s().createElement("div",{className:"fixed inset-0 z-50 overflow-y-auto",role:"dialog","aria-modal":"true"},s().createElement("div",{className:"fixed inset-0 bg-black bg-opacity-30 transition-opacity duration-300 ease-in-out",onClick:u}),s().createElement("div",{className:"relative flex min-h-screen items-center justify-center p-4"},s().createElement("div",{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-2xl transition-all duration-300 ease-in-out p-8"},s().createElement("div",{className:"text-center"},s().createElement("h3",{className:"text-lg font-medium text-gray-900 mb-2"},(0,f.__)("No WHCC Products Available","nggallery")),s().createElement("p",{className:"text-sm text-gray-500 mb-4"},(0,f.__)("No WHCC product categories are currently available.","nggallery")),s().createElement("button",{onClick:u,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},(0,f.__)("Close","nggallery")))))):(console.error("WHCCPrintsModal: tabs is undefined, returning early"),null):null},manualSizesOrders:function(t){var r=t.isOpen,a=t.onClose,o=t.pricelistId,l=t.onBack,u=t.onSuccess,d=(0,c.useState)({productName:"",price:"",category:"prints"}),m=(0,i.A)(d,2),p=m[0],g=m[1],v=(0,c.useState)(!1),b=(0,i.A)(v,2),x=b[0],E=b[1],_=(0,c.useState)({productName:"",price:""}),C=(0,i.A)(_,2),N=C[0],O=C[1],S=(0,w.E)().showError,k=(0,le.f8)(),j=function(e){return{prints:"ngg_category_prints",canvas:"ngg_category_canvas",mounted_prints:"ngg_category_mounted_prints",metal_prints:"metal_prints",acrylic_prints:"acrylic_prints",wood_prints:"wood_prints",bamboo_panels:"bamboo_panels"}[e]||e},A=[{value:"prints",label:(0,f.__)("Prints","nggallery")},{value:"canvas",label:(0,f.__)("Canvas","nggallery")},{value:"mounted_prints",label:(0,f.__)("Mounted Prints","nggallery")},{value:"metal_prints",label:(0,f.__)("Metal Prints","nggallery")},{value:"acrylic_prints",label:(0,f.__)("Acrylic Prints","nggallery")},{value:"wood_prints",label:(0,f.__)("Wood Prints","nggallery")},{value:"bamboo_panels",label:(0,f.__)("Bamboo Panels","nggallery")}],P=function(e,t){switch(e){case"productName":return t.trim()?"":(0,f.__)("Product name is required","nggallery");case"price":return t?parseFloat(t)<0?(0,f.__)("Please enter a valid price","nggallery"):"":(0,f.__)("Price is required","nggallery");default:return""}},T=function(e,t){g(function(r){return kt(kt({},r),{},(0,y.A)({},e,t))}),N[e]&&O(function(t){return kt(kt({},t),{},(0,y.A)({},e,""))})},D=function(){var e=(0,n.A)(Nt().m(function e(){var t,r;return Nt().w(function(e){for(;;)switch(e.n){case 0:if(t={productName:P("productName",p.productName),price:P("price",p.price)},O(t),!Object.values(t).some(function(e){return e})){e.n=1;break}return e.a(2);case 1:E(!0);try{r={id:-1e6*Math.random(),pricelist_id:o,title:p.productName,cost:0,price:parseFloat(p.price),source:"ngg_manual_pricelist",category:j(p.category),sortorder:0,source_data:{manual_entry:!0,created_at:(new Date).toISOString(),catalog_id:null,product_id:null}},u&&u([r]),a()}catch(e){S((0,f.__)("Failed to add product to pricelist","nggallery")),console.error("Error creating manual pricelist item:",e)}finally{E(!1)}case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return s().createElement("div",{className:"relative"},s().createElement(h.A,{isOpen:r,onClose:function(){}},s().createElement("div",{className:"absolute top-0 left-0 right-0 z-10 bg-white border-b"},s().createElement("div",{className:"flex items-center justify-between p-4"},s().createElement("div",{className:"flex items-center gap-3"},s().createElement("button",{onClick:function(){null==l||l()},className:"flex items-center text-gray-600 hover:text-gray-800"},s().createElement(e.Jp,{className:"w-4 h-4"})),s().createElement("h2",{className:"text-lg font-medium text-gray-900"},(0,f.__)("Manual Sizes & Orders","nggallery"))),s().createElement("button",{onClick:a,className:"text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2","aria-label":"Close modal"},s().createElement("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))))),s().createElement("div",{className:"p-4"},s().createElement("div",{className:"space-y-6"},s().createElement("div",null,s().createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},(0,f.__)("New Product Name","nggallery")),s().createElement("input",{type:"text",value:p.productName,onChange:function(e){return T("productName",e.target.value)},placeholder:(0,f.__)('8x10" Canvas or 4x6" Glossy',"nggallery"),className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(N.productName?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300")}),N.productName&&s().createElement("p",{className:"mt-1 text-sm text-red-600"},N.productName)),s().createElement("div",null,s().createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},(0,f.__)("Price","nggallery")),s().createElement("div",{className:"relative"},s().createElement("span",{className:"absolute ".concat((0,le.Di)(k)," top-1/2 transform -translate-y-1/2 text-gray-500 text-sm")},k),s().createElement("input",{type:"number",min:"0",step:"1",value:p.price,onChange:function(e){return T("price",e.target.value)},onBlur:function(){if(p.price){var e=parseFloat(p.price);isNaN(e)||g(function(t){return kt(kt({},t),{},{price:e.toFixed(2)})})}},placeholder:(0,f.__)("0.00","nggallery"),className:"w-full ".concat((0,le.LX)(k).left," ").concat((0,le.LX)(k).right," py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ").concat(N.price?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300")})),N.price&&s().createElement("p",{className:"mt-1 text-sm text-red-600"},N.price)),s().createElement("div",{className:"w-full"},s().createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},(0,f.__)("Category","nggallery")),s().createElement("div",{className:"w-full"},s().createElement("select",{value:p.category,onChange:function(e){return T("category",e.target.value)},className:"w-full block px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",style:{width:"100%",minWidth:"100%",maxWidth:"100%"}},A.map(function(e){return s().createElement("option",{key:e.value,value:e.value},e.label)})))),s().createElement("div",{className:"flex items-center justify-end gap-3 mt-8"},s().createElement("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"},(0,f.__)("Cancel","nggallery")),s().createElement("button",{type:"button",onClick:D,disabled:x,className:"px-4 py-2 text-sm font-medium text-white bg-green-500 border border-transparent rounded-md shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"},x?(0,f.__)("Adding...","nggallery"):(0,f.__)("Add Product","nggallery")))))))},digitalDownloads:function(t){var r=t.isOpen,a=t.onClose,o=t.pricelistId,l=t.onBack,u=t.onSuccess,d=(0,c.useState)({productName:"",price:"",maxDimension:""}),m=(0,i.A)(d,2),p=m[0],g=m[1],v=(0,c.useState)(!1),b=(0,i.A)(v,2),x=b[0],E=b[1],_=(0,c.useState)({productName:"",price:"",maxDimension:""}),C=(0,i.A)(_,2),N=C[0],O=C[1],S=(0,w.E)().showError,k=(0,le.f8)(),j=function(e,t){switch(e){case"productName":return t.trim()?"":(0,f.__)("Product name is required","nggallery");case"price":return t?parseFloat(t)<0?(0,f.__)("Please enter a valid price","nggallery"):"":(0,f.__)("Price is required","nggallery");case"maxDimension":return t&&(isNaN(parseInt(t))||parseInt(t)<0)?(0,f.__)("Please enter a valid maximum dimension","nggallery"):"";default:return""}},A=function(e,t){g(function(r){return Ie(Ie({},r),{},(0,y.A)({},e,t))}),N[e]&&O(function(t){return Ie(Ie({},t),{},(0,y.A)({},e,""))})},P=function(){var e=(0,n.A)(Pe().m(function e(){var t,r,n;return Pe().w(function(e){for(;;)switch(e.n){case 0:if(t={productName:j("productName",p.productName),price:j("price",p.price),maxDimension:j("maxDimension",p.maxDimension)},O(t),!Object.values(t).some(function(e){return e})){e.n=1;break}return e.a(2);case 1:r=p.maxDimension?parseInt(p.maxDimension):0,E(!0);try{n={id:-1e6*Math.random(),pricelist_id:o,title:p.productName,cost:0,price:parseFloat(p.price),source:"ngg_digital_downloads",category:"ngg_category_digital_downloads",resolution:r,sortorder:0,source_data:{resolution_type:"custom",max_dimension:r,digital_download:!0,catalog_id:null,product_id:null}},u&&u([n]),a()}catch(e){S((0,f.__)("Failed to add digital download product to pricelist","nggallery")),console.error("Error creating digital download pricelist item:",e)}finally{E(!1)}case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return s().createElement("div",{className:"relative"},s().createElement(h.A,{isOpen:r,onClose:function(){}},s().createElement("div",{className:"absolute top-0 left-0 right-0 z-10 bg-white border-b"},s().createElement("div",{className:"flex items-center justify-between p-4"},s().createElement("div",{className:"flex items-center gap-3"},s().createElement("button",{onClick:function(){null==l||l()},className:"flex items-center text-gray-600 hover:text-gray-800"},s().createElement(e.Jp,{className:"w-4 h-4"})),s().createElement("h2",{className:"text-lg font-medium text-gray-900"},(0,f.__)("Digital Downloads","nggallery"))),s().createElement("button",{onClick:a,className:"text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2","aria-label":"Close modal"},s().createElement("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))))),s().createElement("div",{className:"p-4"},s().createElement("div",{className:"space-y-6"},s().createElement("div",null,s().createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},(0,f.__)("New Product Name","nggallery")),s().createElement("input",{type:"text",value:p.productName,onChange:function(e){return A("productName",e.target.value)},placeholder:(0,f.__)("Low, Medium, or High Resolution","nggallery"),className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(N.productName?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300")}),N.productName&&s().createElement("p",{className:"mt-1 text-sm text-red-600"},N.productName)),s().createElement("div",null,s().createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},(0,f.__)("Price","nggallery")),s().createElement("div",{className:"relative"},s().createElement("span",{className:"absolute ".concat((0,le.Di)(k)," top-1/2 transform -translate-y-1/2 text-gray-500 text-sm")},k),s().createElement("input",{type:"number",min:"0",step:"1",value:p.price,onChange:function(e){return A("price",e.target.value)},onBlur:function(){if(p.price){var e=parseFloat(p.price);isNaN(e)||g(function(t){return Ie(Ie({},t),{},{price:e.toFixed(2)})})}},placeholder:(0,f.__)("0.00","nggallery"),className:"w-full ".concat((0,le.LX)(k).left," ").concat((0,le.LX)(k).right," py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ").concat(N.price?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300")})),N.price&&s().createElement("p",{className:"mt-1 text-sm text-red-600"},N.price)),s().createElement("div",null,s().createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},(0,f.__)("Longest Image Dimension","nggallery")),s().createElement("div",{className:"relative"},s().createElement("input",{type:"number",min:"0",value:p.maxDimension,onChange:function(e){return A("maxDimension",e.target.value)},placeholder:(0,f.__)("Enter 0 for maximum","nggallery"),className:"w-full pl-3 pr-8 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(N.maxDimension?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300")}),s().createElement("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm"},"px")),N.maxDimension&&s().createElement("p",{className:"mt-1 text-sm text-red-600"},N.maxDimension)),s().createElement("div",{className:"flex items-center justify-end gap-3 mt-8"},s().createElement("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"},(0,f.__)("Cancel","nggallery")),s().createElement("button",{type:"button",onClick:P,disabled:x,className:"px-4 py-2 text-sm font-medium text-white bg-green-500 border border-transparent rounded-md shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"},x?(0,f.__)("Adding...","nggallery"):(0,f.__)("Add Product","nggallery")))))))},bulkMarkup:function(e){var t=e.isOpen,r=e.onClose,n=e.pricelistId,a=e.currentSettings,o=e.onSuccess,l=(0,c.useState)({markupPercent:300,rounding:"zero"}),u=(0,i.A)(l,2),d=u[0],m=u[1],p=(0,q.dw)(n).data;(0,c.useEffect)(function(){if(t){var e=a||(null==p?void 0:p.settings),r=(null==e?void 0:e.bulk_markup_amount)||300,n=(null==e?void 0:e.bulk_markup_rounding)||"zero";m({markupPercent:Number(r),rounding:n})}},[t,a,p]);var g=function(e,t){m(function(r){return Q(Q({},r),{},(0,y.A)({},e,t))})};return s().createElement(h.A,{isOpen:t,onClose:r,title:(0,f.__)("Apply Markup to All Products","nggallery")},s().createElement("form",{onSubmit:function(e){e.preventDefault();var t="string"==typeof d.markupPercent?parseInt(d.markupPercent):d.markupPercent;!n||isNaN(t)||t<0||""===d.markupPercent||(null==o||o({markupPercent:t,rounding:d.rounding}),r())},className:"space-y-4"},s().createElement("div",null,s().createElement("label",{htmlFor:"markup-percent",className:"block text-sm font-medium text-gray-700 mb-1"},(0,f.__)("Markup Percent","nggallery")),s().createElement("input",{id:"markup-percent",type:"number",min:"0",max:"10000",step:"1",value:d.markupPercent,onChange:function(e){return g("markupPercent",""===e.target.value?"":parseInt(e.target.value)||0)},className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"400",required:!0})),s().createElement("div",null,s().createElement("label",{htmlFor:"rounding",className:"block text-sm font-medium text-gray-700 mb-1"},(0,f.__)("Round prices up to","nggallery")),s().createElement("select",{id:"rounding",value:d.rounding,onChange:function(e){return g("rounding",e.target.value)},className:"w-full block px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",style:{width:"100%",minWidth:"100%",maxWidth:"100%"}},[{value:"zero",label:".00"},{value:"cent",label:".99"},{value:"none",label:"No Rounding"}].map(function(e){return s().createElement("option",{key:e.value,value:e.value},e.label)}))),s().createElement("div",{className:"flex items-center justify-end gap-3 mt-8"},s().createElement("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"},(0,f.__)("Cancel","nggallery")),s().createElement("button",{type:"submit",disabled:""===d.markupPercent||"number"==typeof d.markupPercent&&d.markupPercent<0,className:"px-4 py-2 text-sm font-medium text-white bg-green-500 border border-transparent rounded-md shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"},(0,f.__)("Apply to All","nggallery")))))}};const Jt=function(){var e=(0,d.useDispatch)(u.E),t=(0,d.useSelect)(function(e){return e(u.E).getActiveModal()},[]);if(!t)return null;var r=t.type,n=t.props,a=$t[r];if(!a)return null;var o=null==n?void 0:n.onClose;return s().createElement(a,(0,g.A)({},n,{isOpen:!0,onClose:function(){if(o?o():e.setActiveModal(null),"imageUploader"===r)try{var t,n,a=document.querySelector("#toplevel_page_imagely");if(!a)return;var i=a.querySelector('ul.wp-submenu-wrap li a[href*="create_gallery=1"].current');if(!i)return;i.classList.remove("current"),null===(t=i.parentElement)||void 0===t||t.classList.remove("current");var l=a.querySelector('ul.wp-submenu-wrap li a[href*="page=imagely"]:not([href*="create_gallery"])');null==l||l.classList.add("current"),null==l||null===(n=l.parentElement)||void 0===n||n.classList.add("current")}catch(e){}}}))},er=function(t){var r,n,a,o,i=t.notification,l=t.onDismiss,c=t.showDismissButton,u=void 0===c||c;return s().createElement("div",{className:"p-3 sm:p-4 hover:bg-gray-50"},s().createElement("div",{className:"flex items-start space-x-2 sm:space-x-3"},s().createElement("div",{className:"flex-shrink-0 mt-1 text-gray-400"},function(t){switch(t){case"info":return s().createElement(e.mo,{className:"w-5 h-5"});case"percent":return s().createElement(e.R3,{className:"w-5 h-5"});case"check":return s().createElement(e.BK,{className:"w-5 h-5"});default:return s().createElement(e.L6,{className:"w-5 h-5"})}}(i.icon)),s().createElement("div",{className:"flex-1 min-w-0"},s().createElement("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 mb-1"},i.title),s().createElement("p",{className:"text-xs sm:text-sm text-gray-700 mb-2 sm:mb-3"},(a=i.content,(o=document.createElement("div")).innerHTML=a,o.textContent||o.innerText||"")),s().createElement("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3"},s().createElement("div",{className:"flex flex-wrap gap-2"},(null===(r=i.btns)||void 0===r?void 0:r.main)&&s().createElement("a",{href:i.btns.main.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-2 sm:px-3 py-1 border border-transparent text-xs font-medium rounded text-white bg-black hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"},i.btns.main.text),(null===(n=i.btns)||void 0===n?void 0:n.alt)&&s().createElement("a",{href:i.btns.alt.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-2 sm:px-3 py-1 border border-gray-300 text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"},i.btns.alt.text)),u&&s().createElement("button",{onClick:function(){l(i.id)},className:"text-xs text-gray-500 hover:text-gray-700 self-start sm:self-center"},(0,f.__)("Dismiss","nggallery"))))))},tr=function(){var t=(0,d.useDispatch)(),r=(0,c.useState)(!1),n=(0,i.A)(r,2),a=n[0],o=n[1],l=(0,d.useSelect)(function(e){var t,r,n=e(u.E).getInboxState();return{isOpen:(null==n?void 0:n.isOpen)||!1,activeNotifications:(null==n?void 0:n.active)||[],dismissedNotifications:(null==n?void 0:n.dismissed)||[],activeCounts:(null==n||null===(t=n.counts)||void 0===t?void 0:t.active)||0,dismissedCounts:(null==n||null===(r=n.counts)||void 0===r?void 0:r.dismissed)||0,loading:(null==n?void 0:n.loading)||!1,error:(null==n?void 0:n.error)||null}},[]),m=l.isOpen,p=l.activeNotifications,g=l.dismissedNotifications,h=l.activeCounts,y=l.dismissedCounts,v=l.loading,b=l.error;(0,c.useEffect)(function(){var e,t;e=h,(t=document.querySelector(".ngg-menu-notification-indicator"))&&(e>0?(t.textContent=e.toString(),t.style.display=""):t.style.display="none")},[h]);var w=function(){t(u.E).closeInboxPanel()},x=function(e){t(u.E).dismissInboxNotification(e)};if(s().useEffect(function(){var e=function(e){"Escape"===e.key&&m&&w()};if(m)return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}},[m]),!m)return null;var E=a?g:p,_=a?y:h;return s().createElement(s().Fragment,null,s().createElement("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-40",onClick:function(e){e.target===e.currentTarget&&w()}}),s().createElement("div",{className:"fixed top-10 md:top-6 right-0 bottom-0 w-full max-w-xs sm:w-80 md:w-96 lg:w-[28rem] xl:w-[32rem] 2xl:w-[36rem] bg-white shadow-lg border-l border-gray-200 z-50 flex flex-col"},s().createElement("div",{className:"bg-gray-100 border-b border-gray-200 p-3 sm:p-4 flex items-start sm:items-center justify-between"},s().createElement("div",{className:"flex-1 min-w-0 pr-2"},a?s().createElement("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900 truncate"},(0,f.__)("Notifications","nggallery")," (",_,")"):s().createElement("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900 truncate"},(0,f.__)("New Notifications","nggallery")," (",_,")"),s().createElement("button",{onClick:function(){o(!a)},className:"text-xs sm:text-sm text-blue-600 hover:text-blue-700 mt-1 block"},a?(0,f.__)("Active Notifications","nggallery"):(0,f.__)("Dismissed Notifications","nggallery"))),s().createElement("button",{onClick:w,className:"p-1 sm:p-2 hover:bg-gray-200 rounded-full flex-shrink-0","aria-label":(0,f.__)("Close notifications","nggallery")},s().createElement(e.US,{className:"w-5 h-5 sm:w-6 sm:h-6"}))),s().createElement("div",{className:"flex-1 overflow-y-auto"},v?s().createElement("div",{className:"flex items-center justify-center h-32"},s().createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})):b?s().createElement("div",{className:"p-3 sm:p-4 text-red-600 text-sm sm:text-base"},(0,f.__)("Error loading notifications:","nggallery")," ",b):0===E.length?s().createElement("div",{className:"p-3 sm:p-4 text-gray-500 text-center text-sm sm:text-base"},a?(0,f.__)("No dismissed notifications","nggallery"):(0,f.__)("No new notifications","nggallery")):s().createElement("div",{className:"divide-y divide-gray-200"},E.map(function(e){return s().createElement(er,{key:e.id,notification:e,onDismiss:x,showDismissButton:!a})}))),!a&&h>0&&s().createElement("div",{className:"border-t border-gray-200 p-3 sm:p-4"},s().createElement("button",{onClick:function(){t(u.E).dismissAllInboxNotifications()},className:"text-blue-600 hover:text-blue-700 text-xs sm:text-sm font-medium"},(0,f.__)("Dismiss all","nggallery")))))};var rr=a(4880),nr=a(9757),ar=a(6261),or=a(6500),ir=class extends or.Q{constructor(e={}){super(),this.config=e,this.#z=new Map}#z;build(e,t,r){const n=t.queryKey,a=t.queryHash??(0,rr.F$)(n,t);let o=this.get(a);return o||(o=new nr.X({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){this.#z.has(e.queryHash)||(this.#z.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#z.get(e.queryHash);t&&(e.destroy(),t===e&&this.#z.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ar.jG.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#z.get(e)}getAll(){return[...this.#z.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(e=>(0,rr.MK)(t,e))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,rr.MK)(e,t)):t}notify(e){ar.jG.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ar.jG.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ar.jG.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},lr=a(6158),cr=class extends or.Q{constructor(e={}){super(),this.config=e,this.#K=new Set,this.#W=new Map,this.#B=0}#K;#W;#B;build(e,t,r){const n=new lr.s({client:e,mutationCache:this,mutationId:++this.#B,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#K.add(e);const t=sr(e);if("string"==typeof t){const r=this.#W.get(t);r?r.push(e):this.#W.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#K.delete(e)){const t=sr(e);if("string"==typeof t){const r=this.#W.get(t);if(r)if(r.length>1){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&this.#W.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=sr(e);if("string"==typeof t){const r=this.#W.get(t),n=r?.find(e=>"pending"===e.state.status);return!n||n===e}return!0}runNext(e){const t=sr(e);if("string"==typeof t){const r=this.#W.get(t)?.find(t=>t!==e&&t.state.isPaused);return r?.continue()??Promise.resolve()}return Promise.resolve()}clear(){ar.jG.batch(()=>{this.#K.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#K.clear(),this.#W.clear()})}getAll(){return Array.from(this.#K)}find(e){const t={exact:!0,...e};return this.getAll().find(e=>(0,rr.nJ)(t,e))}findAll(e={}){return this.getAll().filter(t=>(0,rr.nJ)(e,t))}notify(e){ar.jG.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return ar.jG.batch(()=>Promise.all(e.map(e=>e.continue().catch(rr.lQ))))}};function sr(e){return e.options.scope?.id}var ur=a(9658),dr=a(6035);function mr(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],i=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const s=async()=>{let r=!1;const s=(0,rr.ZM)(t.options,t.fetchOptions),u=async(e,n,a)=>{if(r)return Promise.reject();if(null==n&&e.pages.length)return Promise.resolve(e);const o=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:n,direction:a?"backward":"forward",meta:t.options.meta};var o;return o=e,Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",()=>{r=!0}),t.signal)}),e})(),i=await s(o),{maxPages:l}=t.options,c=a?rr.ZZ:rr.y9;return{pages:c(e.pages,i,l),pageParams:c(e.pageParams,n,l)}};if(a&&o.length){const e="backward"===a,t={pages:o,pageParams:i},r=(e?pr:fr)(n,t);l=await u(t,r,e)}else{const t=e??o.length;do{const e=0===c?i[0]??n.initialPageParam:fr(n,l);if(c>0&&null==e)break;l=await u(l,e),c++}while(c<t)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(s,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=s}}}function fr(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function pr(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var gr=new class{#U;#o;#m;#V;#X;#Z;#Y;#$;constructor(e={}){this.#U=e.queryCache||new ir,this.#o=e.mutationCache||new cr,this.#m=e.defaultOptions||{},this.#V=new Map,this.#X=new Map,this.#Z=0}mount(){this.#Z++,1===this.#Z&&(this.#Y=ur.m.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#U.onFocus())}),this.#$=dr.t.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#U.onOnline())}))}unmount(){this.#Z--,0===this.#Z&&(this.#Y?.(),this.#Y=void 0,this.#$?.(),this.#$=void 0)}isFetching(e){return this.#U.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#o.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#U.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#U.build(this,t),n=r.state.data;return void 0===n?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime((0,rr.d2)(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#U.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=this.#U.get(n.queryHash),o=a?.state.data,i=(0,rr.Zw)(t,o);if(void 0!==i)return this.#U.build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return ar.jG.batch(()=>this.#U.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#U.get(t.queryHash)?.state}removeQueries(e){const t=this.#U;ar.jG.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const r=this.#U;return ar.jG.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ar.jG.batch(()=>this.#U.findAll(e).map(e=>e.cancel(r)));return Promise.all(n).then(rr.lQ).catch(rr.lQ)}invalidateQueries(e,t={}){return ar.jG.batch(()=>(this.#U.findAll(e).forEach(e=>{e.invalidate()}),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ar.jG.batch(()=>this.#U.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(rr.lQ)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(n).then(rr.lQ)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const r=this.#U.build(this,t);return r.isStaleByTime((0,rr.d2)(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(rr.lQ).catch(rr.lQ)}fetchInfiniteQuery(e){return e.behavior=mr(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(rr.lQ).catch(rr.lQ)}ensureInfiniteQueryData(e){return e.behavior=mr(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return dr.t.isOnline()?this.#o.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#U}getMutationCache(){return this.#o}getDefaultOptions(){return this.#m}setDefaultOptions(e){this.#m=e}setQueryDefaults(e,t){this.#V.set((0,rr.EN)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#V.values()],r={};return t.forEach(t=>{(0,rr.Cp)(e,t.queryKey)&&Object.assign(r,t.defaultOptions)}),r}setMutationDefaults(e,t){this.#X.set((0,rr.EN)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#X.values()],r={};return t.forEach(t=>{(0,rr.Cp)(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#m.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,rr.F$)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===rr.hT&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#m.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#U.clear(),this.#o.clear()}}({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5,retry:3,refetchOnWindowFocus:!1,refetchOnReconnect:!0,refetchOnMount:!0},mutations:{retry:1,onError:function(e){console.error("Mutation error:",e)}}}}),hr=function(e){var t=e.children;return s().createElement(D.Ht,{client:gr},t)},yr=a(5795),vr={},br=null,wr=function(){if(null!==document.getElementById("add-ngg-gallery-modal"))vr={};else{var e=new URLSearchParams(window.location.search);void 0!==vr.tab&&e.set("tab",vr.tab),void 0!==vr.subtab&&(null!==vr.subtab?e.set("subtab",vr.subtab):e.has("subtab")&&e.delete("subtab")),void 0!==vr.page&&e.set("page",vr.page),void 0!==vr.id&&(null!==vr.id?e.set("id",vr.id.toString()):e.has("id")&&e.delete("id"));var t="".concat(window.location.pathname,"?").concat(e.toString());window.history.pushState({},"",t),vr={},br=null}},xr=function(e){null!==document.getElementById("add-ngg-gallery-modal")||(Object.assign(vr,e),br&&clearTimeout(br),br=window.setTimeout(wr,0))};function Er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(r),!0).forEach(function(t){(0,y.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Er(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Cr(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return Nr(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(Nr(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Nr(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,Nr(d,"constructor",s),Nr(s,"constructor",c),c.displayName="GeneratorFunction",Nr(s,a,"GeneratorFunction"),Nr(d),Nr(d,a,"Generator"),Nr(d,n,function(){return this}),Nr(d,"toString",function(){return"[object Generator]"}),(Cr=function(){return{w:o,m}})()}function Nr(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Nr=function(e,t,r,n){function o(t,r){Nr(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},Nr(e,t,r,n)}var Or={router:{currentTab:new URLSearchParams(window.location.search).get("tab")||"general",currentSubTab:new URLSearchParams(window.location.search).get("subtab")||null,currentPage:new URLSearchParams(window.location.search).get("page")||"imagely",currentId:Number(new URLSearchParams(window.location.search).get("id"))||null},ui:{activeModal:null,notifications:[],inbox:{active:[],dismissed:[],counts:{active:0,dismissed:0},isOpen:!1,loading:!1,error:null},isPageLoading:!1}},Sr={DELETE_ITEM:(0,d.createRegistryControl)(function(){return function(e){var t,r=e.entityType,n=e.id,a=null===(t=window.imagelyApp)||void 0===t?void 0:t.nonce;return ee()({path:"/imagely/v1/".concat(r,"/").concat(n),method:"DELETE",headers:{"X-WP-Nonce":a,"Content-Type":"application/json"},parse:!1}).then(function(e){var t=e;return 204===t.status?null:t.json()})}}),FETCH_NOTIFICATIONS:(0,d.createRegistryControl)(function(){return function(){var e,t=null===(e=window.imagelyApp)||void 0===e?void 0:e.nonce;return ee()({path:"/imagely/v1/notifications",method:"GET",headers:{"X-WP-Nonce":t,"Content-Type":"application/json"}})}}),DISMISS_INBOX_NOTIFICATION:(0,d.createRegistryControl)(function(){return function(e){var t,r=e.id,n=null===(t=window.imagelyApp)||void 0===t?void 0:t.nonce;return ee()({path:"/imagely/v1/notifications/dismiss",method:"POST",headers:{"X-WP-Nonce":n,"Content-Type":"application/json"},data:{id:r}})}})},kr={setCurrentTab:function(e){return xr({tab:e}),{type:"SET_CURRENT_TAB",tab:e}},setCurrentSubTab:function(e){return xr({subtab:e}),{type:"SET_CURRENT_SUB_TAB",subTab:e}},setCurrentPage:function(e){return xr({page:e}),{type:"SET_CURRENT_PAGE",page:e}},setCurrentId:function(e){return xr({id:e}),{type:"SET_CURRENT_ID",id:e}},setRouterState:function(e,t,r,n){return{type:"SET_ROUTER_STATE",page:e,tab:t,subTab:r,id:n}},navigateTo:function(e,t,r,n){var a=null,o=null;return"number"==typeof r?(o=r,a=null):"string"==typeof r?(a=r,o=n||null):(a=null,o=n||null),xr({page:e,tab:t,subtab:a,id:o}),{type:"NAVIGATE_TO",page:e,tab:t,subTab:a,id:o}},setActiveModal:function(e,t){return{type:"SET_ACTIVE_MODAL",modalType:e,modalProps:t}},showNotice:function(e,t,r){var n={id:"notification-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),type:e,message:t,timestamp:Date.now(),dismissible:!1!==(null==r?void 0:r.dismissible),duration:(null==r?void 0:r.duration)||("error"===e?0:700)};return n.duration>0&&setTimeout(function(){var e;(null===(e=window.wp)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.select(u.E))&&window.wp.data.dispatch(u.E).dismissNotice(n.id)},n.duration),{type:"ADD_NOTIFICATION",notification:n}},dismissNotice:function(e){return{type:"DISMISS_NOTIFICATION",id:e}},clearAllNotices:function(){return{type:"CLEAR_ALL_NOTIFICATIONS"}},setPageLoading:function(e){return{type:"SET_PAGE_LOADING",loading:e}},setInboxLoading:function(e){return{type:"SET_INBOX_LOADING",loading:e}},setInboxError:function(e){return{type:"SET_INBOX_ERROR",error:e}},setInboxNotifications:function(e,t,r){return{type:"SET_INBOX_NOTIFICATIONS",active:e,dismissed:t,counts:r}},setInboxOpen:function(e){return{type:"SET_INBOX_OPEN",isOpen:e}},updateInboxCounts:function(e){return{type:"UPDATE_INBOX_COUNTS",counts:e}},deleteItem:Cr().m(function e(t,r){var n;return Cr().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,{type:"DELETE_ITEM",entityType:t,id:r};case 1:return e.a(2,!0);case 2:return e.p=2,n=e.v,console.error("Error deleting ".concat(t,":"),n),e.a(2,!1)}},e,null,[[0,2]])}),fetchInboxNotifications:Cr().m(function e(){var t,r;return Cr().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,kr.setInboxLoading(!0);case 1:return e.p=1,e.n=2,{type:"FETCH_NOTIFICATIONS"};case 2:return t=e.v,e.n=3,kr.setInboxNotifications(t.active,t.dismissed,t.counts);case 3:return e.n=4,kr.setInboxError(null);case 4:e.n=6;break;case 5:return e.p=5,r=e.v,e.n=6,kr.setInboxError(r.message);case 6:return e.p=6,e.n=7,kr.setInboxLoading(!1);case 7:return e.f(6);case 8:return e.a(2)}},e,null,[[1,5,6,8]])}),dismissInboxNotification:Cr().m(function e(t){var r,n;return Cr().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,{type:"DISMISS_INBOX_NOTIFICATION",id:t};case 1:return r=e.v,e.n=2,kr.updateInboxCounts(r.counts);case 2:return e.n=3,kr.fetchInboxNotifications();case 3:e.n=5;break;case 4:return e.p=4,n=e.v,e.n=5,kr.setInboxError(n.message);case 5:return e.a(2)}},e,null,[[0,4]])}),dismissAllInboxNotifications:Cr().m(function e(){var t,r;return Cr().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,{type:"DISMISS_INBOX_NOTIFICATION",id:"all"};case 1:return t=e.v,e.n=2,kr.updateInboxCounts(t.counts);case 2:return e.n=3,kr.fetchInboxNotifications();case 3:e.n=5;break;case 4:return e.p=4,r=e.v,e.n=5,kr.setInboxError(r.message);case 5:return e.a(2)}},e,null,[[0,4]])}),openInboxPanel:Cr().m(function e(){return Cr().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,kr.setInboxOpen(!0);case 1:return e.a(2)}},e)}),closeInboxPanel:Cr().m(function e(){return Cr().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,kr.setInboxOpen(!1);case 1:return e.a(2)}},e)})},jr={getCurrentTab:function(e){return e.router.currentTab},getCurrentSubTab:function(e){return e.router.currentSubTab},getCurrentPage:function(e){return e.router.currentPage},getCurrentId:function(e){return e.router.currentId},getRouteParams:function(e){return e.router},getActiveModal:function(e){return e.ui.activeModal},getNotifications:function(e){return e.ui.notifications},getPageLoading:function(e){return e.ui.isPageLoading},getUIState:function(e){return e.ui},getInboxState:function(e){return e.ui.inbox||Or.ui.inbox},getInboxActive:function(e){var t;return(null===(t=e.ui.inbox)||void 0===t?void 0:t.active)||[]},getInboxDismissed:function(e){var t;return(null===(t=e.ui.inbox)||void 0===t?void 0:t.dismissed)||[]},getInboxCounts:function(e){var t;return(null===(t=e.ui.inbox)||void 0===t?void 0:t.counts)||{active:0,dismissed:0}},getInboxActiveCount:function(e){var t;return(null===(t=e.ui.inbox)||void 0===t||null===(t=t.counts)||void 0===t?void 0:t.active)||0},getInboxDismissedCount:function(e){var t;return(null===(t=e.ui.inbox)||void 0===t||null===(t=t.counts)||void 0===t?void 0:t.dismissed)||0},getInboxIsOpen:function(e){var t;return(null===(t=e.ui.inbox)||void 0===t?void 0:t.isOpen)||!1},getInboxLoading:function(e){var t;return(null===(t=e.ui.inbox)||void 0===t?void 0:t.loading)||!1},getInboxError:function(e){var t;return(null===(t=e.ui.inbox)||void 0===t?void 0:t.error)||null}},Ar=(0,d.createReduxStore)(u.E,{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_TAB":return _r(_r({},e),{},{router:_r(_r({},e.router),{},{currentTab:t.tab})});case"SET_CURRENT_SUB_TAB":return _r(_r({},e),{},{router:_r(_r({},e.router),{},{currentSubTab:t.subTab})});case"SET_CURRENT_PAGE":return _r(_r({},e),{},{router:_r(_r({},e.router),{},{currentPage:t.page})});case"SET_CURRENT_ID":return _r(_r({},e),{},{router:_r(_r({},e.router),{},{currentId:t.id})});case"SET_ROUTER_STATE":case"NAVIGATE_TO":return _r(_r({},e),{},{router:{currentPage:t.page,currentTab:t.tab,currentSubTab:t.subTab,currentId:t.id}});case"SET_ACTIVE_MODAL":return _r(_r({},e),{},{ui:_r(_r({},e.ui),{},{activeModal:t.modalType?{type:t.modalType,props:t.modalProps||{}}:null})});case"ADD_NOTIFICATION":return _r(_r({},e),{},{ui:_r(_r({},e.ui),{},{notifications:[].concat((0,o.A)(e.ui.notifications),[t.notification])})});case"DISMISS_NOTIFICATION":return _r(_r({},e),{},{ui:_r(_r({},e.ui),{},{notifications:e.ui.notifications.filter(function(e){return e.id!==t.id})})});case"CLEAR_ALL_NOTIFICATIONS":return _r(_r({},e),{},{ui:_r(_r({},e.ui),{},{notifications:[]})});case"SET_PAGE_LOADING":return _r(_r({},e),{},{ui:_r(_r({},e.ui),{},{isPageLoading:t.loading})});case"SET_INBOX_LOADING":return _r(_r({},e),{},{ui:_r(_r({},e.ui),{},{inbox:_r(_r({},e.ui.inbox),{},{loading:t.loading})})});case"SET_INBOX_ERROR":return _r(_r({},e),{},{ui:_r(_r({},e.ui),{},{inbox:_r(_r({},e.ui.inbox),{},{error:t.error})})});case"SET_INBOX_NOTIFICATIONS":return _r(_r({},e),{},{ui:_r(_r({},e.ui),{},{inbox:_r(_r({},e.ui.inbox),{},{active:t.active,dismissed:t.dismissed,counts:t.counts})})});case"SET_INBOX_OPEN":return _r(_r({},e),{},{ui:_r(_r({},e.ui),{},{inbox:_r(_r({},e.ui.inbox),{},{isOpen:t.isOpen})})});case"UPDATE_INBOX_COUNTS":return _r(_r({},e),{},{ui:_r(_r({},e.ui),{},{inbox:_r(_r({},e.ui.inbox),{},{counts:t.counts})})});default:return e}},actions:kr,selectors:jr,controls:Sr});try{(0,d.register)(Ar)}catch(e){}const Pr=function(t){var n=t.children,a=t.embedContext,o=t.onClose,c=(0,r.useRef)(null),s=(0,r.useState)(!1),f=(0,i.A)(s,2),g=f[0],h=f[1];return(0,r.useEffect)(function(){var e=function(){try{var e=(0,d.select)(u.E);if(e&&"function"==typeof e.getCurrentPage)return h(!0),!0}catch(e){}return!1};if(!e()){var t=0,r=setInterval(function(){t++,(e()||t>=100)&&(clearInterval(r),t>=100&&h(!0))},50);return function(){return clearInterval(r)}}},[]),(0,r.useEffect)(function(){var e=document.body;e.style.overflow="hidden";var t=document.createElement("div");return t.setAttribute("id","add-ngg-gallery-modal-background"),e.appendChild(t),c.current=t,function(){e.style.overflow="auto",c.current&&e.contains(c.current)&&e.removeChild(c.current)}},[]),(0,yr.createPortal)(React.createElement("div",{id:"add-ngg-gallery-modal",className:"imagely imagely-wrap imagely-wrap-modal"},React.createElement("button",{id:"add-ngg-gallery-modal-close",onClick:function(e){e.preventDefault(),e.stopPropagation(),o()},"aria-label":"Close modal",type:"button",className:"fixed top-5 right-5 w-9 h-9 flex items-center justify-center bg-white rounded shadow-md hover:bg-gray-100 hover:shadow-lg transition-all duration-200 z-[999999] text-gray-600 hover:text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"},React.createElement(e.US,{className:"w-5 h-5"})),React.createElement("div",{className:"add-ngg-gallery-modal-content bg-gray-100"},g?React.createElement(hr,null,React.createElement(x.h,{value:a},n,React.createElement(Jt,null),React.createElement(m,null),React.createElement(tr,null),React.createElement(p,null))):React.createElement("div",{className:"flex items-center justify-center h-screen"},React.createElement(l.A,{size:"lg",color:"green"})))),document.body)};var Tr=function(e){var t=(0,d.useDispatch)(u.E),n=(0,x.X)();(0,r.useEffect)(function(){if(n.isEmbed&&null!=t&&t.setRouterState){var r=void 0!==e.id?e.id:null;t.setRouterState(e.page,e.tab||"general",e.subtab||null,r),e.modal&&t.setActiveModal&&setTimeout(function(){"albumCreate"===e.modal&&t.setActiveModal("album")},100)}},[e.page,e.tab,e.subtab,e.id,e.modal,t,n.isEmbed])},Dr=(0,c.lazy)(function(){return Promise.all([a.e(627),a.e(112),a.e(640)]).then(a.bind(a,640))}),Ir=function(e){var t=e.albumId;return Tr({page:"imagely-albums",tab:t?"galleries":"general",id:t,modal:t?null:"albumCreate"}),s().createElement(c.Suspense,{fallback:s().createElement(l.A,{size:"lg",color:"green"})},s().createElement(Dr,null))};const Lr=function(e){var t=e.albumId,r=e.onInsertAlbum,n=e.onClose;return s().createElement(Pr,{embedContext:{isEmbed:!0,onInsertAlbum:r,onClose:n},onClose:n},s().createElement(Ir,{albumId:t}))};var Rr=(0,c.lazy)(function(){return Promise.all([a.e(627),a.e(112),a.e(81)]).then(a.bind(a,9081))}),Fr=function(e){var t=e.galleryId;return Tr({page:"imagely-add-new",tab:t?"images":"general",id:t}),s().createElement(c.Suspense,{fallback:s().createElement(l.A,{size:"lg",color:"green"})},s().createElement(Rr,null))};const Gr=function(e){var t=e.galleryId,r=e.onInsertGallery,n=e.onClose;return s().createElement(Pr,{embedContext:{isEmbed:!0,onInsertGallery:r,onClose:n},onClose:n},s().createElement(Fr,{galleryId:t}))};var Mr=a(1313),qr=a(6629);function Hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hr(Object(r),!0).forEach(function(t){(0,y.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function zr(e,t){switch(t.type){case"SET_SEARCH_TERM":return Qr(Qr({},e),{},{searchTerm:t.payload});case"SET_SHOW_DROPDOWN":return Qr(Qr({},e),{},{showDropdown:t.payload});case"SET_IS_SEARCHING":return Qr(Qr({},e),{},{isSearching:t.payload});case"SET_HIGHLIGHTED_INDEX":return Qr(Qr({},e),{},{highlightedIndex:t.payload});case"SET_IS_KEYBOARD_NAV":return Qr(Qr({},e),{},{isKeyboardNav:t.payload});case"TOGGLE_DROPDOWN":return Qr(Qr({},e),{},{showDropdown:!e.showDropdown,isSearching:!1,isKeyboardNav:!1});case"CLOSE_DROPDOWN":return Qr(Qr({},e),{},{showDropdown:!1,isSearching:!1,highlightedIndex:0,isKeyboardNav:!1});case"OPEN_DROPDOWN_FOR_SEARCH":return Qr(Qr({},e),{},{showDropdown:!0,isSearching:!0});case"RESET_HIGHLIGHTED_INDEX":return Qr(Qr({},e),{},{highlightedIndex:0});default:return e}}const Kr=function(t){var r=t.id,n=t.name,a=t.value,o=t.onChange,l=t.options,u=t.placeholder,d=void 0===u?(0,f.__)("Select an option","nggallery"):u,m=t.label,p=t.help,g=t.tooltipPlacement,h=t.className,y=t.disabled,v=void 0!==y&&y,b=t.isLoading,w=void 0!==b&&b,x=(0,c.useMemo)(function(){return Array.isArray(l)?l.filter(function(e){return e&&"object"===(0,nt.A)(e)?void 0===e.value||null===e.value?(console.warn("SearchableSelect: Option missing value:",e),!1):!!e.label||(console.warn("SearchableSelect: Option missing label:",e),!1):(console.warn("SearchableSelect: Invalid option object:",e),!1)}):(console.error("SearchableSelect: options prop must be an array"),[])},[l]),E=(0,c.useReducer)(zr,{searchTerm:"",showDropdown:!1,isSearching:!1,highlightedIndex:0,isKeyboardNav:!1}),_=(0,i.A)(E,2),C=_[0],N=_[1],O=(0,c.useRef)(null),S=(0,c.useRef)(null),k=(0,c.useRef)(null),j=(0,c.useMemo)(function(){return x.find(function(e){return e.value===a})},[x,a]);(0,c.useEffect)(function(){N(a?{type:"SET_SEARCH_TERM",payload:(null==j?void 0:j.label)||""}:{type:"SET_SEARCH_TERM",payload:""})},[a,j]);var A=(0,c.useMemo)(function(){if(!C.isSearching||!C.searchTerm)return x;var e=C.searchTerm.toLowerCase();return x.filter(function(t){return t.label.toLowerCase().includes(e)||String(t.value).includes(C.searchTerm)})},[x,C.isSearching,C.searchTerm]);(0,c.useEffect)(function(){N({type:"RESET_HIGHLIGHTED_INDEX"})},[A.length]),(0,c.useEffect)(function(){if(C.showDropdown&&C.isKeyboardNav&&O.current){var e=O.current.querySelector('[data-index="'.concat(C.highlightedIndex,'"]'));e&&e.scrollIntoView({block:"nearest",behavior:"smooth"})}},[C.highlightedIndex,C.showDropdown,C.isKeyboardNav]),(0,c.useEffect)(function(){if(C.showDropdown&&a&&O.current){var e=A.findIndex(function(e){return e.value===a});return-1!==e?(N({type:"SET_HIGHLIGHTED_INDEX",payload:e}),k.current=window.setTimeout(function(){var t,r=null===(t=O.current)||void 0===t?void 0:t.querySelector('[data-index="'.concat(e,'"]'));r&&r.scrollIntoView({block:"center",behavior:"smooth"})},0),function(){null!==k.current&&(clearTimeout(k.current),k.current=null)}):void 0}},[C.showDropdown,a,A]);var P=(0,c.useCallback)(function(){v||N({type:"TOGGLE_DROPDOWN"})},[v]),T=(0,c.useCallback)(function(){N({type:"CLOSE_DROPDOWN"})},[]),D=(0,c.useCallback)(function(e){var t;o(e),T(),null===(t=S.current)||void 0===t||t.blur()},[o,T]),I=(0,c.useCallback)(function(e){var t;if(!v)switch(e.key){case"ArrowDown":e.preventDefault(),N({type:"SET_IS_KEYBOARD_NAV",payload:!0}),C.showDropdown?N({type:"SET_HIGHLIGHTED_INDEX",payload:Math.min(C.highlightedIndex+1,A.length-1)}):(N({type:"SET_SHOW_DROPDOWN",payload:!0}),N({type:"SET_IS_SEARCHING",payload:!1}));break;case"ArrowUp":e.preventDefault(),N({type:"SET_IS_KEYBOARD_NAV",payload:!0}),C.showDropdown?N({type:"SET_HIGHLIGHTED_INDEX",payload:Math.max(C.highlightedIndex-1,0)}):(N({type:"SET_SHOW_DROPDOWN",payload:!0}),N({type:"SET_IS_SEARCHING",payload:!1}));break;case"Enter":e.preventDefault(),C.showDropdown&&A[C.highlightedIndex]?D(A[C.highlightedIndex].value):C.showDropdown||P();break;case"Escape":e.preventDefault(),T(),null===(t=S.current)||void 0===t||t.blur();break;case"Tab":C.showDropdown&&T();break;default:C.showDropdown||N({type:"SET_SHOW_DROPDOWN",payload:!0}),N({type:"SET_IS_SEARCHING",payload:!0})}},[v,C.showDropdown,C.highlightedIndex,A,D,P,T]),L=(0,Mr.L)(function(){T()},C.showDropdown);return s().createElement("div",{ref:L,className:h},m&&s().createElement(qr.A,{htmlFor:r,help:p,tooltipPlacement:g},m),s().createElement("div",{className:"relative"},s().createElement("button",{type:"button",onClick:P,disabled:v||w,className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 hover:text-gray-600 cursor-pointer bg-transparent border-none p-0 disabled:cursor-not-allowed disabled:opacity-50","aria-label":(0,f.__)("Toggle dropdown","nggallery"),tabIndex:-1},s().createElement(e.WI,{className:"w-full h-full"})),s().createElement("input",{ref:S,type:"text",id:r,name:n,value:C.searchTerm,onChange:function(e){N({type:"SET_SEARCH_TERM",payload:e.target.value}),N({type:"OPEN_DROPDOWN_FOR_SEARCH"})},onFocus:function(){x.length>0&&(N({type:"SET_IS_SEARCHING",payload:!1}),N({type:"SET_IS_KEYBOARD_NAV",payload:!1}),N({type:"SET_SHOW_DROPDOWN",payload:!0}))},onKeyDown:I,placeholder:d,disabled:v||w,className:"w-full pl-10 pr-10 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-900 disabled:bg-gray-100 disabled:cursor-not-allowed","aria-label":d,"aria-expanded":C.showDropdown,"aria-haspopup":"listbox",role:"combobox","aria-controls":"".concat(r,"-listbox"),autoComplete:"off"}),x.length>0&&s().createElement("button",{type:"button",onClick:P,disabled:v||w,className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 hover:text-gray-600 cursor-pointer bg-transparent border-none p-0 disabled:cursor-not-allowed disabled:opacity-50","aria-label":(0,f.__)("Toggle dropdown","nggallery"),tabIndex:-1},s().createElement(e.D3,{className:"w-full h-full"})),s().createElement("div",{role:"status","aria-live":"polite","aria-atomic":"true",className:"sr-only"},C.showDropdown&&C.isSearching&&A.length>0&&(0,f.sprintf)((0,f.__)("%d results found","nggallery"),A.length),C.showDropdown&&C.isSearching&&0===A.length&&(0,f.__)("No results found","nggallery")),C.showDropdown&&A.length>0&&s().createElement("div",{ref:O,id:"".concat(r,"-listbox"),role:"listbox",className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto text-gray-900"},A.map(function(e,t){var r=e.value===a,n=t===C.highlightedIndex;return s().createElement("div",{key:e.value,"data-index":t,role:"option","aria-selected":r,className:"w-full text-left text-sm px-4 py-2 cursor-pointer transition-colors ".concat(r?"bg-green-50 text-green-900 font-medium":n?"bg-gray-100":"hover:bg-gray-100"),onMouseEnter:function(){N({type:"SET_IS_KEYBOARD_NAV",payload:!1}),N({type:"SET_HIGHLIGHTED_INDEX",payload:t})},onMouseDown:function(t){t.preventDefault(),D(e.value)}},e.label)})),C.showDropdown&&C.isSearching&&C.searchTerm&&0===A.length&&s().createElement("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg px-4 py-3 text-gray-500 text-sm"},(0,f.sprintf)((0,f.__)('No results found for "%s"',"nggallery"),C.searchTerm))))};var Wr=a(1648);const Br=function(e){var t=e.isOpen,r=e.children,n=e.zIndex,a=void 0===n?15e4:n;return(0,c.useEffect)(function(){return document.body.style.overflow=t?"hidden":"unset",function(){document.body.style.overflow="unset"}},[t]),t?(0,yr.createPortal)(s().createElement(hr,null,s().createElement("div",{className:"imagely imagely-wrap imagely-wrap-block-modal-portal",style:{position:"fixed",inset:0,zIndex:a}},r)),document.body):null};function Ur(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return Vr(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,l=0,c=e,m.n=r,i}};function f(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],f=m.p,p=o[2];r>3?(a=p===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,m.v=n,m.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,m.n=p,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(Vr(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Vr(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,Vr(d,"constructor",s),Vr(s,"constructor",c),c.displayName="GeneratorFunction",Vr(s,a,"GeneratorFunction"),Vr(d),Vr(d,a,"Generator"),Vr(d,n,function(){return this}),Vr(d,"toString",function(){return"[object Generator]"}),(Ur=function(){return{w:o,m}})()}function Vr(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Vr=function(e,t,r,n){function o(t,r){Vr(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},Vr(e,t,r,n)}const Xr=function(e){var t=e.content,a=e.onInsertShortcode,c=e.blockId,s=(0,r.useState)("gallery"),m=(0,i.A)(s,2),p=m[0],g=m[1],h=(0,r.useState)(!1),y=(0,i.A)(h,2),v=y[0],b=y[1],w=(0,r.useState)("selection"),x=(0,i.A)(w,2),E=x[0],_=x[1],C=(0,r.useState)(!1),O=(0,i.A)(C,2),S=O[0],k=O[1],j=(0,r.useState)(!1),A=(0,i.A)(j,2),P=A[0],T=A[1],D=(0,r.useState)(!1),I=(0,i.A)(D,2),L=I[0],R=I[1],F=(0,r.useState)(!1),G=(0,i.A)(F,2),M=G[0],q=G[1],H=(0,r.useState)(!1),Q=(0,i.A)(H,2),z=Q[0],K=Q[1],W=(0,r.useState)(null),B=(0,i.A)(W,2),U=B[0],V=B[1],X=(0,r.useState)([]),Z=(0,i.A)(X,2),Y=Z[0],$=Z[1],J=(0,r.useState)([]),te=(0,i.A)(J,2),re=te[0],ne=te[1],ae=(0,r.useState)(null),oe=(0,i.A)(ae,2),ie=oe[0],le=oe[1],ce=(0,r.useState)(null),se=(0,i.A)(ce,2),ue=se[0],de=se[1],me=(0,r.useState)(null),fe=(0,i.A)(me,2),pe=fe[0],ge=fe[1],he=(0,d.useSelect)(function(e){try{var t,r=e(u.E);return{isPageLoading:(null==r||null===(t=r.getPageLoading)||void 0===t?void 0:t.call(r))||!1}}catch(e){return{isPageLoading:!1}}},[]),ye=he.isPageLoading,ve=(0,r.useCallback)(function(e){"gallery"===p?$(function(t){return t.some(function(t){return t.id===e})?t:[{id:e,galleryTitle:"#".concat(e)}].concat((0,o.A)(t))}):ne(function(t){return t.some(function(t){return t.id===e})?t:[{id:e,albumTitle:"#".concat(e)}].concat((0,o.A)(t))})},[p]),be=(0,r.useCallback)(function(e){e!==p&&(g(e),le(null),de(null),V(null),b(!0),_("selection"),a(""))},[p,a]),we=(0,r.useCallback)((0,n.A)(Ur().m(function e(){var t,r,n,a,o,i,l,c,s=arguments;return Ur().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r="gallery"===(t=p)?Y:re,s.length>0&&void 0!==s[0]&&s[0]||!(r.length>0)){e.n=1;break}return e.a(2);case 1:return e.p=1,q(!0),V(null),a=null===(n=window.add_ngg_gallery_block_i18n)||void 0===n?void 0:n.restNonce,o="gallery"===t?"galleries":"albums",i="gallery"===t?"galleryTitle":"albumTitle",e.n=2,ee()({path:"/imagely/v1/".concat(o,"?per_page=999&_fields=id,").concat(i,",thumbnail,count"),method:"GET",headers:{"X-WP-Nonce":a}});case 2:l=e.v,t===p&&("gallery"===t?$(Array.isArray(l)?l:[]):ne(Array.isArray(l)?l:[]),q(!1)),e.n=4;break;case 3:e.p=3,c=e.v,console.error("Failed to load ".concat("gallery"===t?"galleries":"albums",":"),c),t===p&&(V((0,f.sprintf)((0,f.__)("Unable to load %s. Please refresh the page.","nggallery"),"gallery"===t?(0,f.__)("galleries","nggallery"):(0,f.__)("albums","nggallery"))),q(!1));case 4:return e.a(2)}},e,null,[[1,3]])})),[p,Y,re]),xe=(0,r.useCallback)(function(){var e=(0,n.A)(Ur().m(function e(t,r){var n,a,o,i,l,c,s;return Ur().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,K(!0),V(null),a=null===(n=window.add_ngg_gallery_block_i18n)||void 0===n?void 0:n.restNonce,o="gallery"===r?"galleries":"albums",i="gallery"===r?"title":"name",e.n=1,ee()({path:"/imagely/v1/".concat(o,"/").concat(t,"?_fields=id,").concat(i,",previewpic_url,counter"),method:"GET",headers:{"X-WP-Nonce":a}});case 1:l=e.v,p===r&&ie===t&&(c={id:l.id,galleryTitle:"gallery"===r?l.title:void 0,albumTitle:"album"===r?l.name:void 0,thumbnail:l.previewpic_url||"",count:l.counter||0},de(c),K(!1)),e.n=3;break;case 2:e.p=2,s=e.v,console.error("Failed to fetch ".concat(r,":"),s),p===r&&(V((0,f.sprintf)((0,f.__)("Unable to load %s details.","nggallery"),r)),K(!1));case 3:return e.a(2)}},e,null,[[0,2]])}));return function(t,r){return e.apply(this,arguments)}}(),[p,ie]);(0,r.useEffect)(function(){we()},[p,we]);var Ee=(0,r.useCallback)(function(e){if(!e)return{mode:"gallery",id:null};try{var t=e.toString(),r=t.match(/\[imagely\s+album\s*=\s*["']?(\d+)/i);if(r&&r[1])return{mode:"album",id:parseInt(r[1],10)};var n=t.match(/\[imagely\s+id\s*=\s*["']?(\d+)/i);if(n&&n[1])return{mode:"gallery",id:parseInt(n[1],10)}}catch(e){console.error("Failed to extract from content:",e)}return{mode:"gallery",id:null}},[]);(0,r.useEffect)(function(){if(!v){if(!t)return _("selection"),void de(null);var e=Ee(t),r=e.mode,n=e.id;"selection"!==E?(g(r),n?(le(n),xe(n,r),_("preview")):(_("selection"),de(null))):n&&n!==ie&&(g(r),le(n),xe(n,r),_("preview"))}},[t,Ee,v,xe,E,ie]),(0,r.useEffect)(function(){v&&t&&Ee(t).mode===p&&b(!1)},[t,p,v,Ee]);var _e=(0,r.useCallback)(function(){("gallery"===p?(0,Wr.HN)():(0,Wr.jP)())?k(!0):R(!0)},[p]),Ce=function(){return k(!1)},Ne=(0,r.useCallback)(function(e){ge(e||null),T(!0)},[ie]),Oe=function(){T(!1),ge(null)},Se=(0,r.useCallback)(function(e){Ce(),ve(e),le(e),Ne(e),we(!0)},[ve,Ne,we]),ke=(0,r.useCallback)(function(e){var t="string"==typeof e?parseInt(e,10):e,r=t&&!isNaN(t)?t:null;le(r),ge(null)},[]),je=(0,r.useCallback)(function(){if(ie){b(!1);var e="gallery"===p?'[imagely id="'.concat(ie,'"]'):'[imagely album="'.concat(ie,'"]');a(e),xe(ie,p),_("preview")}},[ie,p,a,xe]),Ae=(0,r.useCallback)(function(){_("selection"),de(null)},[]),Pe=(0,r.useCallback)(function(e){ve(e),le(e);var t="gallery"===p?'[imagely id="'.concat(e,'"]'):'[imagely album="'.concat(e,'"]');a(t),xe(e,p),_("preview"),we(!0)},[ve,p,a,xe,we]),Te="gallery"===p?Y:re,De="gallery"===p?(0,f.__)("Gallery","nggallery"):(0,f.__)("Album","nggallery"),Ie=De.toLowerCase(),Le=Te.map(function(e){return{value:e.id,label:"gallery"===p?e.galleryTitle||"#".concat(e.id):e.albumTitle||"#".concat(e.id)}});return React.createElement("div",{className:"imagely-wrap imagely-wrap-block",style:{margin:"0 !important"}},React.createElement(Br,{isOpen:L},React.createElement(Ct,{isOpen:L,onClose:function(){return R(!1)},action:"create new ".concat("gallery"===p?"galleries":"albums")})),"gallery"===p&&React.createElement(Br,{isOpen:S},React.createElement(ht,{isOpen:S,onClose:Ce,onGalleryCreated:Se})),"album"===p&&React.createElement(Br,{isOpen:S},React.createElement(N,{isOpen:S,onClose:Ce,onAlbumCreated:Se})),"gallery"===p&&P&&React.createElement(Gr,{galleryId:pe||ie,onInsertGallery:function(e){Pe(e),Oe()},onClose:Oe}),"album"===p&&P&&React.createElement(Lr,{albumId:pe||ie,onInsertAlbum:function(e){Pe(e),Oe()},onClose:Oe}),React.createElement("div",{className:"bg-white rounded-md shadow-md min-h-[210px] flex justify-center items-center flex-wrap relative"},ye&&React.createElement("div",{className:"absolute inset-0 bg-white bg-opacity-90 flex items-center justify-center z-10 rounded-md"},React.createElement(l.A,{size:"lg",color:"green",text:(0,f.sprintf)((0,f.__)("Creating %s...","nggallery"),De),centerInContainer:!1})),React.createElement("h3",{className:"text-black text-2xl tracking-wide pt-0 pb-[17px] mb-[32px] mt-[17px] px-5 w-full border-b border-gray-200"},(0,f.__)("Imagely","nggallery")),"selection"===E&&React.createElement("div",{className:"flex justify-center border-b border-gray-200 w-full mx-[32px] mb-[32px]"},React.createElement("button",{type:"button",id:"block-".concat(c,"-tab-gallery"),className:"px-6 py-3 text-sm uppercase transition-colors rounded-t-md border-b-2 w-1/2 ".concat("gallery"===p?"text-gray-900 bg-gray-100 border-green-300":"text-gray-800 bg-transparent border-transparent hover:text-gray-900 hover:bg-gray-100 hover:border-gray-100"),onClick:function(){return be("gallery")},"aria-label":(0,f.__)("Switch to Gallery mode","nggallery")},(0,f.__)("Gallery","nggallery")," (",Y.length,")"),React.createElement("button",{type:"button",id:"block-".concat(c,"-tab-album"),className:"px-6 py-3 text-sm uppercase transition-colors rounded-t-md border-b-2 w-1/2 ".concat("album"===p?"text-gray-900 bg-gray-100 border-green-300":"text-gray-800 bg-transparent border-transparent hover:text-gray-900 hover:bg-gray-100 hover:border-gray-100"),onClick:function(){return be("album")},"aria-label":(0,f.__)("Switch to Album mode","nggallery")},(0,f.__)("Album","nggallery")," (",re.length,")")),U&&React.createElement("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded w-full mx-[32px] mb-4"},React.createElement("p",null,U)),"selection"===E&&React.createElement(React.Fragment,null,React.createElement("div",{className:"w-full mx-[32px] mb-[32px]"},React.createElement("div",{className:"flex gap-2 items-start"},React.createElement(Kr,{id:"block-".concat(c,"-search-input"),name:"imagely-".concat(p,"-select"),value:ie,onChange:ke,options:Le,placeholder:(0,f.sprintf)((0,f.__)("Select %s","nggallery"),De),className:"flex-1",isLoading:M}),React.createElement("button",{type:"button",id:"block-".concat(c,"-create-new-btn"),className:"text-sm text-green-600 hover:text-green-700 bg-transparent border-none shadow-none py-2 px-2 text-center cursor-pointer transition-colors whitespace-nowrap flex items-center gap-1",onClick:_e,"aria-label":(0,f.sprintf)((0,f.__)("Create %s","nggallery"),Ie)},React.createElement("span",{className:"text-lg leading-none"},"+"),(0,f.__)("Create New","nggallery")))),React.createElement("div",{className:"w-full text-center mb-[32px] flex justify-center gap-4"},React.createElement("button",{type:"button",id:"block-".concat(c,"-insert-btn"),disabled:!ie,className:"text-sm tracking-[1.2px] leading-5 border-none shadow-sm py-3 px-6 rounded-md uppercase text-center transition-colors relative z-0 ".concat(ie?"text-white bg-green-600 hover:bg-green-700 cursor-pointer":"text-gray-400 bg-gray-100 cursor-not-allowed"),onClick:je,"aria-label":(0,f.sprintf)((0,f.__)("Insert selected %s","nggallery"),Ie)},(0,f.__)("Insert","nggallery")),React.createElement("button",{type:"button",id:"block-".concat(c,"-edit-btn"),disabled:!ie,className:"text-sm tracking-[1.2px] leading-5 shadow-sm py-3 px-6 rounded-md uppercase text-center transition-colors relative z-0 ".concat(ie?"text-gray-700 bg-white hover:bg-gray-50 cursor-pointer border border-black":"text-gray-400 bg-gray-100 cursor-not-allowed border-none"),onClick:function(){return ie&&Ne()},"aria-label":(0,f.sprintf)((0,f.__)("Edit selected %s","nggallery"),Ie)},(0,f.__)("Edit","nggallery")))),"preview"===E&&React.createElement(React.Fragment,null,z?React.createElement("div",{className:"w-full flex justify-center items-center py-12"},React.createElement(l.A,{size:"lg",color:"green",text:(0,f.__)("Loading...","nggallery"),centerInContainer:!1})):ue?React.createElement(React.Fragment,null,React.createElement("div",{className:"w-full mx-[32px] mb-[24px] flex flex-col items-center"},React.createElement("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer flex items-center p-4 gap-4 max-w-[500px] w-full",onClick:function(){return Ne()},role:"button",tabIndex:0,onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),Ne())},"aria-label":(0,f.sprintf)((0,f.__)("Click to edit %s","nggallery"),Ie)},ue.thumbnail?React.createElement("div",{className:"flex-shrink-0 w-24 h-24 bg-gray-50 rounded-md overflow-hidden"},React.createElement("img",{src:ue.thumbnail,alt:"gallery"===p?ue.galleryTitle:ue.albumTitle,className:"w-full h-full object-cover"})):React.createElement("div",{className:"flex-shrink-0 w-24 h-24 bg-gray-100 rounded-md flex items-center justify-center"},React.createElement("span",{className:"text-gray-400 text-xs"},(0,f.__)("No preview","nggallery"))),React.createElement("div",{className:"flex-1 min-w-0"},React.createElement("h4",{className:"text-xl font-semibold text-gray-900 mb-1 truncate",title:"gallery"===p?ue.galleryTitle:ue.albumTitle},"gallery"===p?ue.galleryTitle:ue.albumTitle),React.createElement("p",{className:"text-gray-600 text-sm"},"gallery"===p?(0,f.sprintf)((0,f.__)("%d images","nggallery"),ue.count||0):(0,f.sprintf)((0,f.__)("%d galleries","nggallery"),ue.count||0))))),React.createElement("div",{className:"w-full text-center mb-[32px] flex justify-center"},React.createElement("button",{type:"button",id:"block-".concat(c,"-change-btn"),className:"text-sm tracking-[1.2px] leading-5 border border-gray-300 shadow-sm py-3 px-6 rounded-md uppercase text-center transition-colors relative z-0 text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",onClick:Ae,"aria-label":(0,f.sprintf)((0,f.__)("Change %s","nggallery"),Ie)},(0,f.__)("Change","nggallery")))):null)))};var Zr={icon:React.createElement(e.ic,null),edit:function(e){var t=e.attributes,r=e.setAttributes,n=e.clientId;return React.createElement(Xr,{content:t.content||"",onInsertShortcode:function(e){return r({content:e})},blockId:n})},save:function(e){var t=e.attributes;return React.createElement(r.RawHTML,null,t.content||"")}};(0,t.registerBlockType)("imagely/main-block",Zr)})()})();